{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"./storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":110},"end":{"line":4,"column":66,"index":176}}],"key":"3rLtLV8J3gSw9c8Ep8Wpc3w/Yxg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AUTH_TOKEN_KEY\", {\n    enumerable: true,\n    get: function () {\n      return AUTH_TOKEN_KEY;\n    }\n  });\n  Object.defineProperty(exports, \"AUTH_USERNAME_KEY\", {\n    enumerable: true,\n    get: function () {\n      return AUTH_USERNAME_KEY;\n    }\n  });\n  exports.saveAuthData = saveAuthData;\n  exports.loadAuthToken = loadAuthToken;\n  exports.loadAuthUsername = loadAuthUsername;\n  exports.clearAuthData = clearAuthData;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _storage = require(_dependencyMap[1], \"./storage\");\n  // /app/frontend/lib/authStorage.ts\n  // Canonical auth persistence - single source of truth for token storage\n\n  var AUTH_TOKEN_KEY = '@idledevotion/auth/token';\n  var AUTH_USERNAME_KEY = '@idledevotion/auth/username';\n  function saveAuthData(_x, _x2) {\n    return _saveAuthData.apply(this, arguments);\n  }\n  function _saveAuthData() {\n    _saveAuthData = (0, _asyncToGenerator.default)(function* (username, token) {\n      yield (0, _storage.storageSet)(AUTH_USERNAME_KEY, username);\n      yield (0, _storage.storageSet)(AUTH_TOKEN_KEY, token);\n      if (__DEV__) console.log('[authStorage] Saved auth data for:', username);\n    });\n    return _saveAuthData.apply(this, arguments);\n  }\n  function loadAuthToken() {\n    return _loadAuthToken.apply(this, arguments);\n  }\n  function _loadAuthToken() {\n    _loadAuthToken = (0, _asyncToGenerator.default)(function* () {\n      var token = yield (0, _storage.storageGet)(AUTH_TOKEN_KEY);\n      if (__DEV__) console.log('[authStorage] Loaded token:', token ? '(exists)' : '(null)');\n      return token;\n    });\n    return _loadAuthToken.apply(this, arguments);\n  }\n  function loadAuthUsername() {\n    return _loadAuthUsername.apply(this, arguments);\n  }\n  function _loadAuthUsername() {\n    _loadAuthUsername = (0, _asyncToGenerator.default)(function* () {\n      return (0, _storage.storageGet)(AUTH_USERNAME_KEY);\n    });\n    return _loadAuthUsername.apply(this, arguments);\n  }\n  function clearAuthData() {\n    return _clearAuthData.apply(this, arguments);\n  }\n  function _clearAuthData() {\n    _clearAuthData = (0, _asyncToGenerator.default)(function* () {\n      yield (0, _storage.storageRemove)(AUTH_USERNAME_KEY);\n      yield (0, _storage.storageRemove)(AUTH_TOKEN_KEY);\n      if (__DEV__) console.log('[authStorage] Cleared auth data');\n    });\n    return _clearAuthData.apply(this, arguments);\n  }\n});","lineCount":78,"map":[[12,2,6,0,"Object"],[12,8,6,0],[12,9,6,0,"defineProperty"],[12,23,6,0],[12,24,6,0,"exports"],[12,31,6,0],[13,4,6,0,"enumerable"],[13,14,6,0],[14,4,6,0,"get"],[14,7,6,0],[14,18,6,0,"get"],[14,19,6,0],[15,6,6,0],[15,13,6,0,"AUTH_TOKEN_KEY"],[15,27,6,0],[16,4,6,0],[17,2,6,0],[18,2,7,0,"Object"],[18,8,7,0],[18,9,7,0,"defineProperty"],[18,23,7,0],[18,24,7,0,"exports"],[18,31,7,0],[19,4,7,0,"enumerable"],[19,14,7,0],[20,4,7,0,"get"],[20,7,7,0],[20,18,7,0,"get"],[20,19,7,0],[21,6,7,0],[21,13,7,0,"AUTH_USERNAME_KEY"],[21,30,7,0],[22,4,7,0],[23,2,7,0],[24,2,9,0,"exports"],[24,9,9,0],[24,10,9,0,"saveAuthData"],[24,22,9,0],[24,25,9,0,"saveAuthData"],[24,37,9,0],[25,2,15,0,"exports"],[25,9,15,0],[25,10,15,0,"loadAuthToken"],[25,23,15,0],[25,26,15,0,"loadAuthToken"],[25,39,15,0],[26,2,21,0,"exports"],[26,9,21,0],[26,10,21,0,"loadAuthUsername"],[26,26,21,0],[26,29,21,0,"loadAuthUsername"],[26,45,21,0],[27,2,25,0,"exports"],[27,9,25,0],[27,10,25,0,"clearAuthData"],[27,23,25,0],[27,26,25,0,"clearAuthData"],[27,39,25,0],[28,2,29,1],[28,6,29,1,"_babelRuntimeHelpersAsyncToGenerator"],[28,42,29,1],[28,45,29,1,"require"],[28,52,29,1],[28,53,29,1,"_dependencyMap"],[28,67,29,1],[29,2,29,1],[29,6,29,1,"_asyncToGenerator"],[29,23,29,1],[29,26,29,1,"_interopDefault"],[29,41,29,1],[29,42,29,1,"_babelRuntimeHelpersAsyncToGenerator"],[29,78,29,1],[30,2,4,0],[30,6,4,0,"_storage"],[30,14,4,0],[30,17,4,0,"require"],[30,24,4,0],[30,25,4,0,"_dependencyMap"],[30,39,4,0],[31,2,1,0],[32,2,2,0],[34,2,6,7],[34,6,6,13,"AUTH_TOKEN_KEY"],[34,20,6,27],[34,23,6,30],[34,49,6,56],[35,2,7,7],[35,6,7,13,"AUTH_USERNAME_KEY"],[35,23,7,30],[35,26,7,33],[35,55,7,62],[36,2,7,63],[36,11,9,22,"saveAuthData"],[36,23,9,34,"saveAuthData"],[36,24,9,34,"_x"],[36,26,9,34],[36,28,9,34,"_x2"],[36,31,9,34],[37,4,9,34],[37,11,9,34,"_saveAuthData"],[37,24,9,34],[37,25,9,34,"apply"],[37,30,9,34],[37,37,9,34,"arguments"],[37,46,9,34],[38,2,9,34],[39,2,9,34],[39,11,9,34,"_saveAuthData"],[39,25,9,34],[40,4,9,34,"_saveAuthData"],[40,17,9,34],[40,24,9,34,"_asyncToGenerator"],[40,41,9,34],[40,42,9,34,"default"],[40,49,9,34],[40,51,9,7],[40,62,9,35,"username"],[40,70,9,51],[40,72,9,53,"token"],[40,77,9,66],[40,79,9,68],[41,6,10,2],[41,12,10,8],[41,16,10,8,"storageSet"],[41,24,10,18],[41,25,10,18,"storageSet"],[41,35,10,18],[41,37,10,19,"AUTH_USERNAME_KEY"],[41,54,10,36],[41,56,10,38,"username"],[41,64,10,46],[41,65,10,47],[42,6,11,2],[42,12,11,8],[42,16,11,8,"storageSet"],[42,24,11,18],[42,25,11,18,"storageSet"],[42,35,11,18],[42,37,11,19,"AUTH_TOKEN_KEY"],[42,51,11,33],[42,53,11,35,"token"],[42,58,11,40],[42,59,11,41],[43,6,12,2],[43,10,12,6,"__DEV__"],[43,17,12,13],[43,19,12,15,"console"],[43,26,12,22],[43,27,12,23,"log"],[43,30,12,26],[43,31,12,27],[43,67,12,63],[43,69,12,65,"username"],[43,77,12,73],[43,78,12,74],[44,4,13,0],[44,5,13,1],[45,4,13,1],[45,11,13,1,"_saveAuthData"],[45,24,13,1],[45,25,13,1,"apply"],[45,30,13,1],[45,37,13,1,"arguments"],[45,46,13,1],[46,2,13,1],[47,2,13,1],[47,11,15,22,"loadAuthToken"],[47,24,15,35,"loadAuthToken"],[47,25,15,35],[48,4,15,35],[48,11,15,35,"_loadAuthToken"],[48,25,15,35],[48,26,15,35,"apply"],[48,31,15,35],[48,38,15,35,"arguments"],[48,47,15,35],[49,2,15,35],[50,2,15,35],[50,11,15,35,"_loadAuthToken"],[50,26,15,35],[51,4,15,35,"_loadAuthToken"],[51,18,15,35],[51,25,15,35,"_asyncToGenerator"],[51,42,15,35],[51,43,15,35,"default"],[51,50,15,35],[51,52,15,7],[51,65,15,62],[52,6,16,2],[52,10,16,8,"token"],[52,15,16,13],[52,24,16,22],[52,28,16,22,"storageGet"],[52,36,16,32],[52,37,16,32,"storageGet"],[52,47,16,32],[52,49,16,33,"AUTH_TOKEN_KEY"],[52,63,16,47],[52,64,16,48],[53,6,17,2],[53,10,17,6,"__DEV__"],[53,17,17,13],[53,19,17,15,"console"],[53,26,17,22],[53,27,17,23,"log"],[53,30,17,26],[53,31,17,27],[53,60,17,56],[53,62,17,58,"token"],[53,67,17,63],[53,70,17,66],[53,80,17,76],[53,83,17,79],[53,91,17,87],[53,92,17,88],[54,6,18,2],[54,13,18,9,"token"],[54,18,18,14],[55,4,19,0],[55,5,19,1],[56,4,19,1],[56,11,19,1,"_loadAuthToken"],[56,25,19,1],[56,26,19,1,"apply"],[56,31,19,1],[56,38,19,1,"arguments"],[56,47,19,1],[57,2,19,1],[58,2,19,1],[58,11,21,22,"loadAuthUsername"],[58,27,21,38,"loadAuthUsername"],[58,28,21,38],[59,4,21,38],[59,11,21,38,"_loadAuthUsername"],[59,28,21,38],[59,29,21,38,"apply"],[59,34,21,38],[59,41,21,38,"arguments"],[59,50,21,38],[60,2,21,38],[61,2,21,38],[61,11,21,38,"_loadAuthUsername"],[61,29,21,38],[62,4,21,38,"_loadAuthUsername"],[62,21,21,38],[62,28,21,38,"_asyncToGenerator"],[62,45,21,38],[62,46,21,38,"default"],[62,53,21,38],[62,55,21,7],[62,68,21,65],[63,6,22,2],[63,13,22,9],[63,17,22,9,"storageGet"],[63,25,22,19],[63,26,22,19,"storageGet"],[63,36,22,19],[63,38,22,20,"AUTH_USERNAME_KEY"],[63,55,22,37],[63,56,22,38],[64,4,23,0],[64,5,23,1],[65,4,23,1],[65,11,23,1,"_loadAuthUsername"],[65,28,23,1],[65,29,23,1,"apply"],[65,34,23,1],[65,41,23,1,"arguments"],[65,50,23,1],[66,2,23,1],[67,2,23,1],[67,11,25,22,"clearAuthData"],[67,24,25,35,"clearAuthData"],[67,25,25,35],[68,4,25,35],[68,11,25,35,"_clearAuthData"],[68,25,25,35],[68,26,25,35,"apply"],[68,31,25,35],[68,38,25,35,"arguments"],[68,47,25,35],[69,2,25,35],[70,2,25,35],[70,11,25,35,"_clearAuthData"],[70,26,25,35],[71,4,25,35,"_clearAuthData"],[71,18,25,35],[71,25,25,35,"_asyncToGenerator"],[71,42,25,35],[71,43,25,35,"default"],[71,50,25,35],[71,52,25,7],[71,65,25,38],[72,6,26,2],[72,12,26,8],[72,16,26,8,"storageRemove"],[72,24,26,21],[72,25,26,21,"storageRemove"],[72,38,26,21],[72,40,26,22,"AUTH_USERNAME_KEY"],[72,57,26,39],[72,58,26,40],[73,6,27,2],[73,12,27,8],[73,16,27,8,"storageRemove"],[73,24,27,21],[73,25,27,21,"storageRemove"],[73,38,27,21],[73,40,27,22,"AUTH_TOKEN_KEY"],[73,54,27,36],[73,55,27,37],[74,6,28,2],[74,10,28,6,"__DEV__"],[74,17,28,13],[74,19,28,15,"console"],[74,26,28,22],[74,27,28,23,"log"],[74,30,28,26],[74,31,28,27],[74,64,28,60],[74,65,28,61],[75,4,29,0],[75,5,29,1],[76,4,29,1],[76,11,29,1,"_clearAuthData"],[76,25,29,1],[76,26,29,1,"apply"],[76,31,29,1],[76,38,29,1,"arguments"],[76,47,29,1],[77,2,29,1],[78,0,29,1],[78,3]],"functionMap":{"names":["<global>","saveAuthData","loadAuthToken","loadAuthUsername","clearAuthData"],"mappings":"AAA;OCQ;CDI;OEE;CFI;OGE;CHE;OIE;CJI"},"hasCjsExports":false},"type":"js/module"}]}