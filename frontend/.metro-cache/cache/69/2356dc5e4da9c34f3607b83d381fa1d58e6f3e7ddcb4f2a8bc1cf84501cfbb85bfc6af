{"dependencies":[{"name":"../../types.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"W1BH0a3HSCo8tOLXH7X+m5FGigs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"onHidden\", {\n    enumerable: true,\n    get: function () {\n      return onHidden;\n    }\n  });\n  var _typesJs = require(_dependencyMap[0], \"../../types.js\");\n  /*\n   * Copyright 2020 Google LLC\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  const onHidden = (cb, once) => {\n    const onHiddenOrPageHide = event => {\n      if (event.type === 'pagehide' || _typesJs.WINDOW.document.visibilityState === 'hidden') {\n        cb(event);\n        if (once) {\n          removeEventListener('visibilitychange', onHiddenOrPageHide, true);\n          removeEventListener('pagehide', onHiddenOrPageHide, true);\n        }\n      }\n    };\n    addEventListener('visibilitychange', onHiddenOrPageHide, true);\n    // Some browsers have buggy implementations of visibilitychange,\n    // so we use pagehide in addition, just to be safe.\n    addEventListener('pagehide', onHiddenOrPageHide, true);\n  };\n});","lineCount":45,"map":[[7,2,35,0,"Object"],[7,8,35,0],[7,9,35,0,"defineProperty"],[7,23,35,0],[7,24,35,0,"exports"],[7,31,35,0],[8,4,35,0,"enumerable"],[8,14,35,0],[9,4,35,0,"get"],[9,7,35,0],[9,18,35,0,"get"],[9,19,35,0],[10,6,35,0],[10,13,35,9,"onHidden"],[10,21,35,17],[11,4,35,17],[12,2,35,17],[13,2,1,0],[13,6,1,0,"_typesJs"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,3,0],[15,0,4,0],[16,0,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,0,13,0],[25,0,14,0],[26,0,15,0],[27,0,16,0],[28,0,17,0],[30,2,19,0],[30,8,19,6,"onHidden"],[30,16,19,14],[30,19,19,17,"onHidden"],[30,20,19,18,"cb"],[30,22,19,20],[30,24,19,22,"once"],[30,28,19,26],[30,33,19,31],[31,4,20,2],[31,10,20,8,"onHiddenOrPageHide"],[31,28,20,26],[31,31,20,30,"event"],[31,36,20,35],[31,40,20,40],[32,6,21,4],[32,10,21,8,"event"],[32,15,21,13],[32,16,21,14,"type"],[32,20,21,18],[32,25,21,23],[32,35,21,33],[32,39,21,37,"WINDOW"],[32,47,21,43],[32,48,21,43,"WINDOW"],[32,54,21,43],[32,55,21,44,"document"],[32,63,21,52],[32,64,21,53,"visibilityState"],[32,79,21,68],[32,84,21,73],[32,92,21,81],[32,94,21,83],[33,8,22,6,"cb"],[33,10,22,8],[33,11,22,9,"event"],[33,16,22,14],[33,17,22,15],[34,8,23,6],[34,12,23,10,"once"],[34,16,23,14],[34,18,23,16],[35,10,24,8,"removeEventListener"],[35,29,24,27],[35,30,24,28],[35,48,24,46],[35,50,24,48,"onHiddenOrPageHide"],[35,68,24,66],[35,70,24,68],[35,74,24,72],[35,75,24,73],[36,10,25,8,"removeEventListener"],[36,29,25,27],[36,30,25,28],[36,40,25,38],[36,42,25,40,"onHiddenOrPageHide"],[36,60,25,58],[36,62,25,60],[36,66,25,64],[36,67,25,65],[37,8,26,6],[38,6,27,4],[39,4,28,2],[39,5,28,3],[40,4,29,2,"addEventListener"],[40,20,29,18],[40,21,29,19],[40,39,29,37],[40,41,29,39,"onHiddenOrPageHide"],[40,59,29,57],[40,61,29,59],[40,65,29,63],[40,66,29,64],[41,4,30,2],[42,4,31,2],[43,4,32,2,"addEventListener"],[43,20,32,18],[43,21,32,19],[43,31,32,29],[43,33,32,31,"onHiddenOrPageHide"],[43,51,32,49],[43,53,32,51],[43,57,32,55],[43,58,32,56],[44,2,33,0],[44,3,33,1],[45,0,33,2],[45,3]],"functionMap":{"names":["<global>","onHidden","onHiddenOrPageHide"],"mappings":"AAA;iBCkB;6BCC;GDQ;CDK"},"hasCjsExports":false},"type":"js/module"}]}