{"dependencies":[{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":811},"end":{"line":19,"column":37,"index":848}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"./products","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":849},"end":{"line":20,"column":57,"index":906}}],"key":"QLsEbhN001YxKPoY7MJ1qVaW9gw=","exportNames":["*"],"imports":1}},{"name":"../telemetry/events","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":907},"end":{"line":21,"column":52,"index":959}}],"key":"k7LZwhoWMWET/ud396YGvDlODrM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"KNOWN_SOURCES\", {\n    enumerable: true,\n    get: function () {\n      return KNOWN_SOURCES;\n    }\n  });\n  exports.goToPaywall = goToPaywall;\n  exports.goToStore = goToStore;\n  exports.goToPurchaseSuccess = goToPurchaseSuccess;\n  exports.getPaywallRoute = getPaywallRoute;\n  exports.getStoreRoute = getStoreRoute;\n  exports.getSafeReturnTo = getSafeReturnTo;\n  exports.useCurrentPath = useCurrentPath;\n  var _expoRouter = require(_dependencyMap[0], \"expo-router\");\n  var _products = require(_dependencyMap[1], \"./products\");\n  var _telemetryEvents = require(_dependencyMap[2], \"../telemetry/events\");\n  // /app/frontend/lib/entitlements/navigation.ts\n  // CANONICAL Premium Navigation - single entry point for all paywall routing\n  //\n  // STRICT INVARIANTS:\n  // 1. All premium navigation MUST go through these helpers\n  // 2. Direct router.push('/paid-features') or router.push('/store') is FORBIDDEN\n  // 3. If productKey is omitted, defaults to PAYWALL_HUB (documented policy)\n  // 4. source MUST be a known PaywallSource (no arbitrary strings in prod)\n  // 5. returnTo is sanitized (must start with /, max 256 chars)\n  // 6. Telemetry is ONLY emitted from this file (guards enforce)\n  //\n  // This ensures:\n  // - Analytics/telemetry for all premium funnels\n  // - Single place to change paywall route\n  // - Consistent UX for premium denial flows\n  // - Easy debugging of purchase funnels\n  // - No silent misroutes from implicit defaults\n\n  // Debug logging\n  var dlog = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (__DEV__) console.log('[navigation]', ...args);\n  };\n\n  // ==============================================================\n  // TELEMETRY DEDUPE - Prevent spam from double-taps/rerenders\n  // ==============================================================\n  var DEDUPE_WINDOW_MS = 1500; // 1.5 seconds\n  var lastPaywallOpenedAt = 0;\n  var lastStoreOpenedAt = 0;\n  function shouldEmitPaywallEvent() {\n    var now = Date.now();\n    if (now - lastPaywallOpenedAt < DEDUPE_WINDOW_MS) {\n      dlog('paywall_opened dedupe - skipping');\n      return false;\n    }\n    lastPaywallOpenedAt = now;\n    return true;\n  }\n  function shouldEmitStoreEvent() {\n    var now = Date.now();\n    if (now - lastStoreOpenedAt < DEDUPE_WINDOW_MS) {\n      dlog('store_opened dedupe - skipping');\n      return false;\n    }\n    lastStoreOpenedAt = now;\n    return true;\n  }\n\n  // ==============================================================\n  // TYPES\n  // ==============================================================\n\n  /**\n   * Source of the paywall navigation (for analytics + debugging)\n   * \n   * STRICT: Only these known values are allowed.\n   * Adding a new source requires updating this type.\n   */\n\n  // Fallback (should be rare, logged as warning)\n\n  // Known sources for validation (exported for type checking)\n  var KNOWN_SOURCES = new Set(['cinematic_gate', 'battle_pass', 'store', 'profile', 'hero_detail', 'gating_alert', 'gating_check', 'equipment', 'gacha', 'campaign', 'unknown']);\n\n  /**\n   * Options for paywall navigation\n   */\n\n  /**\n   * The ONE route for premium purchases\n   * Change this ONLY here to update all premium navigation\n   */\n  var PAYWALL_ROUTE = '/paid-features';\n  var STORE_ROUTE = '/store';\n\n  // Constraints\n  var MAX_RETURN_TO_LENGTH = 256;\n\n  /**\n   * Sanitize returnTo path to prevent weird routing state\n   * - Must start with '/'\n   * - Strip query fragments\n   * - Clamp length to MAX_RETURN_TO_LENGTH\n   */\n  function sanitizeReturnTo(returnTo) {\n    if (!returnTo) return undefined;\n\n    // Must start with /\n    if (!returnTo.startsWith('/')) {\n      if (__DEV__) console.warn('[navigation] returnTo must start with /, got:', returnTo);\n      return undefined;\n    }\n\n    // Strip query params and fragments (keep clean path only)\n    var cleaned = returnTo.split('?')[0].split('#')[0];\n\n    // Clamp length\n    if (cleaned.length > MAX_RETURN_TO_LENGTH) {\n      if (__DEV__) console.warn('[navigation] returnTo too long, truncating');\n      cleaned = cleaned.substring(0, MAX_RETURN_TO_LENGTH);\n    }\n    return cleaned;\n  }\n\n  /**\n   * Validate and normalize source\n   */\n  function normalizeSource(source) {\n    if (KNOWN_SOURCES.has(source)) {\n      return source;\n    }\n    if (__DEV__) {\n      console.warn('[navigation] Unknown PaywallSource:', source, '- defaulting to \"unknown\"');\n    }\n    return 'unknown';\n  }\n\n  /**\n   * Canonical entry point for all paywall/premium navigation\n   * \n   * USE THIS instead of router.push('/paid-features') or router.push('/store')\n   * \n   * POLICY: If productKey is omitted, routes to general paywall hub.\n   * This is deterministic and documented - Paywall component shows all products.\n   * \n   * TELEMETRY: Emits 'paywall_opened' event (with 1.5s dedupe window)\n   * \n   * @example\n   * // From cinematic gate (specific product)\n   * goToPaywall({ productKey: 'PREMIUM_CINEMATICS_PACK', source: 'cinematic_gate', heroId: hero.id });\n   * \n   * // From battle pass (specific product)\n   * goToPaywall({ productKey: 'PREMIUM_SUBSCRIPTION', source: 'battle_pass' });\n   * \n   * // Generic premium denial (no specific product - shows all options)\n   * goToPaywall({ source: 'gating_alert' });\n   */\n  function goToPaywall(opts) {\n    var productKey = opts.productKey,\n      heroId = opts.heroId,\n      returnTo = opts.returnTo;\n\n    // Normalize source (strict validation)\n    var source = normalizeSource(opts.source);\n\n    // Sanitize returnTo\n    var cleanReturnTo = sanitizeReturnTo(returnTo);\n    dlog('goToPaywall:', {\n      productKey,\n      source,\n      heroId,\n      returnTo: cleanReturnTo\n    });\n\n    // Phase 3.13: Emit telemetry (with dedupe to prevent spam)\n    if (shouldEmitPaywallEvent()) {\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.PAYWALL_OPENED, {\n        source,\n        productKey: productKey ?? null,\n        heroId: heroId ?? null,\n        returnTo: cleanReturnTo ?? null,\n        isHub: !productKey // True if going to general hub (no specific product)\n      });\n    }\n\n    // Build query params\n    var params = new URLSearchParams();\n    if (productKey) {\n      params.set('productKey', productKey);\n      // Also include productId for convenience\n      var product = (0, _products.getProduct)(productKey);\n      if (product) {\n        params.set('productId', product.productId);\n      }\n    }\n    // NOTE: If productKey is omitted, Paywall shows general hub (all products)\n    // This is documented policy, not an implicit default\n\n    // Source is always set (normalized above)\n    params.set('source', source);\n    if (heroId) {\n      params.set('heroId', heroId);\n    }\n    if (cleanReturnTo) {\n      params.set('returnTo', cleanReturnTo);\n    }\n\n    // Build final route\n    var queryString = params.toString();\n    var route = queryString ? `${PAYWALL_ROUTE}?${queryString}` : PAYWALL_ROUTE;\n    _expoRouter.router.push(route);\n  }\n\n  /**\n   * Navigate to the general store/shop screen\n   * Use this for browsing, not for specific premium denial flows\n   * \n   * TELEMETRY: Emits 'store_opened' event (with 1.5s dedupe window)\n   */\n  function goToStore(source) {\n    var normalizedSource = source ? normalizeSource(source) : 'store';\n    dlog('goToStore:', {\n      source: normalizedSource\n    });\n\n    // Phase 3.13: Emit telemetry (with dedupe to prevent spam)\n    if (shouldEmitStoreEvent()) {\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.STORE_OPENED, {\n        source: normalizedSource\n      });\n    }\n    _expoRouter.router.push(`${STORE_ROUTE}?source=${normalizedSource}`);\n  }\n\n  /**\n   * Navigate to purchase success screen (optional, for post-purchase UX)\n   */\n  function goToPurchaseSuccess(opts) {\n    dlog('goToPurchaseSuccess:', opts);\n\n    // Sanitize returnTo\n    var cleanReturnTo = sanitizeReturnTo(opts?.returnTo);\n\n    // For now, just go back or to a success route\n    // This can be expanded to show a dedicated success screen\n    if (cleanReturnTo) {\n      _expoRouter.router.replace(cleanReturnTo);\n    } else {\n      _expoRouter.router.back();\n    }\n  }\n\n  /**\n   * Get the paywall route for use in gating helpers\n   * (Internal use - screens should use goToPaywall instead)\n   */\n  function getPaywallRoute() {\n    return PAYWALL_ROUTE;\n  }\n\n  /**\n   * Get the store route\n   * (Internal use - screens should use goToStore instead)\n   */\n  function getStoreRoute() {\n    return STORE_ROUTE;\n  }\n\n  // ==============================================================\n  // Phase 3.19.5: Safe Return Path Helper\n  // ==============================================================\n\n  /**\n   * Generate a stable return path so Paywall/Store can send the player back\n   * without each screen inventing logic.\n   * \n   * - Default returnTo: current pathname (no query, sanitized)\n   * - If route is already /paid-features or /store, return '/' (prevents loops)\n   * - If route is undefined, return '/'\n   * \n   * @param currentPath - The current route pathname\n   * @returns A safe, sanitized return path\n   */\n  function getSafeReturnTo(currentPath) {\n    // Clean up the path first\n    var cleaned = sanitizeReturnTo(currentPath ?? '/');\n\n    // If sanitization failed, go to home\n    if (!cleaned) return '/';\n\n    // Prevent navigation loops - if already on paywall/store routes, go home\n    var loopRoutes = [PAYWALL_ROUTE, STORE_ROUTE, '/paid-features', '/store'];\n    if (loopRoutes.some(route => cleaned === route || cleaned.startsWith(route + '?'))) {\n      return '/';\n    }\n    return cleaned;\n  }\n\n  /**\n   * Get current route path (for use in components that need returnTo)\n   * This is a helper that works with expo-router\n   */\n  function useCurrentPath() {\n    // In expo-router, we can use the segments or pathname\n    // For now, return a placeholder that components can override\n    return '/';\n  }\n});","lineCount":313,"map":[[7,2,77,0,"Object"],[7,8,77,0],[7,9,77,0,"defineProperty"],[7,23,77,0],[7,24,77,0,"exports"],[7,31,77,0],[8,4,77,0,"enumerable"],[8,14,77,0],[9,4,77,0,"get"],[9,7,77,0],[9,18,77,0,"get"],[9,19,77,0],[10,6,77,0],[10,13,77,0,"KNOWN_SOURCES"],[10,26,77,0],[11,4,77,0],[12,2,77,0],[13,2,176,0,"exports"],[13,9,176,0],[13,10,176,0,"goToPaywall"],[13,21,176,0],[13,24,176,0,"goToPaywall"],[13,35,176,0],[14,2,238,0,"exports"],[14,9,238,0],[14,10,238,0,"goToStore"],[14,19,238,0],[14,22,238,0,"goToStore"],[14,31,238,0],[15,2,255,0,"exports"],[15,9,255,0],[15,10,255,0,"goToPurchaseSuccess"],[15,29,255,0],[15,32,255,0,"goToPurchaseSuccess"],[15,51,255,0],[16,2,277,0,"exports"],[16,9,277,0],[16,10,277,0,"getPaywallRoute"],[16,25,277,0],[16,28,277,0,"getPaywallRoute"],[16,43,277,0],[17,2,285,0,"exports"],[17,9,285,0],[17,10,285,0,"getStoreRoute"],[17,23,285,0],[17,26,285,0,"getStoreRoute"],[17,39,285,0],[18,2,304,0,"exports"],[18,9,304,0],[18,10,304,0,"getSafeReturnTo"],[18,25,304,0],[18,28,304,0,"getSafeReturnTo"],[18,43,304,0],[19,2,324,0,"exports"],[19,9,324,0],[19,10,324,0,"useCurrentPath"],[19,24,324,0],[19,27,324,0,"useCurrentPath"],[19,41,324,0],[20,2,19,0],[20,6,19,0,"_expoRouter"],[20,17,19,0],[20,20,19,0,"require"],[20,27,19,0],[20,28,19,0,"_dependencyMap"],[20,42,19,0],[21,2,20,0],[21,6,20,0,"_products"],[21,15,20,0],[21,18,20,0,"require"],[21,25,20,0],[21,26,20,0,"_dependencyMap"],[21,40,20,0],[22,2,21,0],[22,6,21,0,"_telemetryEvents"],[22,22,21,0],[22,25,21,0,"require"],[22,32,21,0],[22,33,21,0,"_dependencyMap"],[22,47,21,0],[23,2,1,0],[24,2,2,0],[25,2,3,0],[26,2,4,0],[27,2,5,0],[28,2,6,0],[29,2,7,0],[30,2,8,0],[31,2,9,0],[32,2,10,0],[33,2,11,0],[34,2,12,0],[35,2,13,0],[36,2,14,0],[37,2,15,0],[38,2,16,0],[39,2,17,0],[41,2,23,0],[42,2,24,0],[42,6,24,6,"dlog"],[42,10,24,10],[42,13,24,13],[42,22,24,13,"dlog"],[42,23,24,13],[42,25,24,33],[43,4,24,33],[43,13,24,33,"_len"],[43,17,24,33],[43,20,24,33,"arguments"],[43,29,24,33],[43,30,24,33,"length"],[43,36,24,33],[43,38,24,17,"args"],[43,42,24,21],[43,49,24,21,"Array"],[43,54,24,21],[43,55,24,21,"_len"],[43,59,24,21],[43,62,24,21,"_key"],[43,66,24,21],[43,72,24,21,"_key"],[43,76,24,21],[43,79,24,21,"_len"],[43,83,24,21],[43,85,24,21,"_key"],[43,89,24,21],[44,6,24,17,"args"],[44,10,24,21],[44,11,24,21,"_key"],[44,15,24,21],[44,19,24,21,"arguments"],[44,28,24,21],[44,29,24,21,"_key"],[44,33,24,21],[45,4,24,21],[46,4,24,35],[46,8,24,39,"__DEV__"],[46,15,24,46],[46,17,24,48,"console"],[46,24,24,55],[46,25,24,56,"log"],[46,28,24,59],[46,29,24,60],[46,43,24,74],[46,45,24,76],[46,48,24,79,"args"],[46,52,24,83],[46,53,24,84],[47,2,24,86],[47,3,24,87],[49,2,26,0],[50,2,27,0],[51,2,28,0],[52,2,29,0],[52,6,29,6,"DEDUPE_WINDOW_MS"],[52,22,29,22],[52,25,29,25],[52,29,29,29],[52,30,29,30],[52,31,29,31],[53,2,30,0],[53,6,30,4,"lastPaywallOpenedAt"],[53,25,30,23],[53,28,30,26],[53,29,30,27],[54,2,31,0],[54,6,31,4,"lastStoreOpenedAt"],[54,23,31,21],[54,26,31,24],[54,27,31,25],[55,2,33,0],[55,11,33,9,"shouldEmitPaywallEvent"],[55,33,33,31,"shouldEmitPaywallEvent"],[55,34,33,31],[55,36,33,43],[56,4,34,2],[56,8,34,8,"now"],[56,11,34,11],[56,14,34,14,"Date"],[56,18,34,18],[56,19,34,19,"now"],[56,22,34,22],[56,23,34,23],[56,24,34,24],[57,4,35,2],[57,8,35,6,"now"],[57,11,35,9],[57,14,35,12,"lastPaywallOpenedAt"],[57,33,35,31],[57,36,35,34,"DEDUPE_WINDOW_MS"],[57,52,35,50],[57,54,35,52],[58,6,36,4,"dlog"],[58,10,36,8],[58,11,36,9],[58,45,36,43],[58,46,36,44],[59,6,37,4],[59,13,37,11],[59,18,37,16],[60,4,38,2],[61,4,39,2,"lastPaywallOpenedAt"],[61,23,39,21],[61,26,39,24,"now"],[61,29,39,27],[62,4,40,2],[62,11,40,9],[62,15,40,13],[63,2,41,0],[64,2,43,0],[64,11,43,9,"shouldEmitStoreEvent"],[64,31,43,29,"shouldEmitStoreEvent"],[64,32,43,29],[64,34,43,41],[65,4,44,2],[65,8,44,8,"now"],[65,11,44,11],[65,14,44,14,"Date"],[65,18,44,18],[65,19,44,19,"now"],[65,22,44,22],[65,23,44,23],[65,24,44,24],[66,4,45,2],[66,8,45,6,"now"],[66,11,45,9],[66,14,45,12,"lastStoreOpenedAt"],[66,31,45,29],[66,34,45,32,"DEDUPE_WINDOW_MS"],[66,50,45,48],[66,52,45,50],[67,6,46,4,"dlog"],[67,10,46,8],[67,11,46,9],[67,43,46,41],[67,44,46,42],[68,6,47,4],[68,13,47,11],[68,18,47,16],[69,4,48,2],[70,4,49,2,"lastStoreOpenedAt"],[70,21,49,19],[70,24,49,22,"now"],[70,27,49,25],[71,4,50,2],[71,11,50,9],[71,15,50,13],[72,2,51,0],[74,2,53,0],[75,2,54,0],[76,2,55,0],[78,2,57,0],[79,0,58,0],[80,0,59,0],[81,0,60,0],[82,0,61,0],[83,0,62,0],[85,2,74,27],[87,2,76,0],[88,2,77,7],[88,6,77,13,"KNOWN_SOURCES"],[88,19,77,26],[88,22,77,29],[88,26,77,33,"Set"],[88,29,77,36],[88,30,77,52],[88,31,78,2],[88,47,78,18],[88,49,78,20],[88,62,78,33],[88,64,78,35],[88,71,78,42],[88,73,78,44],[88,82,78,53],[88,84,78,55],[88,97,78,68],[88,99,79,2],[88,113,79,16],[88,115,79,18],[88,129,79,32],[88,131,79,34],[88,142,79,45],[88,144,79,47],[88,151,79,54],[88,153,79,56],[88,163,79,66],[88,165,79,68],[88,174,79,77],[88,175,80,1],[88,176,80,2],[90,2,82,0],[91,0,83,0],[92,0,84,0],[94,2,105,0],[95,0,106,0],[96,0,107,0],[97,0,108,0],[98,2,109,0],[98,6,109,6,"PAYWALL_ROUTE"],[98,19,109,19],[98,22,109,22],[98,38,109,47],[99,2,110,0],[99,6,110,6,"STORE_ROUTE"],[99,17,110,17],[99,20,110,20],[99,28,110,37],[101,2,112,0],[102,2,113,0],[102,6,113,6,"MAX_RETURN_TO_LENGTH"],[102,26,113,26],[102,29,113,29],[102,32,113,32],[104,2,115,0],[105,0,116,0],[106,0,117,0],[107,0,118,0],[108,0,119,0],[109,0,120,0],[110,2,121,0],[110,11,121,9,"sanitizeReturnTo"],[110,27,121,25,"sanitizeReturnTo"],[110,28,121,26,"returnTo"],[110,36,121,54],[110,38,121,76],[111,4,122,2],[111,8,122,6],[111,9,122,7,"returnTo"],[111,17,122,15],[111,19,122,17],[111,26,122,24,"undefined"],[111,35,122,33],[113,4,124,2],[114,4,125,2],[114,8,125,6],[114,9,125,7,"returnTo"],[114,17,125,15],[114,18,125,16,"startsWith"],[114,28,125,26],[114,29,125,27],[114,32,125,30],[114,33,125,31],[114,35,125,33],[115,6,126,4],[115,10,126,8,"__DEV__"],[115,17,126,15],[115,19,126,17,"console"],[115,26,126,24],[115,27,126,25,"warn"],[115,31,126,29],[115,32,126,30],[115,79,126,77],[115,81,126,79,"returnTo"],[115,89,126,87],[115,90,126,88],[116,6,127,4],[116,13,127,11,"undefined"],[116,22,127,20],[117,4,128,2],[119,4,130,2],[120,4,131,2],[120,8,131,6,"cleaned"],[120,15,131,13],[120,18,131,16,"returnTo"],[120,26,131,24],[120,27,131,25,"split"],[120,32,131,30],[120,33,131,31],[120,36,131,34],[120,37,131,35],[120,38,131,36],[120,39,131,37],[120,40,131,38],[120,41,131,39,"split"],[120,46,131,44],[120,47,131,45],[120,50,131,48],[120,51,131,49],[120,52,131,50],[120,53,131,51],[120,54,131,52],[122,4,133,2],[123,4,134,2],[123,8,134,6,"cleaned"],[123,15,134,13],[123,16,134,14,"length"],[123,22,134,20],[123,25,134,23,"MAX_RETURN_TO_LENGTH"],[123,45,134,43],[123,47,134,45],[124,6,135,4],[124,10,135,8,"__DEV__"],[124,17,135,15],[124,19,135,17,"console"],[124,26,135,24],[124,27,135,25,"warn"],[124,31,135,29],[124,32,135,30],[124,76,135,74],[124,77,135,75],[125,6,136,4,"cleaned"],[125,13,136,11],[125,16,136,14,"cleaned"],[125,23,136,21],[125,24,136,22,"substring"],[125,33,136,31],[125,34,136,32],[125,35,136,33],[125,37,136,35,"MAX_RETURN_TO_LENGTH"],[125,57,136,55],[125,58,136,56],[126,4,137,2],[127,4,139,2],[127,11,139,9,"cleaned"],[127,18,139,16],[128,2,140,0],[130,2,142,0],[131,0,143,0],[132,0,144,0],[133,2,145,0],[133,11,145,9,"normalizeSource"],[133,26,145,24,"normalizeSource"],[133,27,145,25,"source"],[133,33,145,46],[133,35,145,63],[134,4,146,2],[134,8,146,6,"KNOWN_SOURCES"],[134,21,146,19],[134,22,146,20,"has"],[134,25,146,23],[134,26,146,24,"source"],[134,32,146,30],[134,33,146,31],[134,35,146,33],[135,6,147,4],[135,13,147,11,"source"],[135,19,147,17],[136,4,148,2],[137,4,150,2],[137,8,150,6,"__DEV__"],[137,15,150,13],[137,17,150,15],[138,6,151,4,"console"],[138,13,151,11],[138,14,151,12,"warn"],[138,18,151,16],[138,19,151,17],[138,56,151,54],[138,58,151,56,"source"],[138,64,151,62],[138,66,151,64],[138,93,151,91],[138,94,151,92],[139,4,152,2],[140,4,153,2],[140,11,153,9],[140,20,153,18],[141,2,154,0],[143,2,156,0],[144,0,157,0],[145,0,158,0],[146,0,159,0],[147,0,160,0],[148,0,161,0],[149,0,162,0],[150,0,163,0],[151,0,164,0],[152,0,165,0],[153,0,166,0],[154,0,167,0],[155,0,168,0],[156,0,169,0],[157,0,170,0],[158,0,171,0],[159,0,172,0],[160,0,173,0],[161,0,174,0],[162,0,175,0],[163,2,176,7],[163,11,176,16,"goToPaywall"],[163,22,176,27,"goToPaywall"],[163,23,176,28,"opts"],[163,27,176,52],[163,29,176,60],[164,4,177,2],[164,8,177,10,"productKey"],[164,18,177,20],[164,21,177,43,"opts"],[164,25,177,47],[164,26,177,10,"productKey"],[164,36,177,20],[165,6,177,22,"heroId"],[165,12,177,28],[165,15,177,43,"opts"],[165,19,177,47],[165,20,177,22,"heroId"],[165,26,177,28],[166,6,177,30,"returnTo"],[166,14,177,38],[166,17,177,43,"opts"],[166,21,177,47],[166,22,177,30,"returnTo"],[166,30,177,38],[168,4,179,2],[169,4,180,2],[169,8,180,8,"source"],[169,14,180,14],[169,17,180,17,"normalizeSource"],[169,32,180,32],[169,33,180,33,"opts"],[169,37,180,37],[169,38,180,38,"source"],[169,44,180,44],[169,45,180,45],[171,4,182,2],[172,4,183,2],[172,8,183,8,"cleanReturnTo"],[172,21,183,21],[172,24,183,24,"sanitizeReturnTo"],[172,40,183,40],[172,41,183,41,"returnTo"],[172,49,183,49],[172,50,183,50],[173,4,185,2,"dlog"],[173,8,185,6],[173,9,185,7],[173,23,185,21],[173,25,185,23],[174,6,185,25,"productKey"],[174,16,185,35],[175,6,185,37,"source"],[175,12,185,43],[176,6,185,45,"heroId"],[176,12,185,51],[177,6,185,53,"returnTo"],[177,14,185,61],[177,16,185,63,"cleanReturnTo"],[178,4,185,77],[178,5,185,78],[178,6,185,79],[180,4,187,2],[181,4,188,2],[181,8,188,6,"shouldEmitPaywallEvent"],[181,30,188,28],[181,31,188,29],[181,32,188,30],[181,34,188,32],[182,6,189,4],[182,10,189,4,"track"],[182,26,189,9],[182,27,189,9,"track"],[182,32,189,9],[182,34,189,10,"Events"],[182,50,189,16],[182,51,189,16,"Events"],[182,57,189,16],[182,58,189,17,"PAYWALL_OPENED"],[182,72,189,31],[182,74,189,33],[183,8,190,6,"source"],[183,14,190,12],[184,8,191,6,"productKey"],[184,18,191,16],[184,20,191,18,"productKey"],[184,30,191,28],[184,34,191,32],[184,38,191,36],[185,8,192,6,"heroId"],[185,14,192,12],[185,16,192,14,"heroId"],[185,22,192,20],[185,26,192,24],[185,30,192,28],[186,8,193,6,"returnTo"],[186,16,193,14],[186,18,193,16,"cleanReturnTo"],[186,31,193,29],[186,35,193,33],[186,39,193,37],[187,8,194,6,"isHub"],[187,13,194,11],[187,15,194,13],[187,16,194,14,"productKey"],[187,26,194,24],[187,27,194,27],[188,6,195,4],[188,7,195,5],[188,8,195,6],[189,4,196,2],[191,4,198,2],[192,4,199,2],[192,8,199,8,"params"],[192,14,199,14],[192,17,199,17],[192,21,199,21,"URLSearchParams"],[192,36,199,36],[192,37,199,37],[192,38,199,38],[193,4,201,2],[193,8,201,6,"productKey"],[193,18,201,16],[193,20,201,18],[194,6,202,4,"params"],[194,12,202,10],[194,13,202,11,"set"],[194,16,202,14],[194,17,202,15],[194,29,202,27],[194,31,202,29,"productKey"],[194,41,202,39],[194,42,202,40],[195,6,203,4],[196,6,204,4],[196,10,204,10,"product"],[196,17,204,17],[196,20,204,20],[196,24,204,20,"getProduct"],[196,33,204,30],[196,34,204,30,"getProduct"],[196,44,204,30],[196,46,204,31,"productKey"],[196,56,204,41],[196,57,204,42],[197,6,205,4],[197,10,205,8,"product"],[197,17,205,15],[197,19,205,17],[198,8,206,6,"params"],[198,14,206,12],[198,15,206,13,"set"],[198,18,206,16],[198,19,206,17],[198,30,206,28],[198,32,206,30,"product"],[198,39,206,37],[198,40,206,38,"productId"],[198,49,206,47],[198,50,206,48],[199,6,207,4],[200,4,208,2],[201,4,209,2],[202,4,210,2],[204,4,212,2],[205,4,213,2,"params"],[205,10,213,8],[205,11,213,9,"set"],[205,14,213,12],[205,15,213,13],[205,23,213,21],[205,25,213,23,"source"],[205,31,213,29],[205,32,213,30],[206,4,215,2],[206,8,215,6,"heroId"],[206,14,215,12],[206,16,215,14],[207,6,216,4,"params"],[207,12,216,10],[207,13,216,11,"set"],[207,16,216,14],[207,17,216,15],[207,25,216,23],[207,27,216,25,"heroId"],[207,33,216,31],[207,34,216,32],[208,4,217,2],[209,4,219,2],[209,8,219,6,"cleanReturnTo"],[209,21,219,19],[209,23,219,21],[210,6,220,4,"params"],[210,12,220,10],[210,13,220,11,"set"],[210,16,220,14],[210,17,220,15],[210,27,220,25],[210,29,220,27,"cleanReturnTo"],[210,42,220,40],[210,43,220,41],[211,4,221,2],[213,4,223,2],[214,4,224,2],[214,8,224,8,"queryString"],[214,19,224,19],[214,22,224,22,"params"],[214,28,224,28],[214,29,224,29,"toString"],[214,37,224,37],[214,38,224,38],[214,39,224,39],[215,4,225,2],[215,8,225,8,"route"],[215,13,225,13],[215,16,225,16,"queryString"],[215,27,225,27],[215,30,226,6],[215,33,226,9,"PAYWALL_ROUTE"],[215,46,226,22],[215,50,226,26,"queryString"],[215,61,226,37],[215,63,226,39],[215,66,227,6,"PAYWALL_ROUTE"],[215,79,227,19],[216,4,229,2,"router"],[216,15,229,8],[216,16,229,8,"router"],[216,22,229,8],[216,23,229,9,"push"],[216,27,229,13],[216,28,229,14,"route"],[216,33,229,26],[216,34,229,27],[217,2,230,0],[219,2,232,0],[220,0,233,0],[221,0,234,0],[222,0,235,0],[223,0,236,0],[224,0,237,0],[225,2,238,7],[225,11,238,16,"goToStore"],[225,20,238,25,"goToStore"],[225,21,238,26,"source"],[225,27,238,48],[225,29,238,56],[226,4,239,2],[226,8,239,8,"normalizedSource"],[226,24,239,24],[226,27,239,27,"source"],[226,33,239,33],[226,36,239,36,"normalizeSource"],[226,51,239,51],[226,52,239,52,"source"],[226,58,239,58],[226,59,239,59],[226,62,239,62],[226,69,239,69],[227,4,240,2,"dlog"],[227,8,240,6],[227,9,240,7],[227,21,240,19],[227,23,240,21],[228,6,240,23,"source"],[228,12,240,29],[228,14,240,31,"normalizedSource"],[229,4,240,48],[229,5,240,49],[229,6,240,50],[231,4,242,2],[232,4,243,2],[232,8,243,6,"shouldEmitStoreEvent"],[232,28,243,26],[232,29,243,27],[232,30,243,28],[232,32,243,30],[233,6,244,4],[233,10,244,4,"track"],[233,26,244,9],[233,27,244,9,"track"],[233,32,244,9],[233,34,244,10,"Events"],[233,50,244,16],[233,51,244,16,"Events"],[233,57,244,16],[233,58,244,17,"STORE_OPENED"],[233,70,244,29],[233,72,244,31],[234,8,245,6,"source"],[234,14,245,12],[234,16,245,14,"normalizedSource"],[235,6,246,4],[235,7,246,5],[235,8,246,6],[236,4,247,2],[237,4,249,2,"router"],[237,15,249,8],[237,16,249,8,"router"],[237,22,249,8],[237,23,249,9,"push"],[237,27,249,13],[237,28,249,14],[237,31,249,17,"STORE_ROUTE"],[237,42,249,28],[237,53,249,39,"normalizedSource"],[237,69,249,55],[237,71,249,64],[237,72,249,65],[238,2,250,0],[240,2,252,0],[241,0,253,0],[242,0,254,0],[243,2,255,7],[243,11,255,16,"goToPurchaseSuccess"],[243,30,255,35,"goToPurchaseSuccess"],[243,31,255,36,"opts"],[243,35,258,1],[243,37,258,9],[244,4,259,2,"dlog"],[244,8,259,6],[244,9,259,7],[244,31,259,29],[244,33,259,31,"opts"],[244,37,259,35],[244,38,259,36],[246,4,261,2],[247,4,262,2],[247,8,262,8,"cleanReturnTo"],[247,21,262,21],[247,24,262,24,"sanitizeReturnTo"],[247,40,262,40],[247,41,262,41,"opts"],[247,45,262,45],[247,47,262,47,"returnTo"],[247,55,262,55],[247,56,262,56],[249,4,264,2],[250,4,265,2],[251,4,266,2],[251,8,266,6,"cleanReturnTo"],[251,21,266,19],[251,23,266,21],[252,6,267,4,"router"],[252,17,267,10],[252,18,267,10,"router"],[252,24,267,10],[252,25,267,11,"replace"],[252,32,267,18],[252,33,267,19,"cleanReturnTo"],[252,46,267,39],[252,47,267,40],[253,4,268,2],[253,5,268,3],[253,11,268,9],[254,6,269,4,"router"],[254,17,269,10],[254,18,269,10,"router"],[254,24,269,10],[254,25,269,11,"back"],[254,29,269,15],[254,30,269,16],[254,31,269,17],[255,4,270,2],[256,2,271,0],[258,2,273,0],[259,0,274,0],[260,0,275,0],[261,0,276,0],[262,2,277,7],[262,11,277,16,"getPaywallRoute"],[262,26,277,31,"getPaywallRoute"],[262,27,277,31],[262,29,277,42],[263,4,278,2],[263,11,278,9,"PAYWALL_ROUTE"],[263,24,278,22],[264,2,279,0],[266,2,281,0],[267,0,282,0],[268,0,283,0],[269,0,284,0],[270,2,285,7],[270,11,285,16,"getStoreRoute"],[270,24,285,29,"getStoreRoute"],[270,25,285,29],[270,27,285,40],[271,4,286,2],[271,11,286,9,"STORE_ROUTE"],[271,22,286,20],[272,2,287,0],[274,2,289,0],[275,2,290,0],[276,2,291,0],[278,2,293,0],[279,0,294,0],[280,0,295,0],[281,0,296,0],[282,0,297,0],[283,0,298,0],[284,0,299,0],[285,0,300,0],[286,0,301,0],[287,0,302,0],[288,0,303,0],[289,2,304,7],[289,11,304,16,"getSafeReturnTo"],[289,26,304,31,"getSafeReturnTo"],[289,27,304,32,"currentPath"],[289,38,304,52],[289,40,304,62],[290,4,305,2],[291,4,306,2],[291,8,306,8,"cleaned"],[291,15,306,15],[291,18,306,18,"sanitizeReturnTo"],[291,34,306,34],[291,35,306,35,"currentPath"],[291,46,306,46],[291,50,306,50],[291,53,306,53],[291,54,306,54],[293,4,308,2],[294,4,309,2],[294,8,309,6],[294,9,309,7,"cleaned"],[294,16,309,14],[294,18,309,16],[294,25,309,23],[294,28,309,26],[296,4,311,2],[297,4,312,2],[297,8,312,8,"loopRoutes"],[297,18,312,18],[297,21,312,21],[297,22,312,22,"PAYWALL_ROUTE"],[297,35,312,35],[297,37,312,37,"STORE_ROUTE"],[297,48,312,48],[297,50,312,50],[297,66,312,66],[297,68,312,68],[297,76,312,76],[297,77,312,77],[298,4,313,2],[298,8,313,6,"loopRoutes"],[298,18,313,16],[298,19,313,17,"some"],[298,23,313,21],[298,24,313,22,"route"],[298,29,313,27],[298,33,313,31,"cleaned"],[298,40,313,38],[298,45,313,43,"route"],[298,50,313,48],[298,54,313,52,"cleaned"],[298,61,313,59],[298,62,313,60,"startsWith"],[298,72,313,70],[298,73,313,71,"route"],[298,78,313,76],[298,81,313,79],[298,84,313,82],[298,85,313,83],[298,86,313,84],[298,88,313,86],[299,6,314,4],[299,13,314,11],[299,16,314,14],[300,4,315,2],[301,4,317,2],[301,11,317,9,"cleaned"],[301,18,317,16],[302,2,318,0],[304,2,320,0],[305,0,321,0],[306,0,322,0],[307,0,323,0],[308,2,324,7],[308,11,324,16,"useCurrentPath"],[308,25,324,30,"useCurrentPath"],[308,26,324,30],[308,28,324,41],[309,4,325,2],[310,4,326,2],[311,4,327,2],[311,11,327,9],[311,14,327,12],[312,2,328,0],[313,0,328,1],[313,3]],"functionMap":{"names":["<global>","dlog","shouldEmitPaywallEvent","shouldEmitStoreEvent","sanitizeReturnTo","normalizeSource","goToPaywall","goToStore","goToPurchaseSuccess","getPaywallRoute","getStoreRoute","getSafeReturnTo","loopRoutes.some$argument_0","useCurrentPath"],"mappings":"AAA;aCuB,0ED;AES;CFQ;AGE;CHQ;AIsE;CJmB;AKK;CLS;OMsB;CNsD;OOQ;CPY;OQK;CRgB;OSM;CTE;OUM;CVE;OWiB;sBCS,6DD;CXK;OaM;CbI"},"hasCjsExports":false},"type":"js/module"}]}