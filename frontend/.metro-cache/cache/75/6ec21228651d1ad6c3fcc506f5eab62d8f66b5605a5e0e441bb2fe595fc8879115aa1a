{"dependencies":[{"name":"./node-stack-trace.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":23,"index":87},"end":{"line":3,"column":55,"index":119}}],"key":"7IruFZVeCsnYmkV5RjOPWnCcMEM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var nodeStackTrace = require(_dependencyMap[0], \"./node-stack-trace.js\");\n  var STACKTRACE_FRAME_LIMIT = 50;\n  // Used to sanitize webpack (error: *) wrapped stack errors\n  var WEBPACK_ERROR_REGEXP = /\\(error: (.*)\\)/;\n  var STRIP_FRAME_REGEXP = /captureMessage|captureException/;\n\n  /**\n   * Creates a stack parser with the supplied line parsers\n   *\n   * StackFrames are returned in the correct order for Sentry Exception\n   * frames and with Sentry SDK internal frames removed from the top and bottom\n   *\n   */\n  function createStackParser() {\n    for (var _len = arguments.length, parsers = new Array(_len), _key = 0; _key < _len; _key++) {\n      parsers[_key] = arguments[_key];\n    }\n    var sortedParsers = parsers.sort((a, b) => a[0] - b[0]).map(p => p[1]);\n    return function (stack) {\n      var skipFirst = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var frames = [];\n      var lines = stack.split('\\n');\n      for (var i = skipFirst; i < lines.length; i++) {\n        var line = lines[i];\n        // Ignore lines over 1kb as they are unlikely to be stack frames.\n        // Many of the regular expressions use backtracking which results in run time that increases exponentially with\n        // input size. Huge strings can result in hangs/Denial of Service:\n        // https://github.com/getsentry/sentry-javascript/issues/2286\n        if (line.length > 1024) {\n          continue;\n        }\n\n        // https://github.com/getsentry/sentry-javascript/issues/5459\n        // Remove webpack (error: *) wrappers\n        var cleanedLine = WEBPACK_ERROR_REGEXP.test(line) ? line.replace(WEBPACK_ERROR_REGEXP, '$1') : line;\n\n        // https://github.com/getsentry/sentry-javascript/issues/7813\n        // Skip Error: lines\n        if (cleanedLine.match(/\\S*Error: /)) {\n          continue;\n        }\n        for (var parser of sortedParsers) {\n          var frame = parser(cleanedLine);\n          if (frame) {\n            frames.push(frame);\n            break;\n          }\n        }\n        if (frames.length >= STACKTRACE_FRAME_LIMIT) {\n          break;\n        }\n      }\n      return stripSentryFramesAndReverse(frames);\n    };\n  }\n\n  /**\n   * Gets a stack parser implementation from Options.stackParser\n   * @see Options\n   *\n   * If options contains an array of line parsers, it is converted into a parser\n   */\n  function stackParserFromStackParserOptions(stackParser) {\n    if (Array.isArray(stackParser)) {\n      return createStackParser(...stackParser);\n    }\n    return stackParser;\n  }\n\n  /**\n   * Removes Sentry frames from the top and bottom of the stack if present and enforces a limit of max number of frames.\n   * Assumes stack input is ordered from top to bottom and returns the reverse representation so call site of the\n   * function that caused the crash is the last frame in the array.\n   * @hidden\n   */\n  function stripSentryFramesAndReverse(stack) {\n    if (!stack.length) {\n      return [];\n    }\n    var localStack = Array.from(stack);\n\n    // If stack starts with one of our API calls, remove it (starts, meaning it's the top of the stack - aka last call)\n    if (/sentryWrapped/.test(localStack[localStack.length - 1].function || '')) {\n      localStack.pop();\n    }\n\n    // Reversing in the middle of the procedure allows us to just pop the values off the stack\n    localStack.reverse();\n\n    // If stack ends with one of our internal API calls, remove it (ends, meaning it's the bottom of the stack - aka top-most call)\n    if (STRIP_FRAME_REGEXP.test(localStack[localStack.length - 1].function || '')) {\n      localStack.pop();\n\n      // When using synthetic events, we will have a 2 levels deep stack, as `new Error('Sentry syntheticException')`\n      // is produced within the hub itself, making it:\n      //\n      //   Sentry.captureException()\n      //   getCurrentHub().captureException()\n      //\n      // instead of just the top `Sentry` call itself.\n      // This forces us to possibly strip an additional frame in the exact same was as above.\n      if (STRIP_FRAME_REGEXP.test(localStack[localStack.length - 1].function || '')) {\n        localStack.pop();\n      }\n    }\n    return localStack.slice(0, STACKTRACE_FRAME_LIMIT).map(frame => ({\n      ...frame,\n      filename: frame.filename || localStack[localStack.length - 1].filename,\n      function: frame.function || '?'\n    }));\n  }\n  var defaultFunctionName = '<anonymous>';\n\n  /**\n   * Safely extract function name from itself\n   */\n  function getFunctionName(fn) {\n    try {\n      if (!fn || typeof fn !== 'function') {\n        return defaultFunctionName;\n      }\n      return fn.name || defaultFunctionName;\n    } catch (e) {\n      // Just accessing custom props in some Selenium environments\n      // can cause a \"Permission denied\" exception (see raven-js#495).\n      return defaultFunctionName;\n    }\n  }\n\n  /**\n   * Node.js stack line parser\n   *\n   * This is in @sentry/utils so it can be used from the Electron SDK in the browser for when `nodeIntegration == true`.\n   * This allows it to be used without referencing or importing any node specific code which causes bundlers to complain\n   */\n  function nodeStackLineParser(getModule) {\n    return [90, nodeStackTrace.node(getModule)];\n  }\n  exports.filenameIsInApp = nodeStackTrace.filenameIsInApp;\n  exports.createStackParser = createStackParser;\n  exports.getFunctionName = getFunctionName;\n  exports.nodeStackLineParser = nodeStackLineParser;\n  exports.stackParserFromStackParserOptions = stackParserFromStackParserOptions;\n  exports.stripSentryFramesAndReverse = stripSentryFramesAndReverse;\n});","lineCount":149,"map":[[2,2,1,0,"Object"],[2,8,1,6],[2,9,1,7,"defineProperty"],[2,23,1,21],[2,24,1,22,"exports"],[2,31,1,29],[2,33,1,31],[2,45,1,43],[2,47,1,45],[3,4,1,47,"value"],[3,9,1,52],[3,11,1,54],[4,2,1,59],[4,3,1,60],[4,4,1,61],[5,2,3,0],[5,6,3,6,"nodeStackTrace"],[5,20,3,20],[5,23,3,23,"require"],[5,30,3,30],[5,31,3,30,"_dependencyMap"],[5,45,3,30],[5,73,3,54],[5,74,3,55],[6,2,5,0],[6,6,5,6,"STACKTRACE_FRAME_LIMIT"],[6,28,5,28],[6,31,5,31],[6,33,5,33],[7,2,6,0],[8,2,7,0],[8,6,7,6,"WEBPACK_ERROR_REGEXP"],[8,26,7,26],[8,29,7,29],[8,46,7,46],[9,2,8,0],[9,6,8,6,"STRIP_FRAME_REGEXP"],[9,24,8,24],[9,27,8,27],[9,60,8,60],[11,2,10,0],[12,0,11,0],[13,0,12,0],[14,0,13,0],[15,0,14,0],[16,0,15,0],[17,0,16,0],[18,2,17,0],[18,11,17,9,"createStackParser"],[18,28,17,26,"createStackParser"],[18,29,17,26],[18,31,17,39],[19,4,17,39],[19,13,17,39,"_len"],[19,17,17,39],[19,20,17,39,"arguments"],[19,29,17,39],[19,30,17,39,"length"],[19,36,17,39],[19,38,17,30,"parsers"],[19,45,17,37],[19,52,17,37,"Array"],[19,57,17,37],[19,58,17,37,"_len"],[19,62,17,37],[19,65,17,37,"_key"],[19,69,17,37],[19,75,17,37,"_key"],[19,79,17,37],[19,82,17,37,"_len"],[19,86,17,37],[19,88,17,37,"_key"],[19,92,17,37],[20,6,17,30,"parsers"],[20,13,17,37],[20,14,17,37,"_key"],[20,18,17,37],[20,22,17,37,"arguments"],[20,31,17,37],[20,32,17,37,"_key"],[20,36,17,37],[21,4,17,37],[22,4,18,2],[22,8,18,8,"sortedParsers"],[22,21,18,21],[22,24,18,24,"parsers"],[22,31,18,31],[22,32,18,32,"sort"],[22,36,18,36],[22,37,18,37],[22,38,18,38,"a"],[22,39,18,39],[22,41,18,41,"b"],[22,42,18,42],[22,47,18,47,"a"],[22,48,18,48],[22,49,18,49],[22,50,18,50],[22,51,18,51],[22,54,18,54,"b"],[22,55,18,55],[22,56,18,56],[22,57,18,57],[22,58,18,58],[22,59,18,59],[22,60,18,60,"map"],[22,63,18,63],[22,64,18,64,"p"],[22,65,18,65],[22,69,18,69,"p"],[22,70,18,70],[22,71,18,71],[22,72,18,72],[22,73,18,73],[22,74,18,74],[23,4,20,2],[23,11,20,9],[23,21,20,10,"stack"],[23,26,20,15],[23,28,20,35],[24,6,20,35],[24,10,20,17,"skipFirst"],[24,19,20,26],[24,22,20,26,"arguments"],[24,31,20,26],[24,32,20,26,"length"],[24,38,20,26],[24,46,20,26,"arguments"],[24,55,20,26],[24,63,20,26,"undefined"],[24,72,20,26],[24,75,20,26,"arguments"],[24,84,20,26],[24,90,20,29],[24,91,20,30],[25,6,21,4],[25,10,21,10,"frames"],[25,16,21,16],[25,19,21,19],[25,21,21,21],[26,6,22,4],[26,10,22,10,"lines"],[26,15,22,15],[26,18,22,18,"stack"],[26,23,22,23],[26,24,22,24,"split"],[26,29,22,29],[26,30,22,30],[26,34,22,34],[26,35,22,35],[27,6,24,4],[27,11,24,9],[27,15,24,13,"i"],[27,16,24,14],[27,19,24,17,"skipFirst"],[27,28,24,26],[27,30,24,28,"i"],[27,31,24,29],[27,34,24,32,"lines"],[27,39,24,37],[27,40,24,38,"length"],[27,46,24,44],[27,48,24,46,"i"],[27,49,24,47],[27,51,24,49],[27,53,24,51],[28,8,25,6],[28,12,25,12,"line"],[28,16,25,16],[28,19,25,19,"lines"],[28,24,25,24],[28,25,25,25,"i"],[28,26,25,26],[28,27,25,27],[29,8,26,6],[30,8,27,6],[31,8,28,6],[32,8,29,6],[33,8,30,6],[33,12,30,10,"line"],[33,16,30,14],[33,17,30,15,"length"],[33,23,30,21],[33,26,30,24],[33,30,30,28],[33,32,30,30],[34,10,31,8],[35,8,32,6],[37,8,34,6],[38,8,35,6],[39,8,36,6],[39,12,36,12,"cleanedLine"],[39,23,36,23],[39,26,36,26,"WEBPACK_ERROR_REGEXP"],[39,46,36,46],[39,47,36,47,"test"],[39,51,36,51],[39,52,36,52,"line"],[39,56,36,56],[39,57,36,57],[39,60,36,60,"line"],[39,64,36,64],[39,65,36,65,"replace"],[39,72,36,72],[39,73,36,73,"WEBPACK_ERROR_REGEXP"],[39,93,36,93],[39,95,36,95],[39,99,36,99],[39,100,36,100],[39,103,36,103,"line"],[39,107,36,107],[41,8,38,6],[42,8,39,6],[43,8,40,6],[43,12,40,10,"cleanedLine"],[43,23,40,21],[43,24,40,22,"match"],[43,29,40,27],[43,30,40,28],[43,42,40,40],[43,43,40,41],[43,45,40,43],[44,10,41,8],[45,8,42,6],[46,8,44,6],[46,13,44,11],[46,17,44,17,"parser"],[46,23,44,23],[46,27,44,27,"sortedParsers"],[46,40,44,40],[46,42,44,42],[47,10,45,8],[47,14,45,14,"frame"],[47,19,45,19],[47,22,45,22,"parser"],[47,28,45,28],[47,29,45,29,"cleanedLine"],[47,40,45,40],[47,41,45,41],[48,10,47,8],[48,14,47,12,"frame"],[48,19,47,17],[48,21,47,19],[49,12,48,10,"frames"],[49,18,48,16],[49,19,48,17,"push"],[49,23,48,21],[49,24,48,22,"frame"],[49,29,48,27],[49,30,48,28],[50,12,49,10],[51,10,50,8],[52,8,51,6],[53,8,53,6],[53,12,53,10,"frames"],[53,18,53,16],[53,19,53,17,"length"],[53,25,53,23],[53,29,53,27,"STACKTRACE_FRAME_LIMIT"],[53,51,53,49],[53,53,53,51],[54,10,54,8],[55,8,55,6],[56,6,56,4],[57,6,58,4],[57,13,58,11,"stripSentryFramesAndReverse"],[57,40,58,38],[57,41,58,39,"frames"],[57,47,58,45],[57,48,58,46],[58,4,59,2],[58,5,59,3],[59,2,60,0],[61,2,62,0],[62,0,63,0],[63,0,64,0],[64,0,65,0],[65,0,66,0],[66,0,67,0],[67,2,68,0],[67,11,68,9,"stackParserFromStackParserOptions"],[67,44,68,42,"stackParserFromStackParserOptions"],[67,45,68,43,"stackParser"],[67,56,68,54],[67,58,68,56],[68,4,69,2],[68,8,69,6,"Array"],[68,13,69,11],[68,14,69,12,"isArray"],[68,21,69,19],[68,22,69,20,"stackParser"],[68,33,69,31],[68,34,69,32],[68,36,69,34],[69,6,70,4],[69,13,70,11,"createStackParser"],[69,30,70,28],[69,31,70,29],[69,34,70,32,"stackParser"],[69,45,70,43],[69,46,70,44],[70,4,71,2],[71,4,72,2],[71,11,72,9,"stackParser"],[71,22,72,20],[72,2,73,0],[74,2,75,0],[75,0,76,0],[76,0,77,0],[77,0,78,0],[78,0,79,0],[79,0,80,0],[80,2,81,0],[80,11,81,9,"stripSentryFramesAndReverse"],[80,38,81,36,"stripSentryFramesAndReverse"],[80,39,81,37,"stack"],[80,44,81,42],[80,46,81,44],[81,4,82,2],[81,8,82,6],[81,9,82,7,"stack"],[81,14,82,12],[81,15,82,13,"length"],[81,21,82,19],[81,23,82,21],[82,6,83,4],[82,13,83,11],[82,15,83,13],[83,4,84,2],[84,4,86,2],[84,8,86,8,"localStack"],[84,18,86,18],[84,21,86,21,"Array"],[84,26,86,26],[84,27,86,27,"from"],[84,31,86,31],[84,32,86,32,"stack"],[84,37,86,37],[84,38,86,38],[86,4,88,2],[87,4,89,2],[87,8,89,6],[87,23,89,21],[87,24,89,22,"test"],[87,28,89,26],[87,29,89,27,"localStack"],[87,39,89,37],[87,40,89,38,"localStack"],[87,50,89,48],[87,51,89,49,"length"],[87,57,89,55],[87,60,89,58],[87,61,89,59],[87,62,89,60],[87,63,89,61,"function"],[87,71,89,69],[87,75,89,73],[87,77,89,75],[87,78,89,76],[87,80,89,78],[88,6,90,4,"localStack"],[88,16,90,14],[88,17,90,15,"pop"],[88,20,90,18],[88,21,90,19],[88,22,90,20],[89,4,91,2],[91,4,93,2],[92,4,94,2,"localStack"],[92,14,94,12],[92,15,94,13,"reverse"],[92,22,94,20],[92,23,94,21],[92,24,94,22],[94,4,96,2],[95,4,97,2],[95,8,97,6,"STRIP_FRAME_REGEXP"],[95,26,97,24],[95,27,97,25,"test"],[95,31,97,29],[95,32,97,30,"localStack"],[95,42,97,40],[95,43,97,41,"localStack"],[95,53,97,51],[95,54,97,52,"length"],[95,60,97,58],[95,63,97,61],[95,64,97,62],[95,65,97,63],[95,66,97,64,"function"],[95,74,97,72],[95,78,97,76],[95,80,97,78],[95,81,97,79],[95,83,97,81],[96,6,98,4,"localStack"],[96,16,98,14],[96,17,98,15,"pop"],[96,20,98,18],[96,21,98,19],[96,22,98,20],[98,6,100,4],[99,6,101,4],[100,6,102,4],[101,6,103,4],[102,6,104,4],[103,6,105,4],[104,6,106,4],[105,6,107,4],[106,6,108,4],[106,10,108,8,"STRIP_FRAME_REGEXP"],[106,28,108,26],[106,29,108,27,"test"],[106,33,108,31],[106,34,108,32,"localStack"],[106,44,108,42],[106,45,108,43,"localStack"],[106,55,108,53],[106,56,108,54,"length"],[106,62,108,60],[106,65,108,63],[106,66,108,64],[106,67,108,65],[106,68,108,66,"function"],[106,76,108,74],[106,80,108,78],[106,82,108,80],[106,83,108,81],[106,85,108,83],[107,8,109,6,"localStack"],[107,18,109,16],[107,19,109,17,"pop"],[107,22,109,20],[107,23,109,21],[107,24,109,22],[108,6,110,4],[109,4,111,2],[110,4,113,2],[110,11,113,9,"localStack"],[110,21,113,19],[110,22,113,20,"slice"],[110,27,113,25],[110,28,113,26],[110,29,113,27],[110,31,113,29,"STACKTRACE_FRAME_LIMIT"],[110,53,113,51],[110,54,113,52],[110,55,113,53,"map"],[110,58,113,56],[110,59,113,57,"frame"],[110,64,113,62],[110,69,113,67],[111,6,114,4],[111,9,114,7,"frame"],[111,14,114,12],[112,6,115,4,"filename"],[112,14,115,12],[112,16,115,14,"frame"],[112,21,115,19],[112,22,115,20,"filename"],[112,30,115,28],[112,34,115,32,"localStack"],[112,44,115,42],[112,45,115,43,"localStack"],[112,55,115,53],[112,56,115,54,"length"],[112,62,115,60],[112,65,115,63],[112,66,115,64],[112,67,115,65],[112,68,115,66,"filename"],[112,76,115,74],[113,6,116,4,"function"],[113,14,116,12],[113,16,116,14,"frame"],[113,21,116,19],[113,22,116,20,"function"],[113,30,116,28],[113,34,116,32],[114,4,117,2],[114,5,117,3],[114,6,117,4],[114,7,117,5],[115,2,118,0],[116,2,120,0],[116,6,120,6,"defaultFunctionName"],[116,25,120,25],[116,28,120,28],[116,41,120,41],[118,2,122,0],[119,0,123,0],[120,0,124,0],[121,2,125,0],[121,11,125,9,"getFunctionName"],[121,26,125,24,"getFunctionName"],[121,27,125,25,"fn"],[121,29,125,27],[121,31,125,29],[122,4,126,2],[122,8,126,6],[123,6,127,4],[123,10,127,8],[123,11,127,9,"fn"],[123,13,127,11],[123,17,127,15],[123,24,127,22,"fn"],[123,26,127,24],[123,31,127,29],[123,41,127,39],[123,43,127,41],[124,8,128,6],[124,15,128,13,"defaultFunctionName"],[124,34,128,32],[125,6,129,4],[126,6,130,4],[126,13,130,11,"fn"],[126,15,130,13],[126,16,130,14,"name"],[126,20,130,18],[126,24,130,22,"defaultFunctionName"],[126,43,130,41],[127,4,131,2],[127,5,131,3],[127,6,131,4],[127,13,131,11,"e"],[127,14,131,12],[127,16,131,14],[128,6,132,4],[129,6,133,4],[130,6,134,4],[130,13,134,11,"defaultFunctionName"],[130,32,134,30],[131,4,135,2],[132,2,136,0],[134,2,138,0],[135,0,139,0],[136,0,140,0],[137,0,141,0],[138,0,142,0],[139,0,143,0],[140,2,144,0],[140,11,144,9,"nodeStackLineParser"],[140,30,144,28,"nodeStackLineParser"],[140,31,144,29,"getModule"],[140,40,144,38],[140,42,144,40],[141,4,145,2],[141,11,145,9],[141,12,145,10],[141,14,145,12],[141,16,145,14,"nodeStackTrace"],[141,30,145,28],[141,31,145,29,"node"],[141,35,145,33],[141,36,145,34,"getModule"],[141,45,145,43],[141,46,145,44],[141,47,145,45],[142,2,146,0],[143,2,148,0,"exports"],[143,9,148,7],[143,10,148,8,"filenameIsInApp"],[143,25,148,23],[143,28,148,26,"nodeStackTrace"],[143,42,148,40],[143,43,148,41,"filenameIsInApp"],[143,58,148,56],[144,2,149,0,"exports"],[144,9,149,7],[144,10,149,8,"createStackParser"],[144,27,149,25],[144,30,149,28,"createStackParser"],[144,47,149,45],[145,2,150,0,"exports"],[145,9,150,7],[145,10,150,8,"getFunctionName"],[145,25,150,23],[145,28,150,26,"getFunctionName"],[145,43,150,41],[146,2,151,0,"exports"],[146,9,151,7],[146,10,151,8,"nodeStackLineParser"],[146,29,151,27],[146,32,151,30,"nodeStackLineParser"],[146,51,151,49],[147,2,152,0,"exports"],[147,9,152,7],[147,10,152,8,"stackParserFromStackParserOptions"],[147,43,152,41],[147,46,152,44,"stackParserFromStackParserOptions"],[147,79,152,77],[148,2,153,0,"exports"],[148,9,153,7],[148,10,153,8,"stripSentryFramesAndReverse"],[148,37,153,35],[148,40,153,38,"stripSentryFramesAndReverse"],[148,67,153,65],[149,0,153,66],[149,3]],"functionMap":{"names":["<global>","createStackParser","parsers.sort$argument_0","parsers.sort.map$argument_0","<anonymous>","stackParserFromStackParserOptions","stripSentryFramesAndReverse","localStack.slice.map$argument_0","getFunctionName","nodeStackLineParser"],"mappings":"AAA;ACgB;qCCC,qBD,ME,SF;SGE;GHuC;CDC;AKQ;CLK;AMQ;yDCgC;IDI;CNC;AQO;CRW;ASQ;CTE"},"hasCjsExports":true},"type":"js/module"}]}