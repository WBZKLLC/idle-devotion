{"dependencies":[{"name":"@sentry/browser","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":16,"index":80},"end":{"line":3,"column":42,"index":106}}],"key":"T2ZLLqsXFojThN7EGkYpg2gN0A0=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":14,"index":122},"end":{"line":4,"column":38,"index":146}}],"key":"ud8OE6Lg8Q81+bS6ynZj2uyMPdA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  const browser = require(_dependencyMap[0], \"@sentry/browser\");\n  const utils = require(_dependencyMap[1], \"@sentry/utils\");\n\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n\n  const ACTION_BREADCRUMB_CATEGORY = 'redux.action';\n  const ACTION_BREADCRUMB_TYPE = 'info';\n  const defaultOptions = {\n    attachReduxState: true,\n    actionTransformer: action => action,\n    stateTransformer: state => state || null\n  };\n\n  /**\n   * Creates an enhancer that would be passed to Redux's createStore to log actions and the latest state to Sentry.\n   *\n   * @param enhancerOptions Options to pass to the enhancer\n   */\n  function createReduxEnhancer(enhancerOptions) {\n    // Note: We return an any type as to not have type conflicts.\n    const options = {\n      ...defaultOptions,\n      ...enhancerOptions\n    };\n    return next => (reducer, initialState) => {\n      options.attachReduxState && browser.addGlobalEventProcessor((event, hint) => {\n        try {\n          // @ts-expect-error try catch to reduce bundle size\n          if (event.type === undefined && event.contexts.state.state.type === 'redux') {\n            hint.attachments = [...(hint.attachments || []),\n            // @ts-expect-error try catch to reduce bundle size\n            {\n              filename: 'redux_state.json',\n              data: JSON.stringify(event.contexts.state.state.value)\n            }];\n          }\n        } catch (_) {\n          // empty\n        }\n        return event;\n      });\n      const sentryReducer = (state, action) => {\n        const newState = reducer(state, action);\n        browser.configureScope(scope => {\n          /* Action breadcrumbs */\n          const transformedAction = options.actionTransformer(action);\n          if (typeof transformedAction !== 'undefined' && transformedAction !== null) {\n            scope.addBreadcrumb({\n              category: ACTION_BREADCRUMB_CATEGORY,\n              data: transformedAction,\n              type: ACTION_BREADCRUMB_TYPE\n            });\n          }\n\n          /* Set latest state to scope */\n          const transformedState = options.stateTransformer(newState);\n          if (typeof transformedState !== 'undefined' && transformedState !== null) {\n            const client = browser.getCurrentHub().getClient();\n            const options = client && client.getOptions();\n            const normalizationDepth = options && options.normalizeDepth || 3; // default state normalization depth to 3\n\n            // Set the normalization depth of the redux state to the configured `normalizeDepth` option or a sane number as a fallback\n            const newStateContext = {\n              state: {\n                type: 'redux',\n                value: transformedState\n              }\n            };\n            utils.addNonEnumerableProperty(newStateContext, '__sentry_override_normalization_depth__', 3 +\n            // 3 layers for `state.value.transformedState`\n            normalizationDepth // rest for the actual state\n            );\n            scope.setContext('state', newStateContext);\n          } else {\n            scope.setContext('state', null);\n          }\n\n          /* Allow user to configure scope with latest state */\n          const {\n            configureScopeWithState\n          } = options;\n          if (typeof configureScopeWithState === 'function') {\n            configureScopeWithState(scope, newState);\n          }\n        });\n        return newState;\n      };\n      return next(sentryReducer, initialState);\n    };\n  }\n  exports.createReduxEnhancer = createReduxEnhancer;\n});","lineCount":96,"map":[[2,2,1,0,"Object"],[2,8,1,6],[2,9,1,7,"defineProperty"],[2,23,1,21],[2,24,1,22,"exports"],[2,31,1,29],[2,33,1,31],[2,45,1,43],[2,47,1,45],[3,4,1,47,"value"],[3,9,1,52],[3,11,1,54],[4,2,1,59],[4,3,1,60],[4,4,1,61],[5,2,3,0],[5,8,3,6,"browser"],[5,15,3,13],[5,18,3,16,"require"],[5,25,3,23],[5,26,3,23,"_dependencyMap"],[5,40,3,23],[5,62,3,41],[5,63,3,42],[6,2,4,0],[6,8,4,6,"utils"],[6,13,4,11],[6,16,4,14,"require"],[6,23,4,21],[6,24,4,21,"_dependencyMap"],[6,38,4,21],[6,58,4,37],[6,59,4,38],[8,2,6,0],[10,2,8,0],[10,8,8,6,"ACTION_BREADCRUMB_CATEGORY"],[10,34,8,32],[10,37,8,35],[10,51,8,49],[11,2,9,0],[11,8,9,6,"ACTION_BREADCRUMB_TYPE"],[11,30,9,28],[11,33,9,31],[11,39,9,37],[12,2,11,0],[12,8,11,6,"defaultOptions"],[12,22,11,20],[12,25,11,23],[13,4,12,2,"attachReduxState"],[13,20,12,18],[13,22,12,20],[13,26,12,24],[14,4,13,2,"actionTransformer"],[14,21,13,19],[14,23,13,21,"action"],[14,29,13,27],[14,33,13,31,"action"],[14,39,13,37],[15,4,14,2,"stateTransformer"],[15,20,14,18],[15,22,14,20,"state"],[15,27,14,25],[15,31,14,29,"state"],[15,36,14,34],[15,40,14,38],[16,2,15,0],[16,3,15,1],[18,2,17,0],[19,0,18,0],[20,0,19,0],[21,0,20,0],[22,0,21,0],[23,2,22,0],[23,11,22,9,"createReduxEnhancer"],[23,30,22,28,"createReduxEnhancer"],[23,31,22,29,"enhancerOptions"],[23,46,22,44],[23,48,22,46],[24,4,23,2],[25,4,24,2],[25,10,24,8,"options"],[25,17,24,15],[25,20,24,18],[26,6,25,4],[26,9,25,7,"defaultOptions"],[26,23,25,21],[27,6,26,4],[27,9,26,7,"enhancerOptions"],[28,4,27,2],[28,5,27,3],[29,4,29,2],[29,11,29,10,"next"],[29,15,29,14],[29,19,30,4],[29,20,30,5,"reducer"],[29,27,30,12],[29,29,30,14,"initialState"],[29,41,30,26],[29,46,30,31],[30,6,31,6,"options"],[30,13,31,13],[30,14,31,14,"attachReduxState"],[30,30,31,30],[30,34,32,8,"browser"],[30,41,32,15],[30,42,32,16,"addGlobalEventProcessor"],[30,65,32,39],[30,66,32,40],[30,67,32,41,"event"],[30,72,32,46],[30,74,32,48,"hint"],[30,78,32,52],[30,83,32,57],[31,8,33,10],[31,12,33,14],[32,10,34,12],[33,10,35,12],[33,14,35,16,"event"],[33,19,35,21],[33,20,35,22,"type"],[33,24,35,26],[33,29,35,31,"undefined"],[33,38,35,40],[33,42,35,44,"event"],[33,47,35,49],[33,48,35,50,"contexts"],[33,56,35,58],[33,57,35,59,"state"],[33,62,35,64],[33,63,35,65,"state"],[33,68,35,70],[33,69,35,71,"type"],[33,73,35,75],[33,78,35,80],[33,85,35,87],[33,87,35,89],[34,12,36,14,"hint"],[34,16,36,18],[34,17,36,19,"attachments"],[34,28,36,30],[34,31,36,33],[34,32,37,16],[34,36,37,20,"hint"],[34,40,37,24],[34,41,37,25,"attachments"],[34,52,37,36],[34,56,37,40],[34,58,37,42],[34,59,37,43],[35,12,38,16],[36,12,39,16],[37,14,39,18,"filename"],[37,22,39,26],[37,24,39,28],[37,42,39,46],[38,14,39,48,"data"],[38,18,39,52],[38,20,39,54,"JSON"],[38,24,39,58],[38,25,39,59,"stringify"],[38,34,39,68],[38,35,39,69,"event"],[38,40,39,74],[38,41,39,75,"contexts"],[38,49,39,83],[38,50,39,84,"state"],[38,55,39,89],[38,56,39,90,"state"],[38,61,39,95],[38,62,39,96,"value"],[38,67,39,101],[39,12,39,103],[39,13,39,104],[39,14,40,15],[40,10,41,12],[41,8,42,10],[41,9,42,11],[41,10,42,12],[41,17,42,19,"_"],[41,18,42,20],[41,20,42,22],[42,10,43,12],[43,8,43,12],[44,8,45,10],[44,15,45,17,"event"],[44,20,45,22],[45,6,46,8],[45,7,46,9],[45,8,46,10],[46,6,48,6],[46,12,48,12,"sentryReducer"],[46,25,48,25],[46,28,48,28,"sentryReducer"],[46,29,48,29,"state"],[46,34,48,34],[46,36,48,36,"action"],[46,42,48,42],[46,47,48,47],[47,8,49,8],[47,14,49,14,"newState"],[47,22,49,22],[47,25,49,25,"reducer"],[47,32,49,32],[47,33,49,33,"state"],[47,38,49,38],[47,40,49,40,"action"],[47,46,49,46],[47,47,49,47],[48,8,51,8,"browser"],[48,15,51,15],[48,16,51,16,"configureScope"],[48,30,51,30],[48,31,51,31,"scope"],[48,36,51,36],[48,40,51,40],[49,10,52,10],[50,10,53,10],[50,16,53,16,"transformedAction"],[50,33,53,33],[50,36,53,36,"options"],[50,43,53,43],[50,44,53,44,"actionTransformer"],[50,61,53,61],[50,62,53,62,"action"],[50,68,53,68],[50,69,53,69],[51,10,54,10],[51,14,54,14],[51,21,54,21,"transformedAction"],[51,38,54,38],[51,43,54,43],[51,54,54,54],[51,58,54,58,"transformedAction"],[51,75,54,75],[51,80,54,80],[51,84,54,84],[51,86,54,86],[52,12,55,12,"scope"],[52,17,55,17],[52,18,55,18,"addBreadcrumb"],[52,31,55,31],[52,32,55,32],[53,14,56,14,"category"],[53,22,56,22],[53,24,56,24,"ACTION_BREADCRUMB_CATEGORY"],[53,50,56,50],[54,14,57,14,"data"],[54,18,57,18],[54,20,57,20,"transformedAction"],[54,37,57,37],[55,14,58,14,"type"],[55,18,58,18],[55,20,58,20,"ACTION_BREADCRUMB_TYPE"],[56,12,59,12],[56,13,59,13],[56,14,59,14],[57,10,60,10],[59,10,62,10],[60,10,63,10],[60,16,63,16,"transformedState"],[60,32,63,32],[60,35,63,35,"options"],[60,42,63,42],[60,43,63,43,"stateTransformer"],[60,59,63,59],[60,60,63,60,"newState"],[60,68,63,68],[60,69,63,69],[61,10,64,10],[61,14,64,14],[61,21,64,21,"transformedState"],[61,37,64,37],[61,42,64,42],[61,53,64,53],[61,57,64,57,"transformedState"],[61,73,64,73],[61,78,64,78],[61,82,64,82],[61,84,64,84],[62,12,65,12],[62,18,65,18,"client"],[62,24,65,24],[62,27,65,27,"browser"],[62,34,65,34],[62,35,65,35,"getCurrentHub"],[62,48,65,48],[62,49,65,49],[62,50,65,50],[62,51,65,51,"getClient"],[62,60,65,60],[62,61,65,61],[62,62,65,62],[63,12,66,12],[63,18,66,18,"options"],[63,25,66,25],[63,28,66,28,"client"],[63,34,66,34],[63,38,66,38,"client"],[63,44,66,44],[63,45,66,45,"getOptions"],[63,55,66,55],[63,56,66,56],[63,57,66,57],[64,12,67,12],[64,18,67,18,"normalizationDepth"],[64,36,67,36],[64,39,67,40,"options"],[64,46,67,47],[64,50,67,51,"options"],[64,57,67,58],[64,58,67,59,"normalizeDepth"],[64,72,67,73],[64,76,67,78],[64,77,67,79],[64,78,67,80],[64,79,67,81],[66,12,69,12],[67,12,70,12],[67,18,70,18,"newStateContext"],[67,33,70,33],[67,36,70,36],[68,14,70,38,"state"],[68,19,70,43],[68,21,70,45],[69,16,70,47,"type"],[69,20,70,51],[69,22,70,53],[69,29,70,60],[70,16,70,62,"value"],[70,21,70,67],[70,23,70,69,"transformedState"],[71,14,70,86],[72,12,70,88],[72,13,70,89],[73,12,71,12,"utils"],[73,17,71,17],[73,18,71,18,"addNonEnumerableProperty"],[73,42,71,42],[73,43,72,14,"newStateContext"],[73,58,72,29],[73,60,73,14],[73,101,73,55],[73,103,74,14],[73,104,74,15],[74,12,74,18],[75,12,75,16,"normalizationDepth"],[75,30,75,34],[75,31,75,36],[76,12,76,12],[76,13,76,13],[77,12,78,12,"scope"],[77,17,78,17],[77,18,78,18,"setContext"],[77,28,78,28],[77,29,78,29],[77,36,78,36],[77,38,78,38,"newStateContext"],[77,53,78,53],[77,54,78,54],[78,10,79,10],[78,11,79,11],[78,17,79,17],[79,12,80,12,"scope"],[79,17,80,17],[79,18,80,18,"setContext"],[79,28,80,28],[79,29,80,29],[79,36,80,36],[79,38,80,38],[79,42,80,42],[79,43,80,43],[80,10,81,10],[82,10,83,10],[83,10,84,10],[83,16,84,16],[84,12,84,18,"configureScopeWithState"],[85,10,84,42],[85,11,84,43],[85,14,84,46,"options"],[85,21,84,53],[86,10,85,10],[86,14,85,14],[86,21,85,21,"configureScopeWithState"],[86,44,85,44],[86,49,85,49],[86,59,85,59],[86,61,85,61],[87,12,86,12,"configureScopeWithState"],[87,35,86,35],[87,36,86,36,"scope"],[87,41,86,41],[87,43,86,43,"newState"],[87,51,86,51],[87,52,86,52],[88,10,87,10],[89,8,88,8],[89,9,88,9],[89,10,88,10],[90,8,90,8],[90,15,90,15,"newState"],[90,23,90,23],[91,6,91,6],[91,7,91,7],[92,6,93,6],[92,13,93,13,"next"],[92,17,93,17],[92,18,93,18,"sentryReducer"],[92,31,93,31],[92,33,93,33,"initialState"],[92,45,93,45],[92,46,93,46],[93,4,94,4],[93,5,94,5],[94,2,95,0],[95,2,97,0,"exports"],[95,9,97,7],[95,10,97,8,"createReduxEnhancer"],[95,29,97,27],[95,32,97,30,"createReduxEnhancer"],[95,51,97,49],[96,0,97,50],[96,3]],"functionMap":{"names":["<global>","defaultOptions.actionTransformer","defaultOptions.stateTransformer","createReduxEnhancer","<anonymous>","browser.addGlobalEventProcessor$argument_0","sentryReducer","browser.configureScope$argument_0"],"mappings":"AAA;qBCY,gBD;oBEC,sBF;AGQ;SCO;wCCG;SDc;4BEE;+BCG;SDqC;OFG;KDG;CHC"},"hasCjsExports":true},"type":"js/module"}]}