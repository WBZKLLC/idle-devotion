{"dependencies":[{"name":"../helpers.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":16,"index":80},"end":{"line":3,"column":40,"index":104}}],"key":"SE77CtsJgC8iI+dksCgETtr2kFg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  const helpers = require(_dependencyMap[0], \"../helpers.js\");\n\n  /** HttpContext integration collects information about HTTP request headers */\n  class HttpContext {\n    /**\n     * @inheritDoc\n     */\n    static __initStatic() {\n      this.id = 'HttpContext';\n    }\n\n    /**\n     * @inheritDoc\n     */\n\n    constructor() {\n      this.name = HttpContext.id;\n    }\n\n    /**\n     * @inheritDoc\n     */\n    setupOnce() {\n      // noop\n    }\n\n    /** @inheritDoc */\n    preprocessEvent(event) {\n      // if none of the information we want exists, don't bother\n      if (!helpers.WINDOW.navigator && !helpers.WINDOW.location && !helpers.WINDOW.document) {\n        return;\n      }\n\n      // grab as much info as exists and add it to the event\n      const url = event.request && event.request.url || helpers.WINDOW.location && helpers.WINDOW.location.href;\n      const {\n        referrer\n      } = helpers.WINDOW.document || {};\n      const {\n        userAgent\n      } = helpers.WINDOW.navigator || {};\n      const headers = {\n        ...(event.request && event.request.headers),\n        ...(referrer && {\n          Referer: referrer\n        }),\n        ...(userAgent && {\n          'User-Agent': userAgent\n        })\n      };\n      const request = {\n        ...event.request,\n        ...(url && {\n          url\n        }),\n        headers\n      };\n      event.request = request;\n    }\n  }\n  HttpContext.__initStatic();\n  exports.HttpContext = HttpContext;\n});","lineCount":67,"map":[[2,2,1,0,"Object"],[2,8,1,6],[2,9,1,7,"defineProperty"],[2,23,1,21],[2,24,1,22,"exports"],[2,31,1,29],[2,33,1,31],[2,45,1,43],[2,47,1,45],[3,4,1,47,"value"],[3,9,1,52],[3,11,1,54],[4,2,1,59],[4,3,1,60],[4,4,1,61],[5,2,3,0],[5,8,3,6,"helpers"],[5,15,3,13],[5,18,3,16,"require"],[5,25,3,23],[5,26,3,23,"_dependencyMap"],[5,40,3,23],[5,60,3,39],[5,61,3,40],[7,2,5,0],[8,2,6,0],[8,8,6,6,"HttpContext"],[8,19,6,17],[8,20,6,19],[9,4,7,2],[10,0,8,0],[11,0,9,0],[12,4,10,3],[12,11,10,10,"__initStatic"],[12,23,10,22,"__initStatic"],[12,24,10,22],[12,26,10,25],[13,6,10,26],[13,10,10,30],[13,11,10,31,"id"],[13,13,10,33],[13,16,10,36],[13,29,10,49],[14,4,10,50],[16,4,12,2],[17,0,13,0],[18,0,14,0],[20,4,16,3,"constructor"],[20,15,16,14,"constructor"],[20,16,16,14],[20,18,16,17],[21,6,17,4],[21,10,17,8],[21,11,17,9,"name"],[21,15,17,13],[21,18,17,16,"HttpContext"],[21,29,17,27],[21,30,17,28,"id"],[21,32,17,30],[22,4,18,2],[24,4,20,2],[25,0,21,0],[26,0,22,0],[27,4,23,3,"setupOnce"],[27,13,23,12,"setupOnce"],[27,14,23,12],[27,16,23,15],[28,6,24,4],[29,4,24,4],[31,4,27,2],[32,4,28,3,"preprocessEvent"],[32,19,28,18,"preprocessEvent"],[32,20,28,19,"event"],[32,25,28,24],[32,27,28,26],[33,6,29,4],[34,6,30,4],[34,10,30,8],[34,11,30,9,"helpers"],[34,18,30,16],[34,19,30,17,"WINDOW"],[34,25,30,23],[34,26,30,24,"navigator"],[34,35,30,33],[34,39,30,37],[34,40,30,38,"helpers"],[34,47,30,45],[34,48,30,46,"WINDOW"],[34,54,30,52],[34,55,30,53,"location"],[34,63,30,61],[34,67,30,65],[34,68,30,66,"helpers"],[34,75,30,73],[34,76,30,74,"WINDOW"],[34,82,30,80],[34,83,30,81,"document"],[34,91,30,89],[34,93,30,91],[35,8,31,6],[36,6,32,4],[38,6,34,4],[39,6,35,4],[39,12,35,10,"url"],[39,15,35,13],[39,18,35,17,"event"],[39,23,35,22],[39,24,35,23,"request"],[39,31,35,30],[39,35,35,34,"event"],[39,40,35,39],[39,41,35,40,"request"],[39,48,35,47],[39,49,35,48,"url"],[39,52,35,51],[39,56,35,57,"helpers"],[39,63,35,64],[39,64,35,65,"WINDOW"],[39,70,35,71],[39,71,35,72,"location"],[39,79,35,80],[39,83,35,84,"helpers"],[39,90,35,91],[39,91,35,92,"WINDOW"],[39,97,35,98],[39,98,35,99,"location"],[39,106,35,107],[39,107,35,108,"href"],[39,111,35,113],[40,6,36,4],[40,12,36,10],[41,8,36,12,"referrer"],[42,6,36,21],[42,7,36,22],[42,10,36,25,"helpers"],[42,17,36,32],[42,18,36,33,"WINDOW"],[42,24,36,39],[42,25,36,40,"document"],[42,33,36,48],[42,37,36,52],[42,38,36,53],[42,39,36,54],[43,6,37,4],[43,12,37,10],[44,8,37,12,"userAgent"],[45,6,37,22],[45,7,37,23],[45,10,37,26,"helpers"],[45,17,37,33],[45,18,37,34,"WINDOW"],[45,24,37,40],[45,25,37,41,"navigator"],[45,34,37,50],[45,38,37,54],[45,39,37,55],[45,40,37,56],[46,6,39,4],[46,12,39,10,"headers"],[46,19,39,17],[46,22,39,20],[47,8,40,6],[47,12,40,10,"event"],[47,17,40,15],[47,18,40,16,"request"],[47,25,40,23],[47,29,40,27,"event"],[47,34,40,32],[47,35,40,33,"request"],[47,42,40,40],[47,43,40,41,"headers"],[47,50,40,48],[47,51,40,49],[48,8,41,6],[48,12,41,10,"referrer"],[48,20,41,18],[48,24,41,22],[49,10,41,24,"Referer"],[49,17,41,31],[49,19,41,33,"referrer"],[50,8,41,42],[50,9,41,43],[50,10,41,44],[51,8,42,6],[51,12,42,10,"userAgent"],[51,21,42,19],[51,25,42,23],[52,10,42,25],[52,22,42,37],[52,24,42,39,"userAgent"],[53,8,42,49],[53,9,42,50],[54,6,43,4],[54,7,43,5],[55,6,44,4],[55,12,44,10,"request"],[55,19,44,17],[55,22,44,20],[56,8,44,22],[56,11,44,25,"event"],[56,16,44,30],[56,17,44,31,"request"],[56,24,44,38],[57,8,44,40],[57,12,44,44,"url"],[57,15,44,47],[57,19,44,51],[58,10,44,53,"url"],[59,8,44,57],[59,9,44,58],[59,10,44,59],[60,8,44,61,"headers"],[61,6,44,69],[61,7,44,70],[62,6,46,4,"event"],[62,11,46,9],[62,12,46,10,"request"],[62,19,46,17],[62,22,46,20,"request"],[62,29,46,27],[63,4,47,2],[64,2,48,0],[65,2,48,2,"HttpContext"],[65,13,48,13],[65,14,48,14,"__initStatic"],[65,26,48,26],[65,27,48,27],[65,28,48,28],[66,2,50,0,"exports"],[66,9,50,7],[66,10,50,8,"HttpContext"],[66,21,50,19],[66,24,50,22,"HttpContext"],[66,35,50,33],[67,0,50,34],[67,3]],"functionMap":{"names":["<global>","HttpContext","HttpContext.__initStatic","HttpContext#constructor","HttpContext#setupOnce","HttpContext#preprocessEvent"],"mappings":"AAA;ACK;GCI,gDD;GEM;GFE;GGK;GHE;GIG;GJmB;CDC"},"hasCjsExports":true},"type":"js/module"}]}