{"dependencies":[{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"m+kcirlwHAgMIuUoyR2vCxbhWD4=","exportNames":["*"],"imports":1}},{"name":"../metadata.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":88,"index":141}}],"key":"e+GcWU7PM4jYDq7rLAthu62vi9g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"ModuleMetadata\", {\n    enumerable: true,\n    get: function () {\n      return ModuleMetadata;\n    }\n  });\n  var _sentryUtils = require(_dependencyMap[0], \"@sentry/utils\");\n  var _metadataJs = require(_dependencyMap[1], \"../metadata.js\");\n  /**\n   * Adds module metadata to stack frames.\n   *\n   * Metadata can be injected by the Sentry bundler plugins using the `_experiments.moduleMetadata` config option.\n   *\n   * When this integration is added, the metadata passed to the bundler plugin is added to the stack frames of all events\n   * under the `module_metadata` property. This can be used to help in tagging or routing of events from different teams\n   * our sources\n   */\n  class ModuleMetadata {\n    /*\n     * @inheritDoc\n     */\n    static __initStatic() {\n      this.id = 'ModuleMetadata';\n    }\n\n    /**\n     * @inheritDoc\n     */\n\n    constructor() {\n      this.name = ModuleMetadata.id;\n    }\n\n    /**\n     * @inheritDoc\n     */\n    setupOnce(addGlobalEventProcessor, getCurrentHub) {\n      const client = getCurrentHub().getClient();\n      if (!client || typeof client.on !== 'function') {\n        return;\n      }\n\n      // We need to strip metadata from stack frames before sending them to Sentry since these are client side only.\n      client.on('beforeEnvelope', envelope => {\n        (0, _sentryUtils.forEachEnvelopeItem)(envelope, (item, type) => {\n          if (type === 'event') {\n            const event = Array.isArray(item) ? item[1] : undefined;\n            if (event) {\n              (0, _metadataJs.stripMetadataFromStackFrames)(event);\n              item[1] = event;\n            }\n          }\n        });\n      });\n      const stackParser = client.getOptions().stackParser;\n      addGlobalEventProcessor(event => {\n        (0, _metadataJs.addMetadataToStackFrames)(stackParser, event);\n        return event;\n      });\n    }\n  }\n  ModuleMetadata.__initStatic();\n});","lineCount":69,"map":[[7,2,60,0,"Object"],[7,8,60,0],[7,9,60,0,"defineProperty"],[7,23,60,0],[7,24,60,0,"exports"],[7,31,60,0],[8,4,60,0,"enumerable"],[8,14,60,0],[9,4,60,0,"get"],[9,7,60,0],[9,18,60,0,"get"],[9,19,60,0],[10,6,60,0],[10,13,60,9,"ModuleMetadata"],[10,27,60,23],[11,4,60,23],[12,2,60,23],[13,2,1,0],[13,6,1,0,"_sentryUtils"],[13,18,1,0],[13,21,1,0,"require"],[13,28,1,0],[13,29,1,0,"_dependencyMap"],[13,43,1,0],[14,2,2,0],[14,6,2,0,"_metadataJs"],[14,17,2,0],[14,20,2,0,"require"],[14,27,2,0],[14,28,2,0,"_dependencyMap"],[14,42,2,0],[15,2,4,0],[16,0,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,2,13,0],[24,8,13,6,"ModuleMetadata"],[24,22,13,20],[24,23,13,22],[25,4,14,2],[26,0,15,0],[27,0,16,0],[28,4,17,3],[28,11,17,10,"__initStatic"],[28,23,17,22,"__initStatic"],[28,24,17,22],[28,26,17,25],[29,6,17,26],[29,10,17,30],[29,11,17,31,"id"],[29,13,17,33],[29,16,17,36],[29,32,17,52],[30,4,17,53],[32,4,19,2],[33,0,20,0],[34,0,21,0],[36,4,23,3,"constructor"],[36,15,23,14,"constructor"],[36,16,23,14],[36,18,23,17],[37,6,24,4],[37,10,24,8],[37,11,24,9,"name"],[37,15,24,13],[37,18,24,16,"ModuleMetadata"],[37,32,24,30],[37,33,24,31,"id"],[37,35,24,33],[38,4,25,2],[40,4,27,2],[41,0,28,0],[42,0,29,0],[43,4,30,3,"setupOnce"],[43,13,30,12,"setupOnce"],[43,14,30,13,"addGlobalEventProcessor"],[43,37,30,36],[43,39,30,38,"getCurrentHub"],[43,52,30,51],[43,54,30,53],[44,6,31,4],[44,12,31,10,"client"],[44,18,31,16],[44,21,31,19,"getCurrentHub"],[44,34,31,32],[44,35,31,33],[44,36,31,34],[44,37,31,35,"getClient"],[44,46,31,44],[44,47,31,45],[44,48,31,46],[45,6,33,4],[45,10,33,8],[45,11,33,9,"client"],[45,17,33,15],[45,21,33,19],[45,28,33,26,"client"],[45,34,33,32],[45,35,33,33,"on"],[45,37,33,35],[45,42,33,40],[45,52,33,50],[45,54,33,52],[46,8,34,6],[47,6,35,4],[49,6,37,4],[50,6,38,4,"client"],[50,12,38,10],[50,13,38,11,"on"],[50,15,38,13],[50,16,38,14],[50,32,38,30],[50,34,38,32,"envelope"],[50,42,38,40],[50,46,38,44],[51,8,39,6],[51,12,39,6,"forEachEnvelopeItem"],[51,24,39,25],[51,25,39,25,"forEachEnvelopeItem"],[51,44,39,25],[51,46,39,26,"envelope"],[51,54,39,34],[51,56,39,36],[51,57,39,37,"item"],[51,61,39,41],[51,63,39,43,"type"],[51,67,39,47],[51,72,39,52],[52,10,40,8],[52,14,40,12,"type"],[52,18,40,16],[52,23,40,21],[52,30,40,28],[52,32,40,30],[53,12,41,10],[53,18,41,16,"event"],[53,23,41,21],[53,26,41,24,"Array"],[53,31,41,29],[53,32,41,30,"isArray"],[53,39,41,37],[53,40,41,38,"item"],[53,44,41,42],[53,45,41,43],[53,48,41,47,"item"],[53,52,41,51],[53,53,41,54],[53,54,41,55],[53,55,41,56],[53,58,41,59,"undefined"],[53,67,41,68],[54,12,43,10],[54,16,43,14,"event"],[54,21,43,19],[54,23,43,21],[55,14,44,12],[55,18,44,12,"stripMetadataFromStackFrames"],[55,29,44,40],[55,30,44,40,"stripMetadataFromStackFrames"],[55,58,44,40],[55,60,44,41,"event"],[55,65,44,46],[55,66,44,47],[56,14,45,12,"item"],[56,18,45,16],[56,19,45,17],[56,20,45,18],[56,21,45,19],[56,24,45,22,"event"],[56,29,45,27],[57,12,46,10],[58,10,47,8],[59,8,48,6],[59,9,48,7],[59,10,48,8],[60,6,49,4],[60,7,49,5],[60,8,49,6],[61,6,51,4],[61,12,51,10,"stackParser"],[61,23,51,21],[61,26,51,24,"client"],[61,32,51,30],[61,33,51,31,"getOptions"],[61,43,51,41],[61,44,51,42],[61,45,51,43],[61,46,51,44,"stackParser"],[61,57,51,55],[62,6,53,4,"addGlobalEventProcessor"],[62,29,53,27],[62,30,53,28,"event"],[62,35,53,33],[62,39,53,37],[63,8,54,6],[63,12,54,6,"addMetadataToStackFrames"],[63,23,54,30],[63,24,54,30,"addMetadataToStackFrames"],[63,48,54,30],[63,50,54,31,"stackParser"],[63,61,54,42],[63,63,54,44,"event"],[63,68,54,49],[63,69,54,50],[64,8,55,6],[64,15,55,13,"event"],[64,20,55,18],[65,6,56,4],[65,7,56,5],[65,8,56,6],[66,4,57,2],[67,2,58,0],[68,2,58,2,"ModuleMetadata"],[68,16,58,16],[68,17,58,17,"__initStatic"],[68,29,58,29],[68,30,58,30],[68,31,58,31],[69,0,58,32],[69,3]],"functionMap":{"names":["<global>","ModuleMetadata","ModuleMetadata.__initStatic","ModuleMetadata#constructor","ModuleMetadata#setupOnce","client.on$argument_1","forEachEnvelopeItem$argument_1","addGlobalEventProcessor$argument_0"],"mappings":"AAA;ACY;GCI,mDD;GEM;GFE;GGK;gCCQ;oCCC;ODS;KDC;4BGI;KHG;GHC;CDC"},"hasCjsExports":false},"type":"js/module"}]}