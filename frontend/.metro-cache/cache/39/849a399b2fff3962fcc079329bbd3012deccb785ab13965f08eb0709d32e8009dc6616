{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"./logger.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":15,"index":79},"end":{"line":3,"column":37,"index":101}}],"key":"OSXCW3dnRVSai6/mGt/zNQRtyzs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _slicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\").default;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var logger = require(_dependencyMap[1], \"./logger.js\");\n\n  /** Regular expression used to parse a Dsn. */\n  var DSN_REGEX = /^(?:(\\w+):)\\/\\/(?:(\\w+)(?::(\\w+)?)?@)([\\w.-]+)(?::(\\d+))?\\/(.+)/;\n  function isValidProtocol(protocol) {\n    return protocol === 'http' || protocol === 'https';\n  }\n\n  /**\n   * Renders the string representation of this Dsn.\n   *\n   * By default, this will render the public representation without the password\n   * component. To get the deprecated private representation, set `withPassword`\n   * to true.\n   *\n   * @param withPassword When set to true, the password will be included.\n   */\n  function dsnToString(dsn) {\n    var withPassword = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var host = dsn.host,\n      path = dsn.path,\n      pass = dsn.pass,\n      port = dsn.port,\n      projectId = dsn.projectId,\n      protocol = dsn.protocol,\n      publicKey = dsn.publicKey;\n    return `${protocol}://${publicKey}${withPassword && pass ? `:${pass}` : ''}` + `@${host}${port ? `:${port}` : ''}/${path ? `${path}/` : path}${projectId}`;\n  }\n\n  /**\n   * Parses a Dsn from a given string.\n   *\n   * @param str A Dsn as string\n   * @returns Dsn as DsnComponents or undefined if @param str is not a valid DSN string\n   */\n  function dsnFromString(str) {\n    var match = DSN_REGEX.exec(str);\n    if (!match) {\n      // This should be logged to the console\n      // eslint-disable-next-line no-console\n      console.error(`Invalid Sentry Dsn: ${str}`);\n      return undefined;\n    }\n    var _match$slice = match.slice(1),\n      _match$slice2 = _slicedToArray(_match$slice, 6),\n      protocol = _match$slice2[0],\n      publicKey = _match$slice2[1],\n      _match$slice2$ = _match$slice2[2],\n      pass = _match$slice2$ === void 0 ? '' : _match$slice2$,\n      host = _match$slice2[3],\n      _match$slice2$2 = _match$slice2[4],\n      port = _match$slice2$2 === void 0 ? '' : _match$slice2$2,\n      lastPath = _match$slice2[5];\n    var path = '';\n    var projectId = lastPath;\n    var split = projectId.split('/');\n    if (split.length > 1) {\n      path = split.slice(0, -1).join('/');\n      projectId = split.pop();\n    }\n    if (projectId) {\n      var projectMatch = projectId.match(/^\\d+/);\n      if (projectMatch) {\n        projectId = projectMatch[0];\n      }\n    }\n    return dsnFromComponents({\n      host,\n      pass,\n      path,\n      projectId,\n      port,\n      protocol: protocol,\n      publicKey\n    });\n  }\n  function dsnFromComponents(components) {\n    return {\n      protocol: components.protocol,\n      publicKey: components.publicKey || '',\n      pass: components.pass || '',\n      host: components.host,\n      port: components.port || '',\n      path: components.path || '',\n      projectId: components.projectId\n    };\n  }\n  function validateDsn(dsn) {\n    if (!(typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__)) {\n      return true;\n    }\n    var port = dsn.port,\n      projectId = dsn.projectId,\n      protocol = dsn.protocol;\n    var requiredComponents = ['protocol', 'publicKey', 'host', 'projectId'];\n    var hasMissingRequiredComponent = requiredComponents.find(component => {\n      if (!dsn[component]) {\n        logger.logger.error(`Invalid Sentry Dsn: ${component} missing`);\n        return true;\n      }\n      return false;\n    });\n    if (hasMissingRequiredComponent) {\n      return false;\n    }\n    if (!projectId.match(/^\\d+$/)) {\n      logger.logger.error(`Invalid Sentry Dsn: Invalid projectId ${projectId}`);\n      return false;\n    }\n    if (!isValidProtocol(protocol)) {\n      logger.logger.error(`Invalid Sentry Dsn: Invalid protocol ${protocol}`);\n      return false;\n    }\n    if (port && isNaN(parseInt(port, 10))) {\n      logger.logger.error(`Invalid Sentry Dsn: Invalid port ${port}`);\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Creates a valid Sentry Dsn object, identifying a Sentry instance and project.\n   * @returns a valid DsnComponents object or `undefined` if @param from is an invalid DSN source\n   */\n  function makeDsn(from) {\n    var components = typeof from === 'string' ? dsnFromString(from) : dsnFromComponents(from);\n    if (!components || !validateDsn(components)) {\n      return undefined;\n    }\n    return components;\n  }\n  exports.dsnFromString = dsnFromString;\n  exports.dsnToString = dsnToString;\n  exports.makeDsn = makeDsn;\n});","lineCount":140,"map":[[3,2,1,0,"Object"],[3,8,1,6],[3,9,1,7,"defineProperty"],[3,23,1,21],[3,24,1,22,"exports"],[3,31,1,29],[3,33,1,31],[3,45,1,43],[3,47,1,45],[4,4,1,47,"value"],[4,9,1,52],[4,11,1,54],[5,2,1,59],[5,3,1,60],[5,4,1,61],[6,2,3,0],[6,6,3,6,"logger"],[6,12,3,12],[6,15,3,15,"require"],[6,22,3,22],[6,23,3,22,"_dependencyMap"],[6,37,3,22],[6,55,3,36],[6,56,3,37],[8,2,5,0],[9,2,6,0],[9,6,6,6,"DSN_REGEX"],[9,15,6,15],[9,18,6,18],[9,83,6,83],[10,2,8,0],[10,11,8,9,"isValidProtocol"],[10,26,8,24,"isValidProtocol"],[10,27,8,25,"protocol"],[10,35,8,33],[10,37,8,35],[11,4,9,2],[11,11,9,9,"protocol"],[11,19,9,17],[11,24,9,22],[11,30,9,28],[11,34,9,32,"protocol"],[11,42,9,40],[11,47,9,45],[11,54,9,52],[12,2,10,0],[14,2,12,0],[15,0,13,0],[16,0,14,0],[17,0,15,0],[18,0,16,0],[19,0,17,0],[20,0,18,0],[21,0,19,0],[22,0,20,0],[23,2,21,0],[23,11,21,9,"dsnToString"],[23,22,21,20,"dsnToString"],[23,23,21,21,"dsn"],[23,26,21,24],[23,28,21,48],[24,4,21,48],[24,8,21,26,"withPassword"],[24,20,21,38],[24,23,21,38,"arguments"],[24,32,21,38],[24,33,21,38,"length"],[24,39,21,38],[24,47,21,38,"arguments"],[24,56,21,38],[24,64,21,38,"undefined"],[24,73,21,38],[24,76,21,38,"arguments"],[24,85,21,38],[24,91,21,41],[24,96,21,46],[25,4,22,2],[25,8,22,10,"host"],[25,12,22,14],[25,15,22,69,"dsn"],[25,18,22,72],[25,19,22,10,"host"],[25,23,22,14],[26,6,22,16,"path"],[26,10,22,20],[26,13,22,69,"dsn"],[26,16,22,72],[26,17,22,16,"path"],[26,21,22,20],[27,6,22,22,"pass"],[27,10,22,26],[27,13,22,69,"dsn"],[27,16,22,72],[27,17,22,22,"pass"],[27,21,22,26],[28,6,22,28,"port"],[28,10,22,32],[28,13,22,69,"dsn"],[28,16,22,72],[28,17,22,28,"port"],[28,21,22,32],[29,6,22,34,"projectId"],[29,15,22,43],[29,18,22,69,"dsn"],[29,21,22,72],[29,22,22,34,"projectId"],[29,31,22,43],[30,6,22,45,"protocol"],[30,14,22,53],[30,17,22,69,"dsn"],[30,20,22,72],[30,21,22,45,"protocol"],[30,29,22,53],[31,6,22,55,"publicKey"],[31,15,22,64],[31,18,22,69,"dsn"],[31,21,22,72],[31,22,22,55,"publicKey"],[31,31,22,64],[32,4,23,2],[32,11,24,4],[32,14,24,7,"protocol"],[32,22,24,15],[32,28,24,21,"publicKey"],[32,37,24,30],[32,40,24,33,"withPassword"],[32,52,24,45],[32,56,24,49,"pass"],[32,60,24,53],[32,63,24,56],[32,67,24,60,"pass"],[32,71,24,64],[32,73,24,66],[32,76,24,69],[32,78,24,71],[32,80,24,73],[32,83,25,4],[32,87,25,8,"host"],[32,91,25,12],[32,94,25,15,"port"],[32,98,25,19],[32,101,25,22],[32,105,25,26,"port"],[32,109,25,30],[32,111,25,32],[32,114,25,35],[32,116,25,37],[32,120,25,41,"path"],[32,124,25,45],[32,127,25,48],[32,130,25,51,"path"],[32,134,25,55],[32,137,25,58],[32,140,25,61,"path"],[32,144,25,65],[32,147,25,68,"projectId"],[32,156,25,77],[32,158,25,79],[33,2,27,0],[35,2,29,0],[36,0,30,0],[37,0,31,0],[38,0,32,0],[39,0,33,0],[40,0,34,0],[41,2,35,0],[41,11,35,9,"dsnFromString"],[41,24,35,22,"dsnFromString"],[41,25,35,23,"str"],[41,28,35,26],[41,30,35,28],[42,4,36,2],[42,8,36,8,"match"],[42,13,36,13],[42,16,36,16,"DSN_REGEX"],[42,25,36,25],[42,26,36,26,"exec"],[42,30,36,30],[42,31,36,31,"str"],[42,34,36,34],[42,35,36,35],[43,4,38,2],[43,8,38,6],[43,9,38,7,"match"],[43,14,38,12],[43,16,38,14],[44,6,39,4],[45,6,40,4],[46,6,41,4,"console"],[46,13,41,11],[46,14,41,12,"error"],[46,19,41,17],[46,20,41,18],[46,43,41,41,"str"],[46,46,41,44],[46,48,41,46],[46,49,41,47],[47,6,42,4],[47,13,42,11,"undefined"],[47,22,42,20],[48,4,43,2],[49,4,45,2],[49,8,45,2,"_match$slice"],[49,20,45,2],[49,23,45,70,"match"],[49,28,45,75],[49,29,45,76,"slice"],[49,34,45,81],[49,35,45,82],[49,36,45,83],[49,37,45,84],[50,6,45,84,"_match$slice2"],[50,19,45,84],[50,22,45,84,"_slicedToArray"],[50,36,45,84],[50,37,45,84,"_match$slice"],[50,49,45,84],[51,6,45,9,"protocol"],[51,14,45,17],[51,17,45,17,"_match$slice2"],[51,30,45,17],[52,6,45,19,"publicKey"],[52,15,45,28],[52,18,45,28,"_match$slice2"],[52,31,45,28],[53,6,45,28,"_match$slice2$"],[53,20,45,28],[53,23,45,28,"_match$slice2"],[53,36,45,28],[54,6,45,30,"pass"],[54,10,45,34],[54,13,45,34,"_match$slice2$"],[54,27,45,34],[54,41,45,37],[54,43,45,39],[54,46,45,39,"_match$slice2$"],[54,60,45,39],[55,6,45,41,"host"],[55,10,45,45],[55,13,45,45,"_match$slice2"],[55,26,45,45],[56,6,45,45,"_match$slice2$2"],[56,21,45,45],[56,24,45,45,"_match$slice2"],[56,37,45,45],[57,6,45,47,"port"],[57,10,45,51],[57,13,45,51,"_match$slice2$2"],[57,28,45,51],[57,42,45,54],[57,44,45,56],[57,47,45,56,"_match$slice2$2"],[57,62,45,56],[58,6,45,58,"lastPath"],[58,14,45,66],[58,17,45,66,"_match$slice2"],[58,30,45,66],[59,4,46,2],[59,8,46,6,"path"],[59,12,46,10],[59,15,46,13],[59,17,46,15],[60,4,47,2],[60,8,47,6,"projectId"],[60,17,47,15],[60,20,47,18,"lastPath"],[60,28,47,26],[61,4,49,2],[61,8,49,8,"split"],[61,13,49,13],[61,16,49,16,"projectId"],[61,25,49,25],[61,26,49,26,"split"],[61,31,49,31],[61,32,49,32],[61,35,49,35],[61,36,49,36],[62,4,50,2],[62,8,50,6,"split"],[62,13,50,11],[62,14,50,12,"length"],[62,20,50,18],[62,23,50,21],[62,24,50,22],[62,26,50,24],[63,6,51,4,"path"],[63,10,51,8],[63,13,51,11,"split"],[63,18,51,16],[63,19,51,17,"slice"],[63,24,51,22],[63,25,51,23],[63,26,51,24],[63,28,51,26],[63,29,51,27],[63,30,51,28],[63,31,51,29],[63,32,51,30,"join"],[63,36,51,34],[63,37,51,35],[63,40,51,38],[63,41,51,39],[64,6,52,4,"projectId"],[64,15,52,13],[64,18,52,16,"split"],[64,23,52,21],[64,24,52,22,"pop"],[64,27,52,25],[64,28,52,26],[64,29,52,27],[65,4,53,2],[66,4,55,2],[66,8,55,6,"projectId"],[66,17,55,15],[66,19,55,17],[67,6,56,4],[67,10,56,10,"projectMatch"],[67,22,56,22],[67,25,56,25,"projectId"],[67,34,56,34],[67,35,56,35,"match"],[67,40,56,40],[67,41,56,41],[67,47,56,47],[67,48,56,48],[68,6,57,4],[68,10,57,8,"projectMatch"],[68,22,57,20],[68,24,57,22],[69,8,58,6,"projectId"],[69,17,58,15],[69,20,58,18,"projectMatch"],[69,32,58,30],[69,33,58,31],[69,34,58,32],[69,35,58,33],[70,6,59,4],[71,4,60,2],[72,4,62,2],[72,11,62,9,"dsnFromComponents"],[72,28,62,26],[72,29,62,27],[73,6,62,29,"host"],[73,10,62,33],[74,6,62,35,"pass"],[74,10,62,39],[75,6,62,41,"path"],[75,10,62,45],[76,6,62,47,"projectId"],[76,15,62,56],[77,6,62,58,"port"],[77,10,62,62],[78,6,62,64,"protocol"],[78,14,62,72],[78,16,62,74,"protocol"],[78,24,62,82],[79,6,62,85,"publicKey"],[80,4,62,95],[80,5,62,96],[80,6,62,97],[81,2,63,0],[82,2,65,0],[82,11,65,9,"dsnFromComponents"],[82,28,65,26,"dsnFromComponents"],[82,29,65,27,"components"],[82,39,65,37],[82,41,65,39],[83,4,66,2],[83,11,66,9],[84,6,67,4,"protocol"],[84,14,67,12],[84,16,67,14,"components"],[84,26,67,24],[84,27,67,25,"protocol"],[84,35,67,33],[85,6,68,4,"publicKey"],[85,15,68,13],[85,17,68,15,"components"],[85,27,68,25],[85,28,68,26,"publicKey"],[85,37,68,35],[85,41,68,39],[85,43,68,41],[86,6,69,4,"pass"],[86,10,69,8],[86,12,69,10,"components"],[86,22,69,20],[86,23,69,21,"pass"],[86,27,69,25],[86,31,69,29],[86,33,69,31],[87,6,70,4,"host"],[87,10,70,8],[87,12,70,10,"components"],[87,22,70,20],[87,23,70,21,"host"],[87,27,70,25],[88,6,71,4,"port"],[88,10,71,8],[88,12,71,10,"components"],[88,22,71,20],[88,23,71,21,"port"],[88,27,71,25],[88,31,71,29],[88,33,71,31],[89,6,72,4,"path"],[89,10,72,8],[89,12,72,10,"components"],[89,22,72,20],[89,23,72,21,"path"],[89,27,72,25],[89,31,72,29],[89,33,72,31],[90,6,73,4,"projectId"],[90,15,73,13],[90,17,73,15,"components"],[90,27,73,25],[90,28,73,26,"projectId"],[91,4,74,2],[91,5,74,3],[92,2,75,0],[93,2,77,0],[93,11,77,9,"validateDsn"],[93,22,77,20,"validateDsn"],[93,23,77,21,"dsn"],[93,26,77,24],[93,28,77,26],[94,4,78,2],[94,8,78,6],[94,10,78,8],[94,17,78,15,"__SENTRY_DEBUG__"],[94,33,78,31],[94,38,78,36],[94,49,78,47],[94,53,78,51,"__SENTRY_DEBUG__"],[94,69,78,67],[94,70,78,68],[94,72,78,70],[95,6,79,4],[95,13,79,11],[95,17,79,15],[96,4,80,2],[97,4,82,2],[97,8,82,10,"port"],[97,12,82,14],[97,15,82,40,"dsn"],[97,18,82,43],[97,19,82,10,"port"],[97,23,82,14],[98,6,82,16,"projectId"],[98,15,82,25],[98,18,82,40,"dsn"],[98,21,82,43],[98,22,82,16,"projectId"],[98,31,82,25],[99,6,82,27,"protocol"],[99,14,82,35],[99,17,82,40,"dsn"],[99,20,82,43],[99,21,82,27,"protocol"],[99,29,82,35],[100,4,84,2],[100,8,84,8,"requiredComponents"],[100,26,84,26],[100,29,84,29],[100,30,84,30],[100,40,84,40],[100,42,84,42],[100,53,84,53],[100,55,84,55],[100,61,84,61],[100,63,84,63],[100,74,84,74],[100,75,84,75],[101,4,85,2],[101,8,85,8,"hasMissingRequiredComponent"],[101,35,85,35],[101,38,85,38,"requiredComponents"],[101,56,85,56],[101,57,85,57,"find"],[101,61,85,61],[101,62,85,62,"component"],[101,71,85,71],[101,75,85,75],[102,6,86,4],[102,10,86,8],[102,11,86,9,"dsn"],[102,14,86,12],[102,15,86,13,"component"],[102,24,86,22],[102,25,86,23],[102,27,86,25],[103,8,87,6,"logger"],[103,14,87,12],[103,15,87,13,"logger"],[103,21,87,19],[103,22,87,20,"error"],[103,27,87,25],[103,28,87,26],[103,51,87,49,"component"],[103,60,87,58],[103,70,87,68],[103,71,87,69],[104,8,88,6],[104,15,88,13],[104,19,88,17],[105,6,89,4],[106,6,90,4],[106,13,90,11],[106,18,90,16],[107,4,91,2],[107,5,91,3],[107,6,91,4],[108,4,93,2],[108,8,93,6,"hasMissingRequiredComponent"],[108,35,93,33],[108,37,93,35],[109,6,94,4],[109,13,94,11],[109,18,94,16],[110,4,95,2],[111,4,97,2],[111,8,97,6],[111,9,97,7,"projectId"],[111,18,97,16],[111,19,97,17,"match"],[111,24,97,22],[111,25,97,23],[111,32,97,30],[111,33,97,31],[111,35,97,33],[112,6,98,4,"logger"],[112,12,98,10],[112,13,98,11,"logger"],[112,19,98,17],[112,20,98,18,"error"],[112,25,98,23],[112,26,98,24],[112,67,98,65,"projectId"],[112,76,98,74],[112,78,98,76],[112,79,98,77],[113,6,99,4],[113,13,99,11],[113,18,99,16],[114,4,100,2],[115,4,102,2],[115,8,102,6],[115,9,102,7,"isValidProtocol"],[115,24,102,22],[115,25,102,23,"protocol"],[115,33,102,31],[115,34,102,32],[115,36,102,34],[116,6,103,4,"logger"],[116,12,103,10],[116,13,103,11,"logger"],[116,19,103,17],[116,20,103,18,"error"],[116,25,103,23],[116,26,103,24],[116,66,103,64,"protocol"],[116,74,103,72],[116,76,103,74],[116,77,103,75],[117,6,104,4],[117,13,104,11],[117,18,104,16],[118,4,105,2],[119,4,107,2],[119,8,107,6,"port"],[119,12,107,10],[119,16,107,14,"isNaN"],[119,21,107,19],[119,22,107,20,"parseInt"],[119,30,107,28],[119,31,107,29,"port"],[119,35,107,33],[119,37,107,35],[119,39,107,37],[119,40,107,38],[119,41,107,39],[119,43,107,41],[120,6,108,4,"logger"],[120,12,108,10],[120,13,108,11,"logger"],[120,19,108,17],[120,20,108,18,"error"],[120,25,108,23],[120,26,108,24],[120,62,108,60,"port"],[120,66,108,64],[120,68,108,66],[120,69,108,67],[121,6,109,4],[121,13,109,11],[121,18,109,16],[122,4,110,2],[123,4,112,2],[123,11,112,9],[123,15,112,13],[124,2,113,0],[126,2,115,0],[127,0,116,0],[128,0,117,0],[129,0,118,0],[130,2,119,0],[130,11,119,9,"makeDsn"],[130,18,119,16,"makeDsn"],[130,19,119,17,"from"],[130,23,119,21],[130,25,119,23],[131,4,120,2],[131,8,120,8,"components"],[131,18,120,18],[131,21,120,21],[131,28,120,28,"from"],[131,32,120,32],[131,37,120,37],[131,45,120,45],[131,48,120,48,"dsnFromString"],[131,61,120,61],[131,62,120,62,"from"],[131,66,120,66],[131,67,120,67],[131,70,120,70,"dsnFromComponents"],[131,87,120,87],[131,88,120,88,"from"],[131,92,120,92],[131,93,120,93],[132,4,121,2],[132,8,121,6],[132,9,121,7,"components"],[132,19,121,17],[132,23,121,21],[132,24,121,22,"validateDsn"],[132,35,121,33],[132,36,121,34,"components"],[132,46,121,44],[132,47,121,45],[132,49,121,47],[133,6,122,4],[133,13,122,11,"undefined"],[133,22,122,20],[134,4,123,2],[135,4,124,2],[135,11,124,9,"components"],[135,21,124,19],[136,2,125,0],[137,2,127,0,"exports"],[137,9,127,7],[137,10,127,8,"dsnFromString"],[137,23,127,21],[137,26,127,24,"dsnFromString"],[137,39,127,37],[138,2,128,0,"exports"],[138,9,128,7],[138,10,128,8,"dsnToString"],[138,21,128,19],[138,24,128,22,"dsnToString"],[138,35,128,33],[139,2,129,0,"exports"],[139,9,129,7],[139,10,129,8,"makeDsn"],[139,17,129,15],[139,20,129,18,"makeDsn"],[139,27,129,25],[140,0,129,26],[140,3]],"functionMap":{"names":["<global>","isValidProtocol","dsnToString","dsnFromString","dsnFromComponents","validateDsn","requiredComponents.find$argument_0","makeDsn"],"mappings":"AAA;ACO;CDE;AEW;CFM;AGQ;CH4B;AIE;CJU;AKE;8DCQ;GDM;CLsB;AOM;CPM"},"hasCjsExports":true},"type":"js/module"}]}