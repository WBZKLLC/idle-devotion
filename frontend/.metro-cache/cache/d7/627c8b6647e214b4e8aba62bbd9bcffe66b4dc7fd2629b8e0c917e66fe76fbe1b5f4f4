{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":39,"index":92}}],"key":"m+kcirlwHAgMIuUoyR2vCxbhWD4=","exportNames":["*"],"imports":1}},{"name":"./types.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":36,"index":129}}],"key":"yJvqu7zVoaSgx/LOxsKU/6eppkQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"registerBackgroundTabDetection\", {\n    enumerable: true,\n    get: function () {\n      return registerBackgroundTabDetection;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _sentryUtils = require(_dependencyMap[1], \"@sentry/utils\");\n  var _typesJs = require(_dependencyMap[2], \"./types.js\");\n  /**\n   * Add a listener that cancels and finishes a transaction when the global\n   * document is hidden.\n   */\n  function registerBackgroundTabDetection() {\n    if (_typesJs.WINDOW && _typesJs.WINDOW.document) {\n      _typesJs.WINDOW.document.addEventListener('visibilitychange', () => {\n        const activeTransaction = (0, _sentryCore.getActiveTransaction)();\n        if (_typesJs.WINDOW.document.hidden && activeTransaction) {\n          const statusType = 'cancelled';\n          (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && _sentryUtils.logger.log(`[Tracing] Transaction: ${statusType} -> since tab moved to the background, op: ${activeTransaction.op}`);\n          // We should not set status if it is already set, this prevent important statuses like\n          // error or data loss from being overwritten on transaction.\n          if (!activeTransaction.status) {\n            activeTransaction.setStatus(statusType);\n          }\n          activeTransaction.setTag('visibilitychange', 'document.hidden');\n          activeTransaction.finish();\n        }\n      });\n    } else {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && _sentryUtils.logger.warn('[Tracing] Could not set up background tab detection due to lack of global document');\n    }\n  }\n});","lineCount":40,"map":[[7,2,35,0,"Object"],[7,8,35,0],[7,9,35,0,"defineProperty"],[7,23,35,0],[7,24,35,0,"exports"],[7,31,35,0],[8,4,35,0,"enumerable"],[8,14,35,0],[9,4,35,0,"get"],[9,7,35,0],[9,18,35,0,"get"],[9,19,35,0],[10,6,35,0],[10,13,35,9,"registerBackgroundTabDetection"],[10,43,35,39],[11,4,35,39],[12,2,35,39],[13,2,1,0],[13,6,1,0,"_sentryCore"],[13,17,1,0],[13,20,1,0,"require"],[13,27,1,0],[13,28,1,0,"_dependencyMap"],[13,42,1,0],[14,2,2,0],[14,6,2,0,"_sentryUtils"],[14,18,2,0],[14,21,2,0,"require"],[14,28,2,0],[14,29,2,0,"_dependencyMap"],[14,43,2,0],[15,2,3,0],[15,6,3,0,"_typesJs"],[15,14,3,0],[15,17,3,0,"require"],[15,24,3,0],[15,25,3,0,"_dependencyMap"],[15,39,3,0],[16,2,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,2,9,0],[20,11,9,9,"registerBackgroundTabDetection"],[20,41,9,39,"registerBackgroundTabDetection"],[20,42,9,39],[20,44,9,42],[21,4,10,2],[21,8,10,6,"WINDOW"],[21,16,10,12],[21,17,10,12,"WINDOW"],[21,23,10,12],[21,27,10,16,"WINDOW"],[21,35,10,22],[21,36,10,22,"WINDOW"],[21,42,10,22],[21,43,10,23,"document"],[21,51,10,31],[21,53,10,33],[22,6,11,4,"WINDOW"],[22,14,11,10],[22,15,11,10,"WINDOW"],[22,21,11,10],[22,22,11,11,"document"],[22,30,11,19],[22,31,11,20,"addEventListener"],[22,47,11,36],[22,48,11,37],[22,66,11,55],[22,68,11,57],[22,74,11,63],[23,8,12,6],[23,14,12,12,"activeTransaction"],[23,31,12,29],[23,34,12,32],[23,38,12,32,"getActiveTransaction"],[23,49,12,52],[23,50,12,52,"getActiveTransaction"],[23,70,12,52],[23,72,12,53],[23,73,12,54],[24,8,13,6],[24,12,13,10,"WINDOW"],[24,20,13,16],[24,21,13,16,"WINDOW"],[24,27,13,16],[24,28,13,17,"document"],[24,36,13,25],[24,37,13,26,"hidden"],[24,43,13,32],[24,47,13,36,"activeTransaction"],[24,64,13,53],[24,66,13,55],[25,10,14,8],[25,16,14,14,"statusType"],[25,26,14,24],[25,29,14,27],[25,40,14,38],[26,10,16,8],[26,11,16,9],[26,18,16,16,"__SENTRY_DEBUG__"],[26,34,16,32],[26,39,16,37],[26,50,16,48],[26,54,16,52,"__SENTRY_DEBUG__"],[26,70,16,68],[26,75,17,10,"logger"],[26,87,17,16],[26,88,17,16,"logger"],[26,94,17,16],[26,95,17,17,"log"],[26,98,17,20],[26,99,18,12],[26,125,18,38,"statusType"],[26,135,18,48],[26,181,18,94,"activeTransaction"],[26,198,18,111],[26,199,18,112,"op"],[26,201,18,114],[26,203,19,10],[26,204,19,11],[27,10,20,8],[28,10,21,8],[29,10,22,8],[29,14,22,12],[29,15,22,13,"activeTransaction"],[29,32,22,30],[29,33,22,31,"status"],[29,39,22,37],[29,41,22,39],[30,12,23,10,"activeTransaction"],[30,29,23,27],[30,30,23,28,"setStatus"],[30,39,23,37],[30,40,23,38,"statusType"],[30,50,23,48],[30,51,23,49],[31,10,24,8],[32,10,25,8,"activeTransaction"],[32,27,25,25],[32,28,25,26,"setTag"],[32,34,25,32],[32,35,25,33],[32,53,25,51],[32,55,25,53],[32,72,25,70],[32,73,25,71],[33,10,26,8,"activeTransaction"],[33,27,26,25],[33,28,26,26,"finish"],[33,34,26,32],[33,35,26,33],[33,36,26,34],[34,8,27,6],[35,6,28,4],[35,7,28,5],[35,8,28,6],[36,4,29,2],[36,5,29,3],[36,11,29,9],[37,6,30,4],[37,7,30,5],[37,14,30,12,"__SENTRY_DEBUG__"],[37,30,30,28],[37,35,30,33],[37,46,30,44],[37,50,30,48,"__SENTRY_DEBUG__"],[37,66,30,64],[37,71,31,6,"logger"],[37,83,31,12],[37,84,31,12,"logger"],[37,90,31,12],[37,91,31,13,"warn"],[37,95,31,17],[37,96,31,18],[37,180,31,102],[37,181,31,103],[38,4,32,2],[39,2,33,0],[40,0,33,1],[40,3]],"functionMap":{"names":["<global>","registerBackgroundTabDetection","WINDOW.document.addEventListener$argument_1"],"mappings":"AAA;ACQ;yDCE;KDiB;CDK"},"hasCjsExports":false},"type":"js/module"}]}