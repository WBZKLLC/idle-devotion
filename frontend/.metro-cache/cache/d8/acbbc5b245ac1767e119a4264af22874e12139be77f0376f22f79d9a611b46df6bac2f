{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.validateConfig = validateConfig;\n  exports.getBackendUrl = getBackendUrl;\n  // /app/frontend/lib/config/validate.ts\n  // Startup config validation - catches misconfig early\n  // Phase 3.15: Enhanced with production build assertions\n\n  /**\n   * Detect if this is likely a production/release build\n   * Uses Expo's __DEV__ flag as primary indicator\n   */\n  function isProductionBuild() {\n    return !__DEV__;\n  }\n\n  /**\n   * Validate critical configuration at startup\n   * In dev: throws immediately on missing config\n   * In prod: logs error but doesn't crash (graceful degradation)\n   * \n   * Phase 3.15: Enhanced with production-specific validations\n   */\n  function validateConfig() {\n    const errors = [];\n    const warnings = [];\n    const isProd = isProductionBuild();\n\n    // ==========================================================================\n    // REQUIRED: Backend URL\n    // ==========================================================================\n    const backend = process.env.EXPO_PUBLIC_BACKEND_URL;\n    if (!backend) {\n      errors.push('Missing EXPO_PUBLIC_BACKEND_URL');\n    } else if (!backend.startsWith('http://') && !backend.startsWith('https://')) {\n      errors.push('EXPO_PUBLIC_BACKEND_URL must start with http:// or https://');\n    } else if (isProd && !backend.startsWith('https://')) {\n      // Phase 3.15: Production builds SHOULD use HTTPS\n      warnings.push('EXPO_PUBLIC_BACKEND_URL should use https:// in production');\n    }\n\n    // ==========================================================================\n    // RECOMMENDED: Sentry DSN (critical for prod crash reporting)\n    // ==========================================================================\n    const sentryDsn = process.env.EXPO_PUBLIC_SENTRY_DSN;\n    if (!sentryDsn && isProd) {\n      warnings.push('No EXPO_PUBLIC_SENTRY_DSN - crash reporting disabled in production');\n    }\n\n    // ==========================================================================\n    // RECOMMENDED: Analytics (optional but useful for production)\n    // ==========================================================================\n    const analyticsEnabled = process.env.EXPO_PUBLIC_ANALYTICS_ENABLED;\n    if (isProd && analyticsEnabled !== 'true') {\n      // Just informational - analytics is optional\n      console.log('[config] Analytics disabled in production (EXPO_PUBLIC_ANALYTICS_ENABLED !== \"true\")');\n    }\n\n    // ==========================================================================\n    // INFO: RevenueCat (client-side SDK - only warn if missing)\n    // ==========================================================================\n    const revenueCatKey = process.env.EXPO_PUBLIC_REVENUECAT_API_KEY;\n    if (!revenueCatKey && isProd) {\n      warnings.push('No EXPO_PUBLIC_REVENUECAT_API_KEY - RevenueCat SDK disabled');\n    }\n\n    // ==========================================================================\n    // Report warnings (logged but don't prevent startup)\n    // ==========================================================================\n    if (warnings.length > 0) {\n      const warningMsg = `[config] Configuration warnings:\\n${warnings.map(w => `  ⚠️ ${w}`).join('\\n')}`;\n      console.warn(warningMsg);\n    }\n\n    // ==========================================================================\n    // Report errors (critical issues)\n    // ==========================================================================\n    if (errors.length > 0) {\n      const message = `[config] Configuration errors:\\n${errors.map(e => `  ❌ ${e}`).join('\\n')}`;\n      if (__DEV__) {\n        // In dev, throw to make it obvious\n        throw new Error(message);\n      } else {\n        // In prod, log but don't crash - app may still partially work\n        console.error(message);\n      }\n    }\n\n    // Success\n    if (errors.length === 0) {\n      console.log(`[config] ✅ Configuration validated (${isProd ? 'production' : 'development'} mode)`);\n    }\n  }\n\n  /**\n   * Get validated backend URL\n   */\n  function getBackendUrl() {\n    const url = process.env.EXPO_PUBLIC_BACKEND_URL;\n    if (!url) {\n      throw new Error('EXPO_PUBLIC_BACKEND_URL is not configured');\n    }\n    return url.replace(/\\/$/, ''); // Remove trailing slash\n  }\n});","lineCount":109,"map":[[7,2,20,0,"exports"],[7,9,20,0],[7,10,20,0,"validateConfig"],[7,24,20,0],[7,27,20,0,"validateConfig"],[7,41,20,0],[8,2,95,0,"exports"],[8,9,95,0],[8,10,95,0,"getBackendUrl"],[8,23,95,0],[8,26,95,0,"getBackendUrl"],[8,39,95,0],[9,2,1,0],[10,2,2,0],[11,2,3,0],[13,2,5,0],[14,0,6,0],[15,0,7,0],[16,0,8,0],[17,2,9,0],[17,11,9,9,"isProductionBuild"],[17,28,9,26,"isProductionBuild"],[17,29,9,26],[17,31,9,38],[18,4,10,2],[18,11,10,9],[18,12,10,10,"__DEV__"],[18,19,10,17],[19,2,11,0],[21,2,13,0],[22,0,14,0],[23,0,15,0],[24,0,16,0],[25,0,17,0],[26,0,18,0],[27,0,19,0],[28,2,20,7],[28,11,20,16,"validateConfig"],[28,25,20,30,"validateConfig"],[28,26,20,30],[28,28,20,39],[29,4,21,2],[29,10,21,8,"errors"],[29,16,21,24],[29,19,21,27],[29,21,21,29],[30,4,22,2],[30,10,22,8,"warnings"],[30,18,22,26],[30,21,22,29],[30,23,22,31],[31,4,23,2],[31,10,23,8,"isProd"],[31,16,23,14],[31,19,23,17,"isProductionBuild"],[31,36,23,34],[31,37,23,35],[31,38,23,36],[33,4,25,2],[34,4,26,2],[35,4,27,2],[36,4,28,2],[36,10,28,8,"backend"],[36,17,28,15],[36,20,28,18,"process"],[36,27,28,25],[36,28,28,26,"env"],[36,31,28,29],[36,32,28,30,"EXPO_PUBLIC_BACKEND_URL"],[36,55,28,53],[37,4,29,2],[37,8,29,6],[37,9,29,7,"backend"],[37,16,29,14],[37,18,29,16],[38,6,30,4,"errors"],[38,12,30,10],[38,13,30,11,"push"],[38,17,30,15],[38,18,30,16],[38,51,30,49],[38,52,30,50],[39,4,31,2],[39,5,31,3],[39,11,31,9],[39,15,31,13],[39,16,31,14,"backend"],[39,23,31,21],[39,24,31,22,"startsWith"],[39,34,31,32],[39,35,31,33],[39,44,31,42],[39,45,31,43],[39,49,31,47],[39,50,31,48,"backend"],[39,57,31,55],[39,58,31,56,"startsWith"],[39,68,31,66],[39,69,31,67],[39,79,31,77],[39,80,31,78],[39,82,31,80],[40,6,32,4,"errors"],[40,12,32,10],[40,13,32,11,"push"],[40,17,32,15],[40,18,32,16],[40,79,32,77],[40,80,32,78],[41,4,33,2],[41,5,33,3],[41,11,33,9],[41,15,33,13,"isProd"],[41,21,33,19],[41,25,33,23],[41,26,33,24,"backend"],[41,33,33,31],[41,34,33,32,"startsWith"],[41,44,33,42],[41,45,33,43],[41,55,33,53],[41,56,33,54],[41,58,33,56],[42,6,34,4],[43,6,35,4,"warnings"],[43,14,35,12],[43,15,35,13,"push"],[43,19,35,17],[43,20,35,18],[43,79,35,77],[43,80,35,78],[44,4,36,2],[46,4,38,2],[47,4,39,2],[48,4,40,2],[49,4,41,2],[49,10,41,8,"sentryDsn"],[49,19,41,17],[49,22,41,20,"process"],[49,29,41,27],[49,30,41,28,"env"],[49,33,41,31],[49,34,41,32,"EXPO_PUBLIC_SENTRY_DSN"],[49,56,41,54],[50,4,42,2],[50,8,42,6],[50,9,42,7,"sentryDsn"],[50,18,42,16],[50,22,42,20,"isProd"],[50,28,42,26],[50,30,42,28],[51,6,43,4,"warnings"],[51,14,43,12],[51,15,43,13,"push"],[51,19,43,17],[51,20,43,18],[51,88,43,86],[51,89,43,87],[52,4,44,2],[54,4,46,2],[55,4,47,2],[56,4,48,2],[57,4,49,2],[57,10,49,8,"analyticsEnabled"],[57,26,49,24],[57,29,49,27,"process"],[57,36,49,34],[57,37,49,35,"env"],[57,40,49,38],[57,41,49,39,"EXPO_PUBLIC_ANALYTICS_ENABLED"],[57,70,49,68],[58,4,50,2],[58,8,50,6,"isProd"],[58,14,50,12],[58,18,50,16,"analyticsEnabled"],[58,34,50,32],[58,39,50,37],[58,45,50,43],[58,47,50,45],[59,6,51,4],[60,6,52,4,"console"],[60,13,52,11],[60,14,52,12,"log"],[60,17,52,15],[60,18,52,16],[60,104,52,102],[60,105,52,103],[61,4,53,2],[63,4,55,2],[64,4,56,2],[65,4,57,2],[66,4,58,2],[66,10,58,8,"revenueCatKey"],[66,23,58,21],[66,26,58,24,"process"],[66,33,58,31],[66,34,58,32,"env"],[66,37,58,35],[66,38,58,36,"EXPO_PUBLIC_REVENUECAT_API_KEY"],[66,68,58,66],[67,4,59,2],[67,8,59,6],[67,9,59,7,"revenueCatKey"],[67,22,59,20],[67,26,59,24,"isProd"],[67,32,59,30],[67,34,59,32],[68,6,60,4,"warnings"],[68,14,60,12],[68,15,60,13,"push"],[68,19,60,17],[68,20,60,18],[68,81,60,79],[68,82,60,80],[69,4,61,2],[71,4,63,2],[72,4,64,2],[73,4,65,2],[74,4,66,2],[74,8,66,6,"warnings"],[74,16,66,14],[74,17,66,15,"length"],[74,23,66,21],[74,26,66,24],[74,27,66,25],[74,29,66,27],[75,6,67,4],[75,12,67,10,"warningMsg"],[75,22,67,20],[75,25,67,23],[75,62,67,60,"warnings"],[75,70,67,68],[75,71,67,69,"map"],[75,74,67,72],[75,75,67,73,"w"],[75,76,67,74],[75,80,67,78],[75,88,67,86,"w"],[75,89,67,87],[75,91,67,89],[75,92,67,90],[75,93,67,91,"join"],[75,97,67,95],[75,98,67,96],[75,102,67,100],[75,103,67,101],[75,105,67,103],[76,6,68,4,"console"],[76,13,68,11],[76,14,68,12,"warn"],[76,18,68,16],[76,19,68,17,"warningMsg"],[76,29,68,27],[76,30,68,28],[77,4,69,2],[79,4,71,2],[80,4,72,2],[81,4,73,2],[82,4,74,2],[82,8,74,6,"errors"],[82,14,74,12],[82,15,74,13,"length"],[82,21,74,19],[82,24,74,22],[82,25,74,23],[82,27,74,25],[83,6,75,4],[83,12,75,10,"message"],[83,19,75,17],[83,22,75,20],[83,57,75,55,"errors"],[83,63,75,61],[83,64,75,62,"map"],[83,67,75,65],[83,68,75,66,"e"],[83,69,75,67],[83,73,75,71],[83,80,75,78,"e"],[83,81,75,79],[83,83,75,81],[83,84,75,82],[83,85,75,83,"join"],[83,89,75,87],[83,90,75,88],[83,94,75,92],[83,95,75,93],[83,97,75,95],[84,6,77,4],[84,10,77,8,"__DEV__"],[84,17,77,15],[84,19,77,17],[85,8,78,6],[86,8,79,6],[86,14,79,12],[86,18,79,16,"Error"],[86,23,79,21],[86,24,79,22,"message"],[86,31,79,29],[86,32,79,30],[87,6,80,4],[87,7,80,5],[87,13,80,11],[88,8,81,6],[89,8,82,6,"console"],[89,15,82,13],[89,16,82,14,"error"],[89,21,82,19],[89,22,82,20,"message"],[89,29,82,27],[89,30,82,28],[90,6,83,4],[91,4,84,2],[93,4,86,2],[94,4,87,2],[94,8,87,6,"errors"],[94,14,87,12],[94,15,87,13,"length"],[94,21,87,19],[94,26,87,24],[94,27,87,25],[94,29,87,27],[95,6,88,4,"console"],[95,13,88,11],[95,14,88,12,"log"],[95,17,88,15],[95,18,88,16],[95,57,88,55,"isProd"],[95,63,88,61],[95,66,88,64],[95,78,88,76],[95,81,88,79],[95,94,88,92],[95,102,88,100],[95,103,88,101],[96,4,89,2],[97,2,90,0],[99,2,92,0],[100,0,93,0],[101,0,94,0],[102,2,95,7],[102,11,95,16,"getBackendUrl"],[102,24,95,29,"getBackendUrl"],[102,25,95,29],[102,27,95,40],[103,4,96,2],[103,10,96,8,"url"],[103,13,96,11],[103,16,96,14,"process"],[103,23,96,21],[103,24,96,22,"env"],[103,27,96,25],[103,28,96,26,"EXPO_PUBLIC_BACKEND_URL"],[103,51,96,49],[104,4,97,2],[104,8,97,6],[104,9,97,7,"url"],[104,12,97,10],[104,14,97,12],[105,6,98,4],[105,12,98,10],[105,16,98,14,"Error"],[105,21,98,19],[105,22,98,20],[105,65,98,63],[105,66,98,64],[106,4,99,2],[107,4,100,2],[107,11,100,9,"url"],[107,14,100,12],[107,15,100,13,"replace"],[107,22,100,20],[107,23,100,21],[107,28,100,26],[107,30,100,28],[107,32,100,30],[107,33,100,31],[107,34,100,32],[107,35,100,33],[108,2,101,0],[109,0,101,1],[109,3]],"functionMap":{"names":["<global>","isProductionBuild","validateConfig","warnings.map$argument_0","errors.map$argument_0","getBackendUrl"],"mappings":"AAA;ACQ;CDE;OES;yEC+C,gBD;kEEQ,eF;CFe;OKK;CLM"},"hasCjsExports":false},"type":"js/module"}]}