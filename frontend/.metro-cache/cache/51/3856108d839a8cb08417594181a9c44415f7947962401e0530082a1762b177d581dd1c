{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":47,"index":47}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":48},"end":{"line":2,"column":44,"index":92}}],"key":"m+kcirlwHAgMIuUoyR2vCxbhWD4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"makeXHRTransport\", {\n    enumerable: true,\n    get: function () {\n      return makeXHRTransport;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _sentryUtils = require(_dependencyMap[1], \"@sentry/utils\");\n  /**\n   * The DONE ready state for XmlHttpRequest\n   *\n   * Defining it here as a constant b/c XMLHttpRequest.DONE is not always defined\n   * (e.g. during testing, it is `undefined`)\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/readyState}\n   */\n  const XHR_READYSTATE_DONE = 4;\n\n  /**\n   * Creates a Transport that uses the XMLHttpRequest API to send events to Sentry.\n   */\n  function makeXHRTransport(options) {\n    function makeRequest(request) {\n      return new _sentryUtils.SyncPromise((resolve, reject) => {\n        const xhr = new XMLHttpRequest();\n        xhr.onerror = reject;\n        xhr.onreadystatechange = () => {\n          if (xhr.readyState === XHR_READYSTATE_DONE) {\n            resolve({\n              statusCode: xhr.status,\n              headers: {\n                'x-sentry-rate-limits': xhr.getResponseHeader('X-Sentry-Rate-Limits'),\n                'retry-after': xhr.getResponseHeader('Retry-After')\n              }\n            });\n          }\n        };\n        xhr.open('POST', options.url);\n        for (const header in options.headers) {\n          if (Object.prototype.hasOwnProperty.call(options.headers, header)) {\n            xhr.setRequestHeader(header, options.headers[header]);\n          }\n        }\n        xhr.send(request.body);\n      });\n    }\n    return (0, _sentryCore.createTransport)(options, makeRequest);\n  }\n});","lineCount":55,"map":[[7,2,51,0,"Object"],[7,8,51,0],[7,9,51,0,"defineProperty"],[7,23,51,0],[7,24,51,0,"exports"],[7,31,51,0],[8,4,51,0,"enumerable"],[8,14,51,0],[9,4,51,0,"get"],[9,7,51,0],[9,18,51,0,"get"],[9,19,51,0],[10,6,51,0],[10,13,51,9,"makeXHRTransport"],[10,29,51,25],[11,4,51,25],[12,2,51,25],[13,2,1,0],[13,6,1,0,"_sentryCore"],[13,17,1,0],[13,20,1,0,"require"],[13,27,1,0],[13,28,1,0,"_dependencyMap"],[13,42,1,0],[14,2,2,0],[14,6,2,0,"_sentryUtils"],[14,18,2,0],[14,21,2,0,"require"],[14,28,2,0],[14,29,2,0,"_dependencyMap"],[14,43,2,0],[15,2,4,0],[16,0,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,2,12,0],[23,8,12,6,"XHR_READYSTATE_DONE"],[23,27,12,25],[23,30,12,28],[23,31,12,29],[25,2,14,0],[26,0,15,0],[27,0,16,0],[28,2,17,0],[28,11,17,9,"makeXHRTransport"],[28,27,17,25,"makeXHRTransport"],[28,28,17,26,"options"],[28,35,17,33],[28,37,17,35],[29,4,18,2],[29,13,18,11,"makeRequest"],[29,24,18,22,"makeRequest"],[29,25,18,23,"request"],[29,32,18,30],[29,34,18,32],[30,6,19,4],[30,13,19,11],[30,17,19,15,"SyncPromise"],[30,29,19,26],[30,30,19,26,"SyncPromise"],[30,41,19,26],[30,42,19,27],[30,43,19,28,"resolve"],[30,50,19,35],[30,52,19,37,"reject"],[30,58,19,43],[30,63,19,48],[31,8,20,6],[31,14,20,12,"xhr"],[31,17,20,15],[31,20,20,18],[31,24,20,22,"XMLHttpRequest"],[31,38,20,36],[31,39,20,37],[31,40,20,38],[32,8,22,6,"xhr"],[32,11,22,9],[32,12,22,10,"onerror"],[32,19,22,17],[32,22,22,20,"reject"],[32,28,22,26],[33,8,24,6,"xhr"],[33,11,24,9],[33,12,24,10,"onreadystatechange"],[33,30,24,28],[33,33,24,31],[33,39,24,37],[34,10,25,8],[34,14,25,12,"xhr"],[34,17,25,15],[34,18,25,16,"readyState"],[34,28,25,26],[34,33,25,31,"XHR_READYSTATE_DONE"],[34,52,25,50],[34,54,25,52],[35,12,26,10,"resolve"],[35,19,26,17],[35,20,26,18],[36,14,27,12,"statusCode"],[36,24,27,22],[36,26,27,24,"xhr"],[36,29,27,27],[36,30,27,28,"status"],[36,36,27,34],[37,14,28,12,"headers"],[37,21,28,19],[37,23,28,21],[38,16,29,14],[38,38,29,36],[38,40,29,38,"xhr"],[38,43,29,41],[38,44,29,42,"getResponseHeader"],[38,61,29,59],[38,62,29,60],[38,84,29,82],[38,85,29,83],[39,16,30,14],[39,29,30,27],[39,31,30,29,"xhr"],[39,34,30,32],[39,35,30,33,"getResponseHeader"],[39,52,30,50],[39,53,30,51],[39,66,30,64],[40,14,31,12],[41,12,32,10],[41,13,32,11],[41,14,32,12],[42,10,33,8],[43,8,34,6],[43,9,34,7],[44,8,36,6,"xhr"],[44,11,36,9],[44,12,36,10,"open"],[44,16,36,14],[44,17,36,15],[44,23,36,21],[44,25,36,23,"options"],[44,32,36,30],[44,33,36,31,"url"],[44,36,36,34],[44,37,36,35],[45,8,38,6],[45,13,38,11],[45,19,38,17,"header"],[45,25,38,23],[45,29,38,27,"options"],[45,36,38,34],[45,37,38,35,"headers"],[45,44,38,42],[45,46,38,44],[46,10,39,8],[46,14,39,12,"Object"],[46,20,39,18],[46,21,39,19,"prototype"],[46,30,39,28],[46,31,39,29,"hasOwnProperty"],[46,45,39,43],[46,46,39,44,"call"],[46,50,39,48],[46,51,39,49,"options"],[46,58,39,56],[46,59,39,57,"headers"],[46,66,39,64],[46,68,39,66,"header"],[46,74,39,72],[46,75,39,73],[46,77,39,75],[47,12,40,10,"xhr"],[47,15,40,13],[47,16,40,14,"setRequestHeader"],[47,32,40,30],[47,33,40,31,"header"],[47,39,40,37],[47,41,40,39,"options"],[47,48,40,46],[47,49,40,47,"headers"],[47,56,40,54],[47,57,40,55,"header"],[47,63,40,61],[47,64,40,62],[47,65,40,63],[48,10,41,8],[49,8,42,6],[50,8,44,6,"xhr"],[50,11,44,9],[50,12,44,10,"send"],[50,16,44,14],[50,17,44,15,"request"],[50,24,44,22],[50,25,44,23,"body"],[50,29,44,27],[50,30,44,28],[51,6,45,4],[51,7,45,5],[51,8,45,6],[52,4,46,2],[53,4,48,2],[53,11,48,9],[53,15,48,9,"createTransport"],[53,26,48,24],[53,27,48,24,"createTransport"],[53,42,48,24],[53,44,48,25,"options"],[53,51,48,32],[53,53,48,34,"makeRequest"],[53,64,48,45],[53,65,48,46],[54,2,49,0],[55,0,49,1],[55,3]],"functionMap":{"names":["<global>","makeXHRTransport","makeRequest","SyncPromise$argument_0","onreadystatechange"],"mappings":"AAA;ACgB;ECC;2BCC;+BCK;ODU;KDW;GDC;CDG"},"hasCjsExports":false},"type":"js/module"}]}