{"dependencies":[{"name":"../../types.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":14,"index":78},"end":{"line":3,"column":39,"index":103}}],"key":"z4PO8xkmHjanYOD9YhfRmr3fppA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  const types = require(_dependencyMap[0], \"../../types.js\");\n\n  /*\n   * Copyright 2020 Google LLC\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  const onHidden = (cb, once) => {\n    const onHiddenOrPageHide = event => {\n      if (event.type === 'pagehide' || types.WINDOW.document.visibilityState === 'hidden') {\n        cb(event);\n        if (once) {\n          removeEventListener('visibilitychange', onHiddenOrPageHide, true);\n          removeEventListener('pagehide', onHiddenOrPageHide, true);\n        }\n      }\n    };\n    addEventListener('visibilitychange', onHiddenOrPageHide, true);\n    // Some browsers have buggy implementations of visibilitychange,\n    // so we use pagehide in addition, just to be safe.\n    addEventListener('pagehide', onHiddenOrPageHide, true);\n  };\n  exports.onHidden = onHidden;\n});","lineCount":39,"map":[[2,2,1,0,"Object"],[2,8,1,6],[2,9,1,7,"defineProperty"],[2,23,1,21],[2,24,1,22,"exports"],[2,31,1,29],[2,33,1,31],[2,45,1,43],[2,47,1,45],[3,4,1,47,"value"],[3,9,1,52],[3,11,1,54],[4,2,1,59],[4,3,1,60],[4,4,1,61],[5,2,3,0],[5,8,3,6,"types"],[5,13,3,11],[5,16,3,14,"require"],[5,23,3,21],[5,24,3,21,"_dependencyMap"],[5,38,3,21],[5,59,3,38],[5,60,3,39],[7,2,5,0],[8,0,6,0],[9,0,7,0],[10,0,8,0],[11,0,9,0],[12,0,10,0],[13,0,11,0],[14,0,12,0],[15,0,13,0],[16,0,14,0],[17,0,15,0],[18,0,16,0],[19,0,17,0],[20,0,18,0],[21,0,19,0],[23,2,21,0],[23,8,21,6,"onHidden"],[23,16,21,14],[23,19,21,17,"onHidden"],[23,20,21,18,"cb"],[23,22,21,20],[23,24,21,22,"once"],[23,28,21,26],[23,33,21,31],[24,4,22,2],[24,10,22,8,"onHiddenOrPageHide"],[24,28,22,26],[24,31,22,30,"event"],[24,36,22,35],[24,40,22,40],[25,6,23,4],[25,10,23,8,"event"],[25,15,23,13],[25,16,23,14,"type"],[25,20,23,18],[25,25,23,23],[25,35,23,33],[25,39,23,37,"types"],[25,44,23,42],[25,45,23,43,"WINDOW"],[25,51,23,49],[25,52,23,50,"document"],[25,60,23,58],[25,61,23,59,"visibilityState"],[25,76,23,74],[25,81,23,79],[25,89,23,87],[25,91,23,89],[26,8,24,6,"cb"],[26,10,24,8],[26,11,24,9,"event"],[26,16,24,14],[26,17,24,15],[27,8,25,6],[27,12,25,10,"once"],[27,16,25,14],[27,18,25,16],[28,10,26,8,"removeEventListener"],[28,29,26,27],[28,30,26,28],[28,48,26,46],[28,50,26,48,"onHiddenOrPageHide"],[28,68,26,66],[28,70,26,68],[28,74,26,72],[28,75,26,73],[29,10,27,8,"removeEventListener"],[29,29,27,27],[29,30,27,28],[29,40,27,38],[29,42,27,40,"onHiddenOrPageHide"],[29,60,27,58],[29,62,27,60],[29,66,27,64],[29,67,27,65],[30,8,28,6],[31,6,29,4],[32,4,30,2],[32,5,30,3],[33,4,31,2,"addEventListener"],[33,20,31,18],[33,21,31,19],[33,39,31,37],[33,41,31,39,"onHiddenOrPageHide"],[33,59,31,57],[33,61,31,59],[33,65,31,63],[33,66,31,64],[34,4,32,2],[35,4,33,2],[36,4,34,2,"addEventListener"],[36,20,34,18],[36,21,34,19],[36,31,34,29],[36,33,34,31,"onHiddenOrPageHide"],[36,51,34,49],[36,53,34,51],[36,57,34,55],[36,58,34,56],[37,2,35,0],[37,3,35,1],[38,2,37,0,"exports"],[38,9,37,7],[38,10,37,8,"onHidden"],[38,18,37,16],[38,21,37,19,"onHidden"],[38,29,37,27],[39,0,37,28],[39,3]],"functionMap":{"names":["<global>","onHidden","onHiddenOrPageHide"],"mappings":"AAA;iBCoB;6BCC;GDQ;CDK"},"hasCjsExports":true},"type":"js/module"}]}