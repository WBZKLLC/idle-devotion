{"dependencies":[{"name":"../authStorage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":199},"end":{"line":8,"column":47,"index":246}}],"key":"8h7N/7sKemAZqrgZg8dH/jTl5ys=","exportNames":["*"],"imports":1}},{"name":"../telemetry/events","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":247},"end":{"line":9,"column":52,"index":299}}],"key":"k7LZwhoWMWET/ud396YGvDlODrM=","exportNames":["*"],"imports":1}},{"name":"./config","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":370},"end":{"line":11,"column":36,"index":406}}],"key":"apL7GyCxHQJfXSypmIMW0g+q+wo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getGachaBanners = getGachaBanners;\n  exports.getPityStatus = getPityStatus;\n  exports.summon = summon;\n  exports.generateSourceId = generateSourceId;\n  exports.isInsufficientFundsError = isInsufficientFundsError;\n  exports.getGachaHistory = getGachaHistory;\n  var _authStorage = require(_dependencyMap[0], \"../authStorage\");\n  var _telemetryEvents = require(_dependencyMap[1], \"../telemetry/events\");\n  var _config = require(_dependencyMap[2], \"./config\");\n  // /app/frontend/lib/api/gacha.ts\n  // Phase 3.33: Gacha/Summon API wrapper\n  //\n  // All gacha operations go through here.\n  // Uses canonical receipt system.\n  // Server-authoritative - NO client-side RNG.\n\n  // Auth header helper\n  async function getAuthHeaders() {\n    const token = await (0, _authStorage.loadAuthToken)();\n    if (!token) {\n      return {\n        'Content-Type': 'application/json'\n      };\n    }\n    return {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    };\n  }\n\n  // =============================================================================\n  // TYPES\n  // =============================================================================\n\n  // =============================================================================\n  // API FUNCTIONS\n  // =============================================================================\n\n  /**\n   * Get all available gacha banners + user pity state\n   */\n  async function getGachaBanners() {\n    const headers = await getAuthHeaders();\n    const res = await fetch(`${_config.API_BASE}/api/gacha/banners`, {\n      headers\n    });\n    if (!res.ok) {\n      throw new Error('Failed to fetch gacha banners');\n    }\n    const data = await res.json();\n\n    // Transform backend response to frontend types\n    const banners = (data.banners || []).map(b => ({\n      id: b.id,\n      name: b.name,\n      description: b.description,\n      currency: b.currency,\n      costSingle: b.cost_single,\n      costMulti: b.cost_multi,\n      rates: b.rates,\n      pityThreshold: b.pity,\n      guaranteedRarity: b.guaranteed,\n      featuredHeroId: b.featured_hero_id,\n      featuredHeroName: b.featured_hero_name,\n      endsAt: b.ends_at\n    }));\n    return {\n      banners,\n      pity: data.pity || {}\n    };\n  }\n\n  /**\n   * Get pity status for all banners\n   */\n  async function getPityStatus() {\n    const headers = await getAuthHeaders();\n    const res = await fetch(`${_config.API_BASE}/api/gacha/pity`, {\n      headers\n    });\n    if (!res.ok) {\n      throw new Error('Failed to fetch pity status');\n    }\n    return await res.json();\n  }\n\n  /**\n   * Perform a gacha summon (canonical receipt)\n   * \n   * @param bannerId - Banner to pull from (standard, premium, divine)\n   * @param count - 1 for single, 10 for multi\n   * @param sourceId - Client-generated unique ID for idempotency (optional)\n   */\n  async function summon(bannerId, count, sourceId) {\n    const headers = await getAuthHeaders();\n\n    // Emit telemetry: summon submitted\n    (0, _telemetryEvents.track)(_telemetryEvents.Events.GACHA_SUMMON_SUBMITTED, {\n      bannerId,\n      count,\n      sourceId\n    });\n    const body = {\n      banner_id: bannerId,\n      count\n    };\n    if (sourceId) {\n      body.source_id = sourceId;\n    }\n    const res = await fetch(`${_config.API_BASE}/api/gacha/summon`, {\n      method: 'POST',\n      headers,\n      body: JSON.stringify(body)\n    });\n    if (!res.ok) {\n      const errorData = await res.json().catch(() => ({}));\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.GACHA_SUMMON_ERROR, {\n        bannerId,\n        count,\n        status: res.status,\n        error: errorData.detail || 'Unknown error'\n      });\n      throw new Error(errorData.detail || 'Summon failed');\n    }\n    const receipt = await res.json();\n\n    // Emit telemetry: summon success\n    (0, _telemetryEvents.track)(_telemetryEvents.Events.GACHA_SUMMON_SUCCESS, {\n      bannerId,\n      count,\n      sourceId: receipt.sourceId,\n      heroCount: receipt.results?.filter(r => !r.isFiller).length || 0,\n      fillerCount: receipt.results?.filter(r => r.isFiller).length || 0,\n      pityTriggered: receipt.pityTriggered\n    });\n\n    // Emit pity telemetry\n    if (receipt.pityTriggered) {\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.GACHA_PITY_TRIGGERED, {\n        bannerId,\n        pityBefore: receipt.pityBefore\n      });\n    } else if (receipt.pityAfter > receipt.pityBefore) {\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.GACHA_PITY_INCREMENTED, {\n        bannerId,\n        pityBefore: receipt.pityBefore,\n        pityAfter: receipt.pityAfter\n      });\n    }\n    return receipt;\n  }\n\n  /**\n   * Generate a client-side source ID for idempotency\n   * Uses timestamp + counter to ensure uniqueness\n   * NOTE: This is NOT used for RNG decisions - only for deduplication\n   */\n  let sourceIdCounter = 0;\n  function generateSourceId() {\n    sourceIdCounter = (sourceIdCounter + 1) % 10000;\n    return `summon_${Date.now()}_${sourceIdCounter.toString().padStart(4, '0')}`;\n  }\n\n  // =============================================================================\n  // PHASE 3.35: INSUFFICIENT FUNDS ERROR TYPE\n  // =============================================================================\n\n  function isInsufficientFundsError(error) {\n    if (!error || typeof error !== 'object') return false;\n    return error.code === 'INSUFFICIENT_FUNDS';\n  }\n\n  // =============================================================================\n  // PHASE 3.35: GACHA HISTORY\n  // =============================================================================\n\n  /**\n   * Get user's gacha summon history (Phase 3.35)\n   */\n  async function getGachaHistory(limit = 50) {\n    const headers = await getAuthHeaders();\n    (0, _telemetryEvents.track)(_telemetryEvents.Events.GACHA_HISTORY_VIEWED, {\n      limit\n    });\n    const res = await fetch(`${_config.API_BASE}/api/gacha/history?limit=${limit}`, {\n      headers\n    });\n    if (!res.ok) {\n      throw new Error('Failed to fetch gacha history');\n    }\n    return await res.json();\n  }\n});","lineCount":199,"map":[[7,2,63,0,"exports"],[7,9,63,0],[7,10,63,0,"getGachaBanners"],[7,25,63,0],[7,28,63,0,"getGachaBanners"],[7,43,63,0],[8,2,98,0,"exports"],[8,9,98,0],[8,10,98,0,"getPityStatus"],[8,23,98,0],[8,26,98,0,"getPityStatus"],[8,39,98,0],[9,2,116,0,"exports"],[9,9,116,0],[9,10,116,0,"summon"],[9,16,116,0],[9,19,116,0,"summon"],[9,25,116,0],[10,2,191,0,"exports"],[10,9,191,0],[10,10,191,0,"generateSourceId"],[10,26,191,0],[10,29,191,0,"generateSourceId"],[10,45,191,0],[11,2,209,0,"exports"],[11,9,209,0],[11,10,209,0,"isInsufficientFundsError"],[11,34,209,0],[11,37,209,0,"isInsufficientFundsError"],[11,61,209,0],[12,2,253,0,"exports"],[12,9,253,0],[12,10,253,0,"getGachaHistory"],[12,25,253,0],[12,28,253,0,"getGachaHistory"],[12,43,253,0],[13,2,8,0],[13,6,8,0,"_authStorage"],[13,18,8,0],[13,21,8,0,"require"],[13,28,8,0],[13,29,8,0,"_dependencyMap"],[13,43,8,0],[14,2,9,0],[14,6,9,0,"_telemetryEvents"],[14,22,9,0],[14,25,9,0,"require"],[14,32,9,0],[14,33,9,0,"_dependencyMap"],[14,47,9,0],[15,2,11,0],[15,6,11,0,"_config"],[15,13,11,0],[15,16,11,0,"require"],[15,23,11,0],[15,24,11,0,"_dependencyMap"],[15,38,11,0],[16,2,1,0],[17,2,2,0],[18,2,3,0],[19,2,4,0],[20,2,5,0],[21,2,6,0],[23,2,13,0],[24,2,14,0],[24,17,14,15,"getAuthHeaders"],[24,31,14,29,"getAuthHeaders"],[24,32,14,29],[24,34,14,65],[25,4,15,2],[25,10,15,8,"token"],[25,15,15,13],[25,18,15,16],[25,24,15,22],[25,28,15,22,"loadAuthToken"],[25,40,15,35],[25,41,15,35,"loadAuthToken"],[25,54,15,35],[25,56,15,36],[25,57,15,37],[26,4,16,2],[26,8,16,6],[26,9,16,7,"token"],[26,14,16,12],[26,16,16,14],[27,6,17,4],[27,13,17,11],[28,8,17,13],[28,22,17,27],[28,24,17,29],[29,6,17,48],[29,7,17,49],[30,4,18,2],[31,4,19,2],[31,11,19,9],[32,6,20,4],[32,20,20,18],[32,22,20,20],[32,40,20,38],[33,6,21,4],[33,21,21,19],[33,23,21,21],[33,33,21,31,"token"],[33,38,21,36],[34,4,22,2],[34,5,22,3],[35,2,23,0],[37,2,25,0],[38,2,26,0],[39,2,27,0],[41,2,56,0],[42,2,57,0],[43,2,58,0],[45,2,60,0],[46,0,61,0],[47,0,62,0],[48,2,63,7],[48,17,63,22,"getGachaBanners"],[48,32,63,37,"getGachaBanners"],[48,33,63,37],[48,35,63,71],[49,4,64,2],[49,10,64,8,"headers"],[49,17,64,15],[49,20,64,18],[49,26,64,24,"getAuthHeaders"],[49,40,64,38],[49,41,64,39],[49,42,64,40],[50,4,65,2],[50,10,65,8,"res"],[50,13,65,11],[50,16,65,14],[50,22,65,20,"fetch"],[50,27,65,25],[50,28,65,26],[50,31,65,29,"API_BASE"],[50,38,65,37],[50,39,65,37,"API_BASE"],[50,47,65,37],[50,67,65,57],[50,69,65,59],[51,6,65,61,"headers"],[52,4,65,69],[52,5,65,70],[52,6,65,71],[53,4,67,2],[53,8,67,6],[53,9,67,7,"res"],[53,12,67,10],[53,13,67,11,"ok"],[53,15,67,13],[53,17,67,15],[54,6,68,4],[54,12,68,10],[54,16,68,14,"Error"],[54,21,68,19],[54,22,68,20],[54,53,68,51],[54,54,68,52],[55,4,69,2],[56,4,71,2],[56,10,71,8,"data"],[56,14,71,12],[56,17,71,15],[56,23,71,21,"res"],[56,26,71,24],[56,27,71,25,"json"],[56,31,71,29],[56,32,71,30],[56,33,71,31],[58,4,73,2],[59,4,74,2],[59,10,74,8,"banners"],[59,17,74,29],[59,20,74,32],[59,21,74,33,"data"],[59,25,74,37],[59,26,74,38,"banners"],[59,33,74,45],[59,37,74,49],[59,39,74,51],[59,41,74,53,"map"],[59,44,74,56],[59,45,74,58,"b"],[59,46,74,64],[59,51,74,70],[60,6,75,4,"id"],[60,8,75,6],[60,10,75,8,"b"],[60,11,75,9],[60,12,75,10,"id"],[60,14,75,12],[61,6,76,4,"name"],[61,10,76,8],[61,12,76,10,"b"],[61,13,76,11],[61,14,76,12,"name"],[61,18,76,16],[62,6,77,4,"description"],[62,17,77,15],[62,19,77,17,"b"],[62,20,77,18],[62,21,77,19,"description"],[62,32,77,30],[63,6,78,4,"currency"],[63,14,78,12],[63,16,78,14,"b"],[63,17,78,15],[63,18,78,16,"currency"],[63,26,78,24],[64,6,79,4,"costSingle"],[64,16,79,14],[64,18,79,16,"b"],[64,19,79,17],[64,20,79,18,"cost_single"],[64,31,79,29],[65,6,80,4,"costMulti"],[65,15,80,13],[65,17,80,15,"b"],[65,18,80,16],[65,19,80,17,"cost_multi"],[65,29,80,27],[66,6,81,4,"rates"],[66,11,81,9],[66,13,81,11,"b"],[66,14,81,12],[66,15,81,13,"rates"],[66,20,81,18],[67,6,82,4,"pityThreshold"],[67,19,82,17],[67,21,82,19,"b"],[67,22,82,20],[67,23,82,21,"pity"],[67,27,82,25],[68,6,83,4,"guaranteedRarity"],[68,22,83,20],[68,24,83,22,"b"],[68,25,83,23],[68,26,83,24,"guaranteed"],[68,36,83,34],[69,6,84,4,"featuredHeroId"],[69,20,84,18],[69,22,84,20,"b"],[69,23,84,21],[69,24,84,22,"featured_hero_id"],[69,40,84,38],[70,6,85,4,"featuredHeroName"],[70,22,85,20],[70,24,85,22,"b"],[70,25,85,23],[70,26,85,24,"featured_hero_name"],[70,44,85,42],[71,6,86,4,"endsAt"],[71,12,86,10],[71,14,86,12,"b"],[71,15,86,13],[71,16,86,14,"ends_at"],[72,4,87,2],[72,5,87,3],[72,6,87,4],[72,7,87,5],[73,4,89,2],[73,11,89,9],[74,6,90,4,"banners"],[74,13,90,11],[75,6,91,4,"pity"],[75,10,91,8],[75,12,91,10,"data"],[75,16,91,14],[75,17,91,15,"pity"],[75,21,91,19],[75,25,91,23],[75,26,91,24],[76,4,92,2],[76,5,92,3],[77,2,93,0],[79,2,95,0],[80,0,96,0],[81,0,97,0],[82,2,98,7],[82,17,98,22,"getPityStatus"],[82,30,98,35,"getPityStatus"],[82,31,98,35],[82,33,98,75],[83,4,99,2],[83,10,99,8,"headers"],[83,17,99,15],[83,20,99,18],[83,26,99,24,"getAuthHeaders"],[83,40,99,38],[83,41,99,39],[83,42,99,40],[84,4,100,2],[84,10,100,8,"res"],[84,13,100,11],[84,16,100,14],[84,22,100,20,"fetch"],[84,27,100,25],[84,28,100,26],[84,31,100,29,"API_BASE"],[84,38,100,37],[84,39,100,37,"API_BASE"],[84,47,100,37],[84,64,100,54],[84,66,100,56],[85,6,100,58,"headers"],[86,4,100,66],[86,5,100,67],[86,6,100,68],[87,4,102,2],[87,8,102,6],[87,9,102,7,"res"],[87,12,102,10],[87,13,102,11,"ok"],[87,15,102,13],[87,17,102,15],[88,6,103,4],[88,12,103,10],[88,16,103,14,"Error"],[88,21,103,19],[88,22,103,20],[88,51,103,49],[88,52,103,50],[89,4,104,2],[90,4,106,2],[90,11,106,9],[90,17,106,15,"res"],[90,20,106,18],[90,21,106,19,"json"],[90,25,106,23],[90,26,106,24],[90,27,106,25],[91,2,107,0],[93,2,109,0],[94,0,110,0],[95,0,111,0],[96,0,112,0],[97,0,113,0],[98,0,114,0],[99,0,115,0],[100,2,116,7],[100,17,116,22,"summon"],[100,23,116,28,"summon"],[100,24,117,2,"bannerId"],[100,32,117,18],[100,34,118,2,"count"],[100,39,118,15],[100,41,119,2,"sourceId"],[100,49,119,19],[100,51,120,25],[101,4,121,2],[101,10,121,8,"headers"],[101,17,121,15],[101,20,121,18],[101,26,121,24,"getAuthHeaders"],[101,40,121,38],[101,41,121,39],[101,42,121,40],[103,4,123,2],[104,4,124,2],[104,8,124,2,"track"],[104,24,124,7],[104,25,124,7,"track"],[104,30,124,7],[104,32,124,8,"Events"],[104,48,124,14],[104,49,124,14,"Events"],[104,55,124,14],[104,56,124,15,"GACHA_SUMMON_SUBMITTED"],[104,78,124,37],[104,80,124,39],[105,6,125,4,"bannerId"],[105,14,125,12],[106,6,126,4,"count"],[106,11,126,9],[107,6,127,4,"sourceId"],[108,4,128,2],[108,5,128,3],[108,6,128,4],[109,4,130,2],[109,10,130,8,"body"],[109,14,130,33],[109,17,130,36],[110,6,131,4,"banner_id"],[110,15,131,13],[110,17,131,15,"bannerId"],[110,25,131,23],[111,6,132,4,"count"],[112,4,133,2],[112,5,133,3],[113,4,135,2],[113,8,135,6,"sourceId"],[113,16,135,14],[113,18,135,16],[114,6,136,4,"body"],[114,10,136,8],[114,11,136,9,"source_id"],[114,20,136,18],[114,23,136,21,"sourceId"],[114,31,136,29],[115,4,137,2],[116,4,139,2],[116,10,139,8,"res"],[116,13,139,11],[116,16,139,14],[116,22,139,20,"fetch"],[116,27,139,25],[116,28,139,26],[116,31,139,29,"API_BASE"],[116,38,139,37],[116,39,139,37,"API_BASE"],[116,47,139,37],[116,66,139,56],[116,68,139,58],[117,6,140,4,"method"],[117,12,140,10],[117,14,140,12],[117,20,140,18],[118,6,141,4,"headers"],[118,13,141,11],[119,6,142,4,"body"],[119,10,142,8],[119,12,142,10,"JSON"],[119,16,142,14],[119,17,142,15,"stringify"],[119,26,142,24],[119,27,142,25,"body"],[119,31,142,29],[120,4,143,2],[120,5,143,3],[120,6,143,4],[121,4,145,2],[121,8,145,6],[121,9,145,7,"res"],[121,12,145,10],[121,13,145,11,"ok"],[121,15,145,13],[121,17,145,15],[122,6,146,4],[122,12,146,10,"errorData"],[122,21,146,19],[122,24,146,22],[122,30,146,28,"res"],[122,33,146,31],[122,34,146,32,"json"],[122,38,146,36],[122,39,146,37],[122,40,146,38],[122,41,146,39,"catch"],[122,46,146,44],[122,47,146,45],[122,54,146,52],[122,55,146,53],[122,56,146,54],[122,57,146,55],[122,58,146,56],[123,6,147,4],[123,10,147,4,"track"],[123,26,147,9],[123,27,147,9,"track"],[123,32,147,9],[123,34,147,10,"Events"],[123,50,147,16],[123,51,147,16,"Events"],[123,57,147,16],[123,58,147,17,"GACHA_SUMMON_ERROR"],[123,76,147,35],[123,78,147,37],[124,8,148,6,"bannerId"],[124,16,148,14],[125,8,149,6,"count"],[125,13,149,11],[126,8,150,6,"status"],[126,14,150,12],[126,16,150,14,"res"],[126,19,150,17],[126,20,150,18,"status"],[126,26,150,24],[127,8,151,6,"error"],[127,13,151,11],[127,15,151,13,"errorData"],[127,24,151,22],[127,25,151,23,"detail"],[127,31,151,29],[127,35,151,33],[128,6,152,4],[128,7,152,5],[128,8,152,6],[129,6,153,4],[129,12,153,10],[129,16,153,14,"Error"],[129,21,153,19],[129,22,153,20,"errorData"],[129,31,153,29],[129,32,153,30,"detail"],[129,38,153,36],[129,42,153,40],[129,57,153,55],[129,58,153,56],[130,4,154,2],[131,4,156,2],[131,10,156,8,"receipt"],[131,17,156,15],[131,20,156,18],[131,26,156,24,"res"],[131,29,156,27],[131,30,156,28,"json"],[131,34,156,32],[131,35,156,33],[131,36,156,34],[133,4,158,2],[134,4,159,2],[134,8,159,2,"track"],[134,24,159,7],[134,25,159,7,"track"],[134,30,159,7],[134,32,159,8,"Events"],[134,48,159,14],[134,49,159,14,"Events"],[134,55,159,14],[134,56,159,15,"GACHA_SUMMON_SUCCESS"],[134,76,159,35],[134,78,159,37],[135,6,160,4,"bannerId"],[135,14,160,12],[136,6,161,4,"count"],[136,11,161,9],[137,6,162,4,"sourceId"],[137,14,162,12],[137,16,162,14,"receipt"],[137,23,162,21],[137,24,162,22,"sourceId"],[137,32,162,30],[138,6,163,4,"heroCount"],[138,15,163,13],[138,17,163,15,"receipt"],[138,24,163,22],[138,25,163,23,"results"],[138,32,163,30],[138,34,163,32,"filter"],[138,40,163,38],[138,41,163,40,"r"],[138,42,163,46],[138,46,163,51],[138,47,163,52,"r"],[138,48,163,53],[138,49,163,54,"isFiller"],[138,57,163,62],[138,58,163,63],[138,59,163,64,"length"],[138,65,163,70],[138,69,163,74],[138,70,163,75],[139,6,164,4,"fillerCount"],[139,17,164,15],[139,19,164,17,"receipt"],[139,26,164,24],[139,27,164,25,"results"],[139,34,164,32],[139,36,164,34,"filter"],[139,42,164,40],[139,43,164,42,"r"],[139,44,164,48],[139,48,164,53,"r"],[139,49,164,54],[139,50,164,55,"isFiller"],[139,58,164,63],[139,59,164,64],[139,60,164,65,"length"],[139,66,164,71],[139,70,164,75],[139,71,164,76],[140,6,165,4,"pityTriggered"],[140,19,165,17],[140,21,165,19,"receipt"],[140,28,165,26],[140,29,165,27,"pityTriggered"],[141,4,166,2],[141,5,166,3],[141,6,166,4],[143,4,168,2],[144,4,169,2],[144,8,169,6,"receipt"],[144,15,169,13],[144,16,169,14,"pityTriggered"],[144,29,169,27],[144,31,169,29],[145,6,170,4],[145,10,170,4,"track"],[145,26,170,9],[145,27,170,9,"track"],[145,32,170,9],[145,34,170,10,"Events"],[145,50,170,16],[145,51,170,16,"Events"],[145,57,170,16],[145,58,170,17,"GACHA_PITY_TRIGGERED"],[145,78,170,37],[145,80,170,39],[146,8,171,6,"bannerId"],[146,16,171,14],[147,8,172,6,"pityBefore"],[147,18,172,16],[147,20,172,18,"receipt"],[147,27,172,25],[147,28,172,26,"pityBefore"],[148,6,173,4],[148,7,173,5],[148,8,173,6],[149,4,174,2],[149,5,174,3],[149,11,174,9],[149,15,174,13,"receipt"],[149,22,174,20],[149,23,174,21,"pityAfter"],[149,32,174,30],[149,35,174,33,"receipt"],[149,42,174,40],[149,43,174,41,"pityBefore"],[149,53,174,51],[149,55,174,53],[150,6,175,4],[150,10,175,4,"track"],[150,26,175,9],[150,27,175,9,"track"],[150,32,175,9],[150,34,175,10,"Events"],[150,50,175,16],[150,51,175,16,"Events"],[150,57,175,16],[150,58,175,17,"GACHA_PITY_INCREMENTED"],[150,80,175,39],[150,82,175,41],[151,8,176,6,"bannerId"],[151,16,176,14],[152,8,177,6,"pityBefore"],[152,18,177,16],[152,20,177,18,"receipt"],[152,27,177,25],[152,28,177,26,"pityBefore"],[152,38,177,36],[153,8,178,6,"pityAfter"],[153,17,178,15],[153,19,178,17,"receipt"],[153,26,178,24],[153,27,178,25,"pityAfter"],[154,6,179,4],[154,7,179,5],[154,8,179,6],[155,4,180,2],[156,4,182,2],[156,11,182,9,"receipt"],[156,18,182,16],[157,2,183,0],[159,2,185,0],[160,0,186,0],[161,0,187,0],[162,0,188,0],[163,0,189,0],[164,2,190,0],[164,6,190,4,"sourceIdCounter"],[164,21,190,19],[164,24,190,22],[164,25,190,23],[165,2,191,7],[165,11,191,16,"generateSourceId"],[165,27,191,32,"generateSourceId"],[165,28,191,32],[165,30,191,43],[166,4,192,2,"sourceIdCounter"],[166,19,192,17],[166,22,192,20],[166,23,192,21,"sourceIdCounter"],[166,38,192,36],[166,41,192,39],[166,42,192,40],[166,46,192,44],[166,51,192,49],[167,4,193,2],[167,11,193,9],[167,21,193,19,"Date"],[167,25,193,23],[167,26,193,24,"now"],[167,29,193,27],[167,30,193,28],[167,31,193,29],[167,35,193,33,"sourceIdCounter"],[167,50,193,48],[167,51,193,49,"toString"],[167,59,193,57],[167,60,193,58],[167,61,193,59],[167,62,193,60,"padStart"],[167,70,193,68],[167,71,193,69],[167,72,193,70],[167,74,193,72],[167,77,193,75],[167,78,193,76],[167,80,193,78],[168,2,194,0],[170,2,196,0],[171,2,197,0],[172,2,198,0],[174,2,209,7],[174,11,209,16,"isInsufficientFundsError"],[174,35,209,40,"isInsufficientFundsError"],[174,36,209,41,"error"],[174,41,209,55],[174,43,209,90],[175,4,210,2],[175,8,210,6],[175,9,210,7,"error"],[175,14,210,12],[175,18,210,16],[175,25,210,23,"error"],[175,30,210,28],[175,35,210,33],[175,43,210,41],[175,45,210,43],[175,52,210,50],[175,57,210,55],[176,4,211,2],[176,11,211,10,"error"],[176,16,211,15],[176,17,211,44,"code"],[176,21,211,48],[176,26,211,53],[176,46,211,73],[177,2,212,0],[179,2,214,0],[180,2,215,0],[181,2,216,0],[183,2,250,0],[184,0,251,0],[185,0,252,0],[186,2,253,7],[186,17,253,22,"getGachaHistory"],[186,32,253,37,"getGachaHistory"],[186,33,253,38,"limit"],[186,38,253,51],[186,41,253,54],[186,43,253,56],[186,45,253,89],[187,4,254,2],[187,10,254,8,"headers"],[187,17,254,15],[187,20,254,18],[187,26,254,24,"getAuthHeaders"],[187,40,254,38],[187,41,254,39],[187,42,254,40],[188,4,256,2],[188,8,256,2,"track"],[188,24,256,7],[188,25,256,7,"track"],[188,30,256,7],[188,32,256,8,"Events"],[188,48,256,14],[188,49,256,14,"Events"],[188,55,256,14],[188,56,256,15,"GACHA_HISTORY_VIEWED"],[188,76,256,35],[188,78,256,37],[189,6,256,39,"limit"],[190,4,256,45],[190,5,256,46],[190,6,256,47],[191,4,258,2],[191,10,258,8,"res"],[191,13,258,11],[191,16,258,14],[191,22,258,20,"fetch"],[191,27,258,25],[191,28,258,26],[191,31,258,29,"API_BASE"],[191,38,258,37],[191,39,258,37,"API_BASE"],[191,47,258,37],[191,75,258,65,"limit"],[191,80,258,70],[191,82,258,72],[191,84,258,74],[192,6,258,76,"headers"],[193,4,258,84],[193,5,258,85],[193,6,258,86],[194,4,260,2],[194,8,260,6],[194,9,260,7,"res"],[194,12,260,10],[194,13,260,11,"ok"],[194,15,260,13],[194,17,260,15],[195,6,261,4],[195,12,261,10],[195,16,261,14,"Error"],[195,21,261,19],[195,22,261,20],[195,53,261,51],[195,54,261,52],[196,4,262,2],[197,4,264,2],[197,11,264,9],[197,17,264,15,"res"],[197,20,264,18],[197,21,264,19,"json"],[197,25,264,23],[197,26,264,24],[197,27,264,25],[198,2,265,0],[199,0,265,1],[199,3]],"functionMap":{"names":["<global>","getAuthHeaders","getGachaBanners","map$argument_0","getPityStatus","summon","res.json._catch$argument_0","receipt.results.filter$argument_0","generateSourceId","isInsufficientFundsError","getGachaHistory"],"mappings":"AAA;ACa;CDS;OEwC;yDCW;IDa;CFM;OIK;CJS;OKS;6CC8B,UD;uCEiB,uBF;yCEC,sBF;CLmB;OQQ;CRG;OSe;CTG;OUyC;CVY"},"hasCjsExports":false},"type":"js/module"}]}