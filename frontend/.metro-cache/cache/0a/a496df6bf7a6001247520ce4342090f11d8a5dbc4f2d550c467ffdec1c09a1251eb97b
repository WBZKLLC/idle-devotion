{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"_asyncOptionalChain\", {\n    enumerable: true,\n    get: function () {\n      return _asyncOptionalChain;\n    }\n  });\n  /**\n   * Polyfill for the optional chain operator, `?.`, given previous conversion of the expression into an array of values,\n   * descriptors, and functions, for situations in which at least one part of the expression is async.\n   *\n   * Adapted from Sucrase (https://github.com/alangpierce/sucrase) See\n   * https://github.com/alangpierce/sucrase/blob/265887868966917f3b924ce38dfad01fbab1329f/src/transformers/OptionalChainingNullishTransformer.ts#L15\n   *\n   * @param ops Array result of expression conversion\n   * @returns The value of the expression\n   */\n  async function _asyncOptionalChain(ops) {\n    let lastAccessLHS = undefined;\n    let value = ops[0];\n    let i = 1;\n    while (i < ops.length) {\n      const op = ops[i];\n      const fn = ops[i + 1];\n      i += 2;\n      // by checking for loose equality to `null`, we catch both `null` and `undefined`\n      if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) {\n        // really we're meaning to return `undefined` as an actual value here, but it saves bytes not to write it\n        return;\n      }\n      if (op === 'access' || op === 'optionalAccess') {\n        lastAccessLHS = value;\n        value = await fn(value);\n      } else if (op === 'call' || op === 'optionalCall') {\n        value = await fn((...args) => value.call(lastAccessLHS, ...args));\n        lastAccessLHS = undefined;\n      }\n    }\n    return value;\n  }\n\n  // Sucrase version:\n  // async function _asyncOptionalChain(ops) {\n  //   let lastAccessLHS = undefined;\n  //   let value = ops[0];\n  //   let i = 1;\n  //   while (i < ops.length) {\n  //     const op = ops[i];\n  //     const fn = ops[i + 1];\n  //     i += 2;\n  //     if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) {\n  //       return undefined;\n  //     }\n  //     if (op === 'access' || op === 'optionalAccess') {\n  //       lastAccessLHS = value;\n  //       value = await fn(value);\n  //     } else if (op === 'call' || op === 'optionalCall') {\n  //       value = await fn((...args) => value.call(lastAccessLHS, ...args));\n  //       lastAccessLHS = undefined;\n  //     }\n  //   }\n  //   return value;\n  // }\n});","lineCount":69,"map":[[7,2,58,0,"Object"],[7,8,58,0],[7,9,58,0,"defineProperty"],[7,23,58,0],[7,24,58,0,"exports"],[7,31,58,0],[8,4,58,0,"enumerable"],[8,14,58,0],[9,4,58,0,"get"],[9,7,58,0],[9,18,58,0,"get"],[9,19,58,0],[10,6,58,0],[10,13,58,9,"_asyncOptionalChain"],[10,32,58,28],[11,4,58,28],[12,2,58,28],[13,2,1,0],[14,0,2,0],[15,0,3,0],[16,0,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[22,0,10,0],[23,2,11,0],[23,17,11,15,"_asyncOptionalChain"],[23,36,11,34,"_asyncOptionalChain"],[23,37,11,35,"ops"],[23,40,11,38],[23,42,11,40],[24,4,12,2],[24,8,12,6,"lastAccessLHS"],[24,21,12,19],[24,24,12,22,"undefined"],[24,33,12,31],[25,4,13,2],[25,8,13,6,"value"],[25,13,13,11],[25,16,13,14,"ops"],[25,19,13,17],[25,20,13,18],[25,21,13,19],[25,22,13,20],[26,4,14,2],[26,8,14,6,"i"],[26,9,14,7],[26,12,14,10],[26,13,14,11],[27,4,15,2],[27,11,15,9,"i"],[27,12,15,10],[27,15,15,13,"ops"],[27,18,15,16],[27,19,15,17,"length"],[27,25,15,23],[27,27,15,25],[28,6,16,4],[28,12,16,10,"op"],[28,14,16,12],[28,17,16,15,"ops"],[28,20,16,18],[28,21,16,19,"i"],[28,22,16,20],[28,23,16,21],[29,6,17,4],[29,12,17,10,"fn"],[29,14,17,12],[29,17,17,15,"ops"],[29,20,17,18],[29,21,17,19,"i"],[29,22,17,20],[29,25,17,23],[29,26,17,24],[29,27,17,25],[30,6,18,4,"i"],[30,7,18,5],[30,11,18,9],[30,12,18,10],[31,6,19,4],[32,6,20,4],[32,10,20,8],[32,11,20,9,"op"],[32,13,20,11],[32,18,20,16],[32,34,20,32],[32,38,20,36,"op"],[32,40,20,38],[32,45,20,43],[32,59,20,57],[32,64,20,62,"value"],[32,69,20,67],[32,73,20,71],[32,77,20,75],[32,79,20,77],[33,8,21,6],[34,8,22,6],[35,6,23,4],[36,6,24,4],[36,10,24,8,"op"],[36,12,24,10],[36,17,24,15],[36,25,24,23],[36,29,24,27,"op"],[36,31,24,29],[36,36,24,34],[36,52,24,50],[36,54,24,52],[37,8,25,6,"lastAccessLHS"],[37,21,25,19],[37,24,25,22,"value"],[37,29,25,27],[38,8,26,6,"value"],[38,13,26,11],[38,16,26,14],[38,22,26,20,"fn"],[38,24,26,22],[38,25,26,23,"value"],[38,30,26,28],[38,31,26,29],[39,6,27,4],[39,7,27,5],[39,13,27,11],[39,17,27,15,"op"],[39,19,27,17],[39,24,27,22],[39,30,27,28],[39,34,27,32,"op"],[39,36,27,34],[39,41,27,39],[39,55,27,53],[39,57,27,55],[40,8,28,6,"value"],[40,13,28,11],[40,16,28,14],[40,22,28,20,"fn"],[40,24,28,22],[40,25,28,23],[40,26,28,24],[40,29,28,27,"args"],[40,33,28,31],[40,38,28,37,"value"],[40,43,28,42],[40,44,28,45,"call"],[40,48,28,49],[40,49,28,50,"lastAccessLHS"],[40,62,28,63],[40,64,28,65],[40,67,28,68,"args"],[40,71,28,72],[40,72,28,73],[40,73,28,74],[41,8,29,6,"lastAccessLHS"],[41,21,29,19],[41,24,29,22,"undefined"],[41,33,29,31],[42,6,30,4],[43,4,31,2],[44,4,32,2],[44,11,32,9,"value"],[44,16,32,14],[45,2,33,0],[47,2,35,0],[48,2,36,0],[49,2,37,0],[50,2,38,0],[51,2,39,0],[52,2,40,0],[53,2,41,0],[54,2,42,0],[55,2,43,0],[56,2,44,0],[57,2,45,0],[58,2,46,0],[59,2,47,0],[60,2,48,0],[61,2,49,0],[62,2,50,0],[63,2,51,0],[64,2,52,0],[65,2,53,0],[66,2,54,0],[67,2,55,0],[68,2,56,0],[69,0,56,0],[69,3]],"functionMap":{"names":["<global>","_asyncOptionalChain","fn$argument_0"],"mappings":"AAA;ACU;uBCiB,kDD;CDK"},"hasCjsExports":false},"type":"js/module"}]}