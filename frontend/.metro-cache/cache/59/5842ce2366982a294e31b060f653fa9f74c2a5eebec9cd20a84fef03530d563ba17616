{"dependencies":[{"name":"./types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":613},"end":{"line":17,"column":17,"index":743}}],"key":"iV91Bk2eI9buML90FP6cK2SM5h0=","exportNames":["*"],"imports":1}},{"name":"./navigation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":744},"end":{"line":18,"column":80,"index":824}}],"key":"7wr1Qr0KwneLVNSyRQ80BXyZdj8=","exportNames":["*"],"imports":1}},{"name":"../telemetry/events","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":825},"end":{"line":19,"column":52,"index":877}}],"key":"k7LZwhoWMWET/ud396YGvDlODrM=","exportNames":["*"],"imports":1}},{"name":"../../components/ui/Toast","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":878},"end":{"line":20,"column":50,"index":928}}],"key":"AB+BLEKZjfhaS1IzKOadTWgtYrY=","exportNames":["*"],"imports":1}},{"name":"../../stores/entitlementStore","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":26,"column":24,"index":1097},"end":{"line":26,"column":64,"index":1137}}],"key":"OtCrN9KW8vjKwegHvfNmyn8y/VA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.hasEntitlement = hasEntitlement;\n  exports.requireEntitlement = requireEntitlement;\n  exports.useHasEntitlement = useHasEntitlement;\n  exports.useEntitlementVersion = useEntitlementVersion;\n  exports.hasPremiumCinematicsPack = hasPremiumCinematicsPack;\n  exports.hasHeroCinematic = hasHeroCinematic;\n  exports.canAccessHeroCinematic = canAccessHeroCinematic;\n  exports.requireCinematicAccess = requireCinematicAccess;\n  exports.hasProSubscription = hasProSubscription;\n  exports.hasNoAds = hasNoAds;\n  var _types = require(_dependencyMap[0], \"./types\");\n  var _navigation = require(_dependencyMap[1], \"./navigation\");\n  var _telemetryEvents = require(_dependencyMap[2], \"../telemetry/events\");\n  var _componentsUiToast = require(_dependencyMap[3], \"../../components/ui/Toast\");\n  // /app/frontend/lib/entitlements/gating.ts\n  // Entitlement gating helpers - enforce premium access at UI/navigation level\n  // Server-side enforcement is separate (backend must also reject)\n  // \n  // NOTE: This file imports entitlementStore dynamically to avoid circular deps\n  // \n  // PHASE 3.10: Premium gates now trigger ensureFreshEntitlements() for staleness check\n  // PHASE 3.11: Uses canonical navigation helper instead of direct router.push\n  // PHASE 3.13: Emits telemetry for gate denied/allowed events (only here, guards enforce)\n  // PHASE 3.18.4: No blocking alerts - navigation only, optional toast for context\n\n  // Dynamic import to avoid circular dependency\n  let _entitlementStore = null;\n  function getEntitlementStore() {\n    if (!_entitlementStore) {\n      _entitlementStore = require(_dependencyMap[4], \"../../stores/entitlementStore\").useEntitlementStore;\n    }\n    return _entitlementStore;\n  }\n\n  /**\n   * Phase 3.10: Fire-and-forget freshness check for premium gates\n   * Called at gate entry, does NOT block - just triggers background refresh if stale\n   */\n  function triggerFreshnessCheck() {\n    const store = getEntitlementStore();\n    // Fire and forget - don't await\n    store.getState().ensureFreshEntitlements('gate').catch(() => {});\n  }\n\n  // ==============================================================\n  // TELEMETRY HELPERS (Phase 3.13)\n  // ==============================================================\n  // Gate allowed events are sampled (10%) to reduce noise\n  // Gate denied events are always tracked (business-critical)\n  const GATE_ALLOWED_SAMPLE_RATE = 0.1; // 10%\n\n  function trackGateDenied(requiredKey, source, heroId) {\n    (0, _telemetryEvents.track)(_telemetryEvents.Events.PREMIUM_GATE_DENIED, {\n      requiredKey,\n      source,\n      heroId: heroId ?? null\n    });\n  }\n  function trackGateAllowed(requiredKey, source) {\n    // Sampled to reduce noise - gate allows are frequent and expected\n    if (Math.random() < GATE_ALLOWED_SAMPLE_RATE) {\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.PREMIUM_GATE_ALLOWED, {\n        requiredKey,\n        source,\n        sampled: true\n      });\n    }\n  }\n\n  /**\n   * Check if user has a specific entitlement (owned + not expired)\n   * Uses server_time for expiry checks\n   */\n  function hasEntitlement(key) {\n    const store = getEntitlementStore();\n    const state = store.getState();\n    const entitlement = state.entitlementsByKey[key];\n    const serverTime = state.snapshot?.server_time || new Date().toISOString();\n    return (0, _types.isEntitlementOwned)(entitlement, serverTime);\n  }\n\n  /**\n   * Require entitlement or navigate to paywall\n   * Use this for guarding premium actions/navigation\n   * \n   * Phase 3.10: Triggers background freshness check before evaluating\n   * Phase 3.11: Uses canonical navigation helper for paywall routing\n   * Phase 3.13: Emits telemetry for gate outcomes\n   * Phase 3.18.4: No blocking alert - navigates to paywall directly, optional info toast\n   * \n   * @returns true if entitled, false if blocked (and redirected to paywall)\n   */\n  function requireEntitlement(key, options) {\n    // Phase 3.10: Fire-and-forget freshness check\n    triggerFreshnessCheck();\n    const {\n      toastMessage,\n      showPaywall = true,\n      source = 'gating_check'\n    } = options ?? {};\n    const isEntitled = hasEntitlement(key);\n    if (isEntitled) {\n      // Phase 3.13: Track allowed (sampled)\n      trackGateAllowed(key, source);\n      return true;\n    }\n\n    // Phase 3.13: Track denied (always)\n    trackGateDenied(key, source);\n\n    // Phase 3.18.4: Optional toast for context (non-blocking)\n    if (toastMessage) {\n      _componentsUiToast.toast.info(toastMessage);\n    }\n\n    // Navigate to paywall directly (no blocking alert)\n    if (showPaywall) {\n      (0, _navigation.goToPaywall)({\n        source\n      });\n    }\n    return false;\n  }\n\n  /**\n   * Hook version of hasEntitlement for reactive components\n   * Must be called at top level of component\n   */\n  function useHasEntitlement(key) {\n    const store = getEntitlementStore();\n    const entitlement = store(s => s.entitlementsByKey[key]);\n    const serverTime = store(s => s.snapshot?.server_time) || new Date().toISOString();\n    return (0, _types.isEntitlementOwned)(entitlement, serverTime);\n  }\n\n  /**\n   * Hook to subscribe to entitlement changes for reactive re-renders.\n   * Returns a version number that changes when entitlements update.\n   * \n   * Use this when you need components to re-render on entitlement changes\n   * but don't need to access the raw entitlements data directly.\n   * \n   * Example:\n   *   const entitlementVersion = useEntitlementVersion();\n   *   const power = useMemo(() => computeCombatStats(hero, heroData), [hero, heroData, entitlementVersion]);\n   */\n  function useEntitlementVersion() {\n    const store = getEntitlementStore();\n    // Subscribe to the snapshot's server_time as a proxy for \"entitlements changed\"\n    // This updates whenever entitlements are refreshed from server\n    const serverTime = store(s => s.snapshot?.server_time);\n    // Also subscribe to the keys length as a secondary signal\n    const keysCount = store(s => Object.keys(s.entitlementsByKey || {}).length);\n    // Return a hash that changes when either changes\n    return (serverTime?.length || 0) + keysCount;\n  }\n\n  /**\n   * Check premium cinematics pack ownership\n   */\n  function hasPremiumCinematicsPack() {\n    return hasEntitlement(_types.ENTITLEMENT_KEYS.PREMIUM_CINEMATICS_PACK);\n  }\n\n  /**\n   * Check specific hero cinematic ownership\n   */\n  function hasHeroCinematic(heroId) {\n    return hasEntitlement(`${_types.PREMIUM_CINEMATIC_OWNED_PREFIX}${heroId}`);\n  }\n\n  /**\n   * Check if user can access any premium cinematic\n   * (either owns pack or individual hero cinematic)\n   */\n  function canAccessHeroCinematic(heroId) {\n    return hasPremiumCinematicsPack() || hasHeroCinematic(heroId);\n  }\n\n  /**\n   * Require premium cinematic access or handle denial\n   * \n   * CANONICAL GATE for all cinematic access checks.\n   * All code paths that need cinematic access MUST use this function.\n   * \n   * Phase 3.10: Triggers background freshness check before evaluating\n   * Phase 3.13: Emits telemetry for gate outcomes\n   * Phase 3.18.4: No blocking alert - navigates to paywall directly\n   * \n   * @param heroId - Hero to check access for\n   * @param options.onDenied - Called when access is denied (default: navigates to paywall)\n   * @returns true if access granted, false if denied\n   */\n  function requireCinematicAccess(heroId, options) {\n    // Phase 3.10: Fire-and-forget freshness check\n    triggerFreshnessCheck();\n    const requiredKey = _types.ENTITLEMENT_KEYS.PREMIUM_CINEMATICS_PACK;\n    if (canAccessHeroCinematic(heroId)) {\n      // Phase 3.13: Track allowed (sampled)\n      trackGateAllowed(requiredKey, 'cinematic_gate');\n      return true;\n    }\n\n    // Phase 3.13: Track denied (always)\n    trackGateDenied(requiredKey, 'cinematic_gate', heroId);\n\n    // Access denied - call custom handler or navigate to paywall\n    if (options?.onDenied) {\n      options.onDenied();\n      return false;\n    }\n\n    // Phase 3.18.4: Navigate to paywall directly (no blocking alert)\n    (0, _navigation.goToPaywall)({\n      productKey: 'PREMIUM_CINEMATICS_PACK',\n      source: 'cinematic_gate',\n      heroId\n    });\n    return false;\n  }\n\n  /**\n   * Check Pro subscription status\n   */\n  function hasProSubscription() {\n    return hasEntitlement(_types.ENTITLEMENT_KEYS.PREMIUM);\n  }\n\n  /**\n   * Check No Ads status\n   */\n  function hasNoAds() {\n    return hasEntitlement(_types.ENTITLEMENT_KEYS.NO_ADS);\n  }\n});","lineCount":241,"map":[[7,2,71,0,"exports"],[7,9,71,0],[7,10,71,0,"hasEntitlement"],[7,24,71,0],[7,27,71,0,"hasEntitlement"],[7,41,71,0],[8,2,90,0,"exports"],[8,9,90,0],[8,10,90,0,"requireEntitlement"],[8,28,90,0],[8,31,90,0,"requireEntitlement"],[8,49,90,0],[9,2,138,0,"exports"],[9,9,138,0],[9,10,138,0,"useHasEntitlement"],[9,27,138,0],[9,30,138,0,"useHasEntitlement"],[9,47,138,0],[10,2,156,0,"exports"],[10,9,156,0],[10,10,156,0,"useEntitlementVersion"],[10,31,156,0],[10,34,156,0,"useEntitlementVersion"],[10,55,156,0],[11,2,170,0,"exports"],[11,9,170,0],[11,10,170,0,"hasPremiumCinematicsPack"],[11,34,170,0],[11,37,170,0,"hasPremiumCinematicsPack"],[11,61,170,0],[12,2,177,0,"exports"],[12,9,177,0],[12,10,177,0,"hasHeroCinematic"],[12,26,177,0],[12,29,177,0,"hasHeroCinematic"],[12,45,177,0],[13,2,185,0,"exports"],[13,9,185,0],[13,10,185,0,"canAccessHeroCinematic"],[13,32,185,0],[13,35,185,0,"canAccessHeroCinematic"],[13,57,185,0],[14,2,203,0,"exports"],[14,9,203,0],[14,10,203,0,"requireCinematicAccess"],[14,32,203,0],[14,35,203,0,"requireCinematicAccess"],[14,57,203,0],[15,2,240,0,"exports"],[15,9,240,0],[15,10,240,0,"hasProSubscription"],[15,28,240,0],[15,31,240,0,"hasProSubscription"],[15,49,240,0],[16,2,247,0,"exports"],[16,9,247,0],[16,10,247,0,"hasNoAds"],[16,18,247,0],[16,21,247,0,"hasNoAds"],[16,29,247,0],[17,2,12,0],[17,6,12,0,"_types"],[17,12,12,0],[17,15,12,0,"require"],[17,22,12,0],[17,23,12,0,"_dependencyMap"],[17,37,12,0],[18,2,18,0],[18,6,18,0,"_navigation"],[18,17,18,0],[18,20,18,0,"require"],[18,27,18,0],[18,28,18,0,"_dependencyMap"],[18,42,18,0],[19,2,19,0],[19,6,19,0,"_telemetryEvents"],[19,22,19,0],[19,25,19,0,"require"],[19,32,19,0],[19,33,19,0,"_dependencyMap"],[19,47,19,0],[20,2,20,0],[20,6,20,0,"_componentsUiToast"],[20,24,20,0],[20,27,20,0,"require"],[20,34,20,0],[20,35,20,0,"_dependencyMap"],[20,49,20,0],[21,2,1,0],[22,2,2,0],[23,2,3,0],[24,2,4,0],[25,2,5,0],[26,2,6,0],[27,2,7,0],[28,2,8,0],[29,2,9,0],[30,2,10,0],[32,2,22,0],[33,2,23,0],[33,6,23,4,"_entitlementStore"],[33,23,23,26],[33,26,23,29],[33,30,23,33],[34,2,24,0],[34,11,24,9,"getEntitlementStore"],[34,30,24,28,"getEntitlementStore"],[34,31,24,28],[34,33,24,31],[35,4,25,2],[35,8,25,6],[35,9,25,7,"_entitlementStore"],[35,26,25,24],[35,28,25,26],[36,6,26,4,"_entitlementStore"],[36,23,26,21],[36,26,26,24,"require"],[36,33,26,31],[36,34,26,31,"_dependencyMap"],[36,48,26,31],[36,84,26,63],[36,85,26,64],[36,86,26,65,"useEntitlementStore"],[36,105,26,84],[37,4,27,2],[38,4,28,2],[38,11,28,9,"_entitlementStore"],[38,28,28,26],[39,2,29,0],[41,2,31,0],[42,0,32,0],[43,0,33,0],[44,0,34,0],[45,2,35,0],[45,11,35,9,"triggerFreshnessCheck"],[45,32,35,30,"triggerFreshnessCheck"],[45,33,35,30],[45,35,35,39],[46,4,36,2],[46,10,36,8,"store"],[46,15,36,13],[46,18,36,16,"getEntitlementStore"],[46,37,36,35],[46,38,36,36],[46,39,36,37],[47,4,37,2],[48,4,38,2,"store"],[48,9,38,7],[48,10,38,8,"getState"],[48,18,38,16],[48,19,38,17],[48,20,38,18],[48,21,38,19,"ensureFreshEntitlements"],[48,44,38,42],[48,45,38,43],[48,51,38,49],[48,52,38,50],[48,53,38,51,"catch"],[48,58,38,56],[48,59,38,57],[48,65,38,63],[48,66,38,64],[48,67,38,65],[48,68,38,66],[49,2,39,0],[51,2,41,0],[52,2,42,0],[53,2,43,0],[54,2,44,0],[55,2,45,0],[56,2,46,0],[56,8,46,6,"GATE_ALLOWED_SAMPLE_RATE"],[56,32,46,30],[56,35,46,33],[56,38,46,36],[56,39,46,37],[56,40,46,38],[58,2,48,0],[58,11,48,9,"trackGateDenied"],[58,26,48,24,"trackGateDenied"],[58,27,48,25,"requiredKey"],[58,38,48,44],[58,40,48,46,"source"],[58,46,48,67],[58,48,48,69,"heroId"],[58,54,48,84],[58,56,48,92],[59,4,49,2],[59,8,49,2,"track"],[59,24,49,7],[59,25,49,7,"track"],[59,30,49,7],[59,32,49,8,"Events"],[59,48,49,14],[59,49,49,14,"Events"],[59,55,49,14],[59,56,49,15,"PREMIUM_GATE_DENIED"],[59,75,49,34],[59,77,49,36],[60,6,50,4,"requiredKey"],[60,17,50,15],[61,6,51,4,"source"],[61,12,51,10],[62,6,52,4,"heroId"],[62,12,52,10],[62,14,52,12,"heroId"],[62,20,52,18],[62,24,52,22],[63,4,53,2],[63,5,53,3],[63,6,53,4],[64,2,54,0],[65,2,56,0],[65,11,56,9,"trackGateAllowed"],[65,27,56,25,"trackGateAllowed"],[65,28,56,26,"requiredKey"],[65,39,56,45],[65,41,56,47,"source"],[65,47,56,68],[65,49,56,76],[66,4,57,2],[67,4,58,2],[67,8,58,6,"Math"],[67,12,58,10],[67,13,58,11,"random"],[67,19,58,17],[67,20,58,18],[67,21,58,19],[67,24,58,22,"GATE_ALLOWED_SAMPLE_RATE"],[67,48,58,46],[67,50,58,48],[68,6,59,4],[68,10,59,4,"track"],[68,26,59,9],[68,27,59,9,"track"],[68,32,59,9],[68,34,59,10,"Events"],[68,50,59,16],[68,51,59,16,"Events"],[68,57,59,16],[68,58,59,17,"PREMIUM_GATE_ALLOWED"],[68,78,59,37],[68,80,59,39],[69,8,60,6,"requiredKey"],[69,19,60,17],[70,8,61,6,"source"],[70,14,61,12],[71,8,62,6,"sampled"],[71,15,62,13],[71,17,62,15],[72,6,63,4],[72,7,63,5],[72,8,63,6],[73,4,64,2],[74,2,65,0],[76,2,67,0],[77,0,68,0],[78,0,69,0],[79,0,70,0],[80,2,71,7],[80,11,71,16,"hasEntitlement"],[80,25,71,30,"hasEntitlement"],[80,26,71,31,"key"],[80,29,71,42],[80,31,71,53],[81,4,72,2],[81,10,72,8,"store"],[81,15,72,13],[81,18,72,16,"getEntitlementStore"],[81,37,72,35],[81,38,72,36],[81,39,72,37],[82,4,73,2],[82,10,73,8,"state"],[82,15,73,13],[82,18,73,16,"store"],[82,23,73,21],[82,24,73,22,"getState"],[82,32,73,30],[82,33,73,31],[82,34,73,32],[83,4,74,2],[83,10,74,8,"entitlement"],[83,21,74,19],[83,24,74,22,"state"],[83,29,74,27],[83,30,74,28,"entitlementsByKey"],[83,47,74,45],[83,48,74,46,"key"],[83,51,74,49],[83,52,74,50],[84,4,75,2],[84,10,75,8,"serverTime"],[84,20,75,18],[84,23,75,21,"state"],[84,28,75,26],[84,29,75,27,"snapshot"],[84,37,75,35],[84,39,75,37,"server_time"],[84,50,75,48],[84,54,75,52],[84,58,75,56,"Date"],[84,62,75,60],[84,63,75,61],[84,64,75,62],[84,65,75,63,"toISOString"],[84,76,75,74],[84,77,75,75],[84,78,75,76],[85,4,76,2],[85,11,76,9],[85,15,76,9,"isEntitlementOwned"],[85,21,76,27],[85,22,76,27,"isEntitlementOwned"],[85,40,76,27],[85,42,76,28,"entitlement"],[85,53,76,39],[85,55,76,41,"serverTime"],[85,65,76,51],[85,66,76,52],[86,2,77,0],[88,2,79,0],[89,0,80,0],[90,0,81,0],[91,0,82,0],[92,0,83,0],[93,0,84,0],[94,0,85,0],[95,0,86,0],[96,0,87,0],[97,0,88,0],[98,0,89,0],[99,2,90,7],[99,11,90,16,"requireEntitlement"],[99,29,90,34,"requireEntitlement"],[99,30,91,2,"key"],[99,33,91,13],[99,35,92,2,"options"],[99,42,99,3],[99,44,100,11],[100,4,101,2],[101,4,102,2,"triggerFreshnessCheck"],[101,25,102,23],[101,26,102,24],[101,27,102,25],[102,4,104,2],[102,10,104,8],[103,6,105,4,"toastMessage"],[103,18,105,16],[104,6,106,4,"showPaywall"],[104,17,106,15],[104,20,106,18],[104,24,106,22],[105,6,107,4,"source"],[105,12,107,10],[105,15,107,13],[106,4,108,2],[106,5,108,3],[106,8,108,6,"options"],[106,15,108,13],[106,19,108,17],[106,20,108,18],[106,21,108,19],[107,4,110,2],[107,10,110,8,"isEntitled"],[107,20,110,18],[107,23,110,21,"hasEntitlement"],[107,37,110,35],[107,38,110,36,"key"],[107,41,110,39],[107,42,110,40],[108,4,112,2],[108,8,112,6,"isEntitled"],[108,18,112,16],[108,20,112,18],[109,6,113,4],[110,6,114,4,"trackGateAllowed"],[110,22,114,20],[110,23,114,21,"key"],[110,26,114,24],[110,28,114,26,"source"],[110,34,114,32],[110,35,114,33],[111,6,115,4],[111,13,115,11],[111,17,115,15],[112,4,116,2],[114,4,118,2],[115,4,119,2,"trackGateDenied"],[115,19,119,17],[115,20,119,18,"key"],[115,23,119,21],[115,25,119,23,"source"],[115,31,119,29],[115,32,119,30],[117,4,121,2],[118,4,122,2],[118,8,122,6,"toastMessage"],[118,20,122,18],[118,22,122,20],[119,6,123,4,"toast"],[119,24,123,9],[119,25,123,9,"toast"],[119,30,123,9],[119,31,123,10,"info"],[119,35,123,14],[119,36,123,15,"toastMessage"],[119,48,123,27],[119,49,123,28],[120,4,124,2],[122,4,126,2],[123,4,127,2],[123,8,127,6,"showPaywall"],[123,19,127,17],[123,21,127,19],[124,6,128,4],[124,10,128,4,"goToPaywall"],[124,21,128,15],[124,22,128,15,"goToPaywall"],[124,33,128,15],[124,35,128,16],[125,8,128,18,"source"],[126,6,128,25],[126,7,128,26],[126,8,128,27],[127,4,129,2],[128,4,131,2],[128,11,131,9],[128,16,131,14],[129,2,132,0],[131,2,134,0],[132,0,135,0],[133,0,136,0],[134,0,137,0],[135,2,138,7],[135,11,138,16,"useHasEntitlement"],[135,28,138,33,"useHasEntitlement"],[135,29,138,34,"key"],[135,32,138,45],[135,34,138,56],[136,4,139,2],[136,10,139,8,"store"],[136,15,139,13],[136,18,139,16,"getEntitlementStore"],[136,37,139,35],[136,38,139,36],[136,39,139,37],[137,4,140,2],[137,10,140,8,"entitlement"],[137,21,140,19],[137,24,140,22,"store"],[137,29,140,27],[137,30,140,29,"s"],[137,31,140,35],[137,35,140,40,"s"],[137,36,140,41],[137,37,140,42,"entitlementsByKey"],[137,54,140,59],[137,55,140,60,"key"],[137,58,140,63],[137,59,140,64],[137,60,140,65],[138,4,141,2],[138,10,141,8,"serverTime"],[138,20,141,18],[138,23,141,21,"store"],[138,28,141,26],[138,29,141,28,"s"],[138,30,141,34],[138,34,141,39,"s"],[138,35,141,40],[138,36,141,41,"snapshot"],[138,44,141,49],[138,46,141,51,"server_time"],[138,57,141,62],[138,58,141,63],[138,62,141,67],[138,66,141,71,"Date"],[138,70,141,75],[138,71,141,76],[138,72,141,77],[138,73,141,78,"toISOString"],[138,84,141,89],[138,85,141,90],[138,86,141,91],[139,4,142,2],[139,11,142,9],[139,15,142,9,"isEntitlementOwned"],[139,21,142,27],[139,22,142,27,"isEntitlementOwned"],[139,40,142,27],[139,42,142,28,"entitlement"],[139,53,142,39],[139,55,142,41,"serverTime"],[139,65,142,51],[139,66,142,52],[140,2,143,0],[142,2,145,0],[143,0,146,0],[144,0,147,0],[145,0,148,0],[146,0,149,0],[147,0,150,0],[148,0,151,0],[149,0,152,0],[150,0,153,0],[151,0,154,0],[152,0,155,0],[153,2,156,7],[153,11,156,16,"useEntitlementVersion"],[153,32,156,37,"useEntitlementVersion"],[153,33,156,37],[153,35,156,48],[154,4,157,2],[154,10,157,8,"store"],[154,15,157,13],[154,18,157,16,"getEntitlementStore"],[154,37,157,35],[154,38,157,36],[154,39,157,37],[155,4,158,2],[156,4,159,2],[157,4,160,2],[157,10,160,8,"serverTime"],[157,20,160,18],[157,23,160,21,"store"],[157,28,160,26],[157,29,160,28,"s"],[157,30,160,34],[157,34,160,39,"s"],[157,35,160,40],[157,36,160,41,"snapshot"],[157,44,160,49],[157,46,160,51,"server_time"],[157,57,160,62],[157,58,160,63],[158,4,161,2],[159,4,162,2],[159,10,162,8,"keysCount"],[159,19,162,17],[159,22,162,20,"store"],[159,27,162,25],[159,28,162,27,"s"],[159,29,162,33],[159,33,162,38,"Object"],[159,39,162,44],[159,40,162,45,"keys"],[159,44,162,49],[159,45,162,50,"s"],[159,46,162,51],[159,47,162,52,"entitlementsByKey"],[159,64,162,69],[159,68,162,73],[159,69,162,74],[159,70,162,75],[159,71,162,76],[159,72,162,77,"length"],[159,78,162,83],[159,79,162,84],[160,4,163,2],[161,4,164,2],[161,11,164,9],[161,12,164,10,"serverTime"],[161,22,164,20],[161,24,164,22,"length"],[161,30,164,28],[161,34,164,32],[161,35,164,33],[161,39,164,37,"keysCount"],[161,48,164,46],[162,2,165,0],[164,2,167,0],[165,0,168,0],[166,0,169,0],[167,2,170,7],[167,11,170,16,"hasPremiumCinematicsPack"],[167,35,170,40,"hasPremiumCinematicsPack"],[167,36,170,40],[167,38,170,52],[168,4,171,2],[168,11,171,9,"hasEntitlement"],[168,25,171,23],[168,26,171,24,"ENTITLEMENT_KEYS"],[168,32,171,40],[168,33,171,40,"ENTITLEMENT_KEYS"],[168,49,171,40],[168,50,171,41,"PREMIUM_CINEMATICS_PACK"],[168,73,171,64],[168,74,171,65],[169,2,172,0],[171,2,174,0],[172,0,175,0],[173,0,176,0],[174,2,177,7],[174,11,177,16,"hasHeroCinematic"],[174,27,177,32,"hasHeroCinematic"],[174,28,177,33,"heroId"],[174,34,177,47],[174,36,177,58],[175,4,178,2],[175,11,178,9,"hasEntitlement"],[175,25,178,23],[175,26,178,24],[175,29,178,27,"PREMIUM_CINEMATIC_OWNED_PREFIX"],[175,35,178,57],[175,36,178,57,"PREMIUM_CINEMATIC_OWNED_PREFIX"],[175,66,178,57],[175,69,178,60,"heroId"],[175,75,178,66],[175,77,178,68],[175,78,178,69],[176,2,179,0],[178,2,181,0],[179,0,182,0],[180,0,183,0],[181,0,184,0],[182,2,185,7],[182,11,185,16,"canAccessHeroCinematic"],[182,33,185,38,"canAccessHeroCinematic"],[182,34,185,39,"heroId"],[182,40,185,53],[182,42,185,64],[183,4,186,2],[183,11,186,9,"hasPremiumCinematicsPack"],[183,35,186,33],[183,36,186,34],[183,37,186,35],[183,41,186,39,"hasHeroCinematic"],[183,57,186,55],[183,58,186,56,"heroId"],[183,64,186,62],[183,65,186,63],[184,2,187,0],[186,2,189,0],[187,0,190,0],[188,0,191,0],[189,0,192,0],[190,0,193,0],[191,0,194,0],[192,0,195,0],[193,0,196,0],[194,0,197,0],[195,0,198,0],[196,0,199,0],[197,0,200,0],[198,0,201,0],[199,0,202,0],[200,2,203,7],[200,11,203,16,"requireCinematicAccess"],[200,33,203,38,"requireCinematicAccess"],[200,34,204,2,"heroId"],[200,40,204,16],[200,42,205,2,"options"],[200,49,205,37],[200,51,206,11],[201,4,207,2],[202,4,208,2,"triggerFreshnessCheck"],[202,25,208,23],[202,26,208,24],[202,27,208,25],[203,4,210,2],[203,10,210,8,"requiredKey"],[203,21,210,19],[203,24,210,22,"ENTITLEMENT_KEYS"],[203,30,210,38],[203,31,210,38,"ENTITLEMENT_KEYS"],[203,47,210,38],[203,48,210,39,"PREMIUM_CINEMATICS_PACK"],[203,71,210,62],[204,4,212,2],[204,8,212,6,"canAccessHeroCinematic"],[204,30,212,28],[204,31,212,29,"heroId"],[204,37,212,35],[204,38,212,36],[204,40,212,38],[205,6,213,4],[206,6,214,4,"trackGateAllowed"],[206,22,214,20],[206,23,214,21,"requiredKey"],[206,34,214,32],[206,36,214,34],[206,52,214,50],[206,53,214,51],[207,6,215,4],[207,13,215,11],[207,17,215,15],[208,4,216,2],[210,4,218,2],[211,4,219,2,"trackGateDenied"],[211,19,219,17],[211,20,219,18,"requiredKey"],[211,31,219,29],[211,33,219,31],[211,49,219,47],[211,51,219,49,"heroId"],[211,57,219,55],[211,58,219,56],[213,4,221,2],[214,4,222,2],[214,8,222,6,"options"],[214,15,222,13],[214,17,222,15,"onDenied"],[214,25,222,23],[214,27,222,25],[215,6,223,4,"options"],[215,13,223,11],[215,14,223,12,"onDenied"],[215,22,223,20],[215,23,223,21],[215,24,223,22],[216,6,224,4],[216,13,224,11],[216,18,224,16],[217,4,225,2],[219,4,227,2],[220,4,228,2],[220,8,228,2,"goToPaywall"],[220,19,228,13],[220,20,228,13,"goToPaywall"],[220,31,228,13],[220,33,228,14],[221,6,229,4,"productKey"],[221,16,229,14],[221,18,229,16],[221,43,229,41],[222,6,230,4,"source"],[222,12,230,10],[222,14,230,12],[222,30,230,28],[223,6,231,4,"heroId"],[224,4,232,2],[224,5,232,3],[224,6,232,4],[225,4,234,2],[225,11,234,9],[225,16,234,14],[226,2,235,0],[228,2,237,0],[229,0,238,0],[230,0,239,0],[231,2,240,7],[231,11,240,16,"hasProSubscription"],[231,29,240,34,"hasProSubscription"],[231,30,240,34],[231,32,240,46],[232,4,241,2],[232,11,241,9,"hasEntitlement"],[232,25,241,23],[232,26,241,24,"ENTITLEMENT_KEYS"],[232,32,241,40],[232,33,241,40,"ENTITLEMENT_KEYS"],[232,49,241,40],[232,50,241,41,"PREMIUM"],[232,57,241,48],[232,58,241,49],[233,2,242,0],[235,2,244,0],[236,0,245,0],[237,0,246,0],[238,2,247,7],[238,11,247,16,"hasNoAds"],[238,19,247,24,"hasNoAds"],[238,20,247,24],[238,22,247,36],[239,4,248,2],[239,11,248,9,"hasEntitlement"],[239,25,248,23],[239,26,248,24,"ENTITLEMENT_KEYS"],[239,32,248,40],[239,33,248,40,"ENTITLEMENT_KEYS"],[239,49,248,40],[239,50,248,41,"NO_ADS"],[239,56,248,47],[239,57,248,48],[240,2,249,0],[241,0,249,1],[241,3]],"functionMap":{"names":["<global>","getEntitlementStore","triggerFreshnessCheck","store.getState.ensureFreshEntitlements._catch$argument_0","trackGateDenied","trackGateAllowed","hasEntitlement","requireEntitlement","useHasEntitlement","store$argument_0","useEntitlementVersion","hasPremiumCinematicsPack","hasHeroCinematic","canAccessHeroCinematic","requireCinematicAccess","hasProSubscription","hasNoAds"],"mappings":"AAA;ACuB;CDK;AEM;yDCG,QD;CFC;AIS;CJM;AKE;CLS;OMM;CNM;OOa;CP0C;OQM;4BCE,oCD;2BCC,mCD;CRE;OUa;2BDI,mCC;0BDE,yDC;CVG;OWK;CXE;OYK;CZE;OaM;CbE;OcgB;CdgC;OeK;CfE;OgBK;ChBE"},"hasCjsExports":false},"type":"js/module"}]}