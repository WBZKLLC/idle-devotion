{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  /**\n   * Creates a cache that evicts keys in fifo order\n   * @param size {Number}\n   */\n  function makeFifoCache(size) {\n    // Maintain a fifo queue of keys, we cannot rely on Object.keys as the browser may not support it.\n    let evictionOrder = [];\n    let cache = {};\n    return {\n      add(key, value) {\n        while (evictionOrder.length >= size) {\n          // shift is O(n) but this is small size and only happens if we are\n          // exceeding the cache size so it should be fine.\n          const evictCandidate = evictionOrder.shift();\n          if (evictCandidate !== undefined) {\n            // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n            delete cache[evictCandidate];\n          }\n        }\n\n        // in case we have a collision, delete the old key.\n        if (cache[key]) {\n          this.delete(key);\n        }\n        evictionOrder.push(key);\n        cache[key] = value;\n      },\n      clear() {\n        cache = {};\n        evictionOrder = [];\n      },\n      get(key) {\n        return cache[key];\n      },\n      size() {\n        return evictionOrder.length;\n      },\n      // Delete cache key and return true if it existed, false otherwise.\n      delete(key) {\n        if (!cache[key]) {\n          return false;\n        }\n\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete cache[key];\n        for (let i = 0; i < evictionOrder.length; i++) {\n          if (evictionOrder[i] === key) {\n            evictionOrder.splice(i, 1);\n            break;\n          }\n        }\n        return true;\n      }\n    };\n  }\n  exports.makeFifoCache = makeFifoCache;\n});","lineCount":62,"map":[[2,2,1,0,"Object"],[2,8,1,6],[2,9,1,7,"defineProperty"],[2,23,1,21],[2,24,1,22,"exports"],[2,31,1,29],[2,33,1,31],[2,45,1,43],[2,47,1,45],[3,4,1,47,"value"],[3,9,1,52],[3,11,1,54],[4,2,1,59],[4,3,1,60],[4,4,1,61],[6,2,3,0],[7,0,4,0],[8,0,5,0],[9,0,6,0],[10,2,7,0],[10,11,7,9,"makeFifoCache"],[10,24,7,22,"makeFifoCache"],[10,25,8,2,"size"],[10,29,8,6],[10,31,11,1],[11,4,12,2],[12,4,13,2],[12,8,13,6,"evictionOrder"],[12,21,13,19],[12,24,13,22],[12,26,13,24],[13,4,14,2],[13,8,14,6,"cache"],[13,13,14,11],[13,16,14,14],[13,17,14,15],[13,18,14,16],[14,4,16,2],[14,11,16,9],[15,6,17,4,"add"],[15,9,17,7,"add"],[15,10,17,8,"key"],[15,13,17,11],[15,15,17,13,"value"],[15,20,17,18],[15,22,17,20],[16,8,18,6],[16,15,18,13,"evictionOrder"],[16,28,18,26],[16,29,18,27,"length"],[16,35,18,33],[16,39,18,37,"size"],[16,43,18,41],[16,45,18,43],[17,10,19,8],[18,10,20,8],[19,10,21,8],[19,16,21,14,"evictCandidate"],[19,30,21,28],[19,33,21,31,"evictionOrder"],[19,46,21,44],[19,47,21,45,"shift"],[19,52,21,50],[19,53,21,51],[19,54,21,52],[20,10,23,8],[20,14,23,12,"evictCandidate"],[20,28,23,26],[20,33,23,31,"undefined"],[20,42,23,40],[20,44,23,42],[21,12,24,10],[22,12,25,10],[22,19,25,17,"cache"],[22,24,25,22],[22,25,25,23,"evictCandidate"],[22,39,25,37],[22,40,25,38],[23,10,26,8],[24,8,27,6],[26,8,29,6],[27,8,30,6],[27,12,30,10,"cache"],[27,17,30,15],[27,18,30,16,"key"],[27,21,30,19],[27,22,30,20],[27,24,30,22],[28,10,31,8],[28,14,31,12],[28,15,31,13,"delete"],[28,21,31,19],[28,22,31,20,"key"],[28,25,31,23],[28,26,31,24],[29,8,32,6],[30,8,34,6,"evictionOrder"],[30,21,34,19],[30,22,34,20,"push"],[30,26,34,24],[30,27,34,25,"key"],[30,30,34,28],[30,31,34,29],[31,8,35,6,"cache"],[31,13,35,11],[31,14,35,12,"key"],[31,17,35,15],[31,18,35,16],[31,21,35,19,"value"],[31,26,35,24],[32,6,36,4],[32,7,36,5],[33,6,37,4,"clear"],[33,11,37,9,"clear"],[33,12,37,9],[33,14,37,12],[34,8,38,6,"cache"],[34,13,38,11],[34,16,38,14],[34,17,38,15],[34,18,38,16],[35,8,39,6,"evictionOrder"],[35,21,39,19],[35,24,39,22],[35,26,39,24],[36,6,40,4],[36,7,40,5],[37,6,41,4,"get"],[37,9,41,7,"get"],[37,10,41,8,"key"],[37,13,41,11],[37,15,41,13],[38,8,42,6],[38,15,42,13,"cache"],[38,20,42,18],[38,21,42,19,"key"],[38,24,42,22],[38,25,42,23],[39,6,43,4],[39,7,43,5],[40,6,44,4,"size"],[40,10,44,8,"size"],[40,11,44,8],[40,13,44,11],[41,8,45,6],[41,15,45,13,"evictionOrder"],[41,28,45,26],[41,29,45,27,"length"],[41,35,45,33],[42,6,46,4],[42,7,46,5],[43,6,47,4],[44,6,48,4,"delete"],[44,12,48,10,"delete"],[44,13,48,11,"key"],[44,16,48,14],[44,18,48,16],[45,8,49,6],[45,12,49,10],[45,13,49,11,"cache"],[45,18,49,16],[45,19,49,17,"key"],[45,22,49,20],[45,23,49,21],[45,25,49,23],[46,10,50,8],[46,17,50,15],[46,22,50,20],[47,8,51,6],[49,8,53,6],[50,8,54,6],[50,15,54,13,"cache"],[50,20,54,18],[50,21,54,19,"key"],[50,24,54,22],[50,25,54,23],[51,8,56,6],[51,13,56,11],[51,17,56,15,"i"],[51,18,56,16],[51,21,56,19],[51,22,56,20],[51,24,56,22,"i"],[51,25,56,23],[51,28,56,26,"evictionOrder"],[51,41,56,39],[51,42,56,40,"length"],[51,48,56,46],[51,50,56,48,"i"],[51,51,56,49],[51,53,56,51],[51,55,56,53],[52,10,57,8],[52,14,57,12,"evictionOrder"],[52,27,57,25],[52,28,57,26,"i"],[52,29,57,27],[52,30,57,28],[52,35,57,33,"key"],[52,38,57,36],[52,40,57,38],[53,12,58,10,"evictionOrder"],[53,25,58,23],[53,26,58,24,"splice"],[53,32,58,30],[53,33,58,31,"i"],[53,34,58,32],[53,36,58,34],[53,37,58,35],[53,38,58,36],[54,12,59,10],[55,10,60,8],[56,8,61,6],[57,8,63,6],[57,15,63,13],[57,19,63,17],[58,6,64,4],[59,4,65,2],[59,5,65,3],[60,2,66,0],[61,2,68,0,"exports"],[61,9,68,7],[61,10,68,8,"makeFifoCache"],[61,23,68,21],[61,26,68,24,"makeFifoCache"],[61,39,68,37],[62,0,68,38],[62,3]],"functionMap":{"names":["<global>","makeFifoCache","add","clear","get","size","_delete"],"mappings":"AAA;ACM;ICU;KDmB;IEC;KFG;IGC;KHE;IIC;KJE;IKE;KLgB;CDE"},"hasCjsExports":true},"type":"js/module"}]}