{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"makeFifoCache\", {\n    enumerable: true,\n    get: function () {\n      return makeFifoCache;\n    }\n  });\n  /**\n   * Creates a cache that evicts keys in fifo order\n   * @param size {Number}\n   */\n  function makeFifoCache(size) {\n    // Maintain a fifo queue of keys, we cannot rely on Object.keys as the browser may not support it.\n    let evictionOrder = [];\n    let cache = {};\n    return {\n      add(key, value) {\n        while (evictionOrder.length >= size) {\n          // shift is O(n) but this is small size and only happens if we are\n          // exceeding the cache size so it should be fine.\n          const evictCandidate = evictionOrder.shift();\n          if (evictCandidate !== undefined) {\n            // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n            delete cache[evictCandidate];\n          }\n        }\n\n        // in case we have a collision, delete the old key.\n        if (cache[key]) {\n          this.delete(key);\n        }\n        evictionOrder.push(key);\n        cache[key] = value;\n      },\n      clear() {\n        cache = {};\n        evictionOrder = [];\n      },\n      get(key) {\n        return cache[key];\n      },\n      size() {\n        return evictionOrder.length;\n      },\n      // Delete cache key and return true if it existed, false otherwise.\n      delete(key) {\n        if (!cache[key]) {\n          return false;\n        }\n\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete cache[key];\n        for (let i = 0; i < evictionOrder.length; i++) {\n          if (evictionOrder[i] === key) {\n            evictionOrder.splice(i, 1);\n            break;\n          }\n        }\n        return true;\n      }\n    };\n  }\n});","lineCount":68,"map":[[7,2,66,0,"Object"],[7,8,66,0],[7,9,66,0,"defineProperty"],[7,23,66,0],[7,24,66,0,"exports"],[7,31,66,0],[8,4,66,0,"enumerable"],[8,14,66,0],[9,4,66,0,"get"],[9,7,66,0],[9,18,66,0,"get"],[9,19,66,0],[10,6,66,0],[10,13,66,9,"makeFifoCache"],[10,26,66,22],[11,4,66,22],[12,2,66,22],[13,2,1,0],[14,0,2,0],[15,0,3,0],[16,0,4,0],[17,2,5,0],[17,11,5,9,"makeFifoCache"],[17,24,5,22,"makeFifoCache"],[17,25,6,2,"size"],[17,29,6,6],[17,31,9,1],[18,4,10,2],[19,4,11,2],[19,8,11,6,"evictionOrder"],[19,21,11,19],[19,24,11,22],[19,26,11,24],[20,4,12,2],[20,8,12,6,"cache"],[20,13,12,11],[20,16,12,14],[20,17,12,15],[20,18,12,16],[21,4,14,2],[21,11,14,9],[22,6,15,4,"add"],[22,9,15,7,"add"],[22,10,15,8,"key"],[22,13,15,11],[22,15,15,13,"value"],[22,20,15,18],[22,22,15,20],[23,8,16,6],[23,15,16,13,"evictionOrder"],[23,28,16,26],[23,29,16,27,"length"],[23,35,16,33],[23,39,16,37,"size"],[23,43,16,41],[23,45,16,43],[24,10,17,8],[25,10,18,8],[26,10,19,8],[26,16,19,14,"evictCandidate"],[26,30,19,28],[26,33,19,31,"evictionOrder"],[26,46,19,44],[26,47,19,45,"shift"],[26,52,19,50],[26,53,19,51],[26,54,19,52],[27,10,21,8],[27,14,21,12,"evictCandidate"],[27,28,21,26],[27,33,21,31,"undefined"],[27,42,21,40],[27,44,21,42],[28,12,22,10],[29,12,23,10],[29,19,23,17,"cache"],[29,24,23,22],[29,25,23,23,"evictCandidate"],[29,39,23,37],[29,40,23,38],[30,10,24,8],[31,8,25,6],[33,8,27,6],[34,8,28,6],[34,12,28,10,"cache"],[34,17,28,15],[34,18,28,16,"key"],[34,21,28,19],[34,22,28,20],[34,24,28,22],[35,10,29,8],[35,14,29,12],[35,15,29,13,"delete"],[35,21,29,19],[35,22,29,20,"key"],[35,25,29,23],[35,26,29,24],[36,8,30,6],[37,8,32,6,"evictionOrder"],[37,21,32,19],[37,22,32,20,"push"],[37,26,32,24],[37,27,32,25,"key"],[37,30,32,28],[37,31,32,29],[38,8,33,6,"cache"],[38,13,33,11],[38,14,33,12,"key"],[38,17,33,15],[38,18,33,16],[38,21,33,19,"value"],[38,26,33,24],[39,6,34,4],[39,7,34,5],[40,6,35,4,"clear"],[40,11,35,9,"clear"],[40,12,35,9],[40,14,35,12],[41,8,36,6,"cache"],[41,13,36,11],[41,16,36,14],[41,17,36,15],[41,18,36,16],[42,8,37,6,"evictionOrder"],[42,21,37,19],[42,24,37,22],[42,26,37,24],[43,6,38,4],[43,7,38,5],[44,6,39,4,"get"],[44,9,39,7,"get"],[44,10,39,8,"key"],[44,13,39,11],[44,15,39,13],[45,8,40,6],[45,15,40,13,"cache"],[45,20,40,18],[45,21,40,19,"key"],[45,24,40,22],[45,25,40,23],[46,6,41,4],[46,7,41,5],[47,6,42,4,"size"],[47,10,42,8,"size"],[47,11,42,8],[47,13,42,11],[48,8,43,6],[48,15,43,13,"evictionOrder"],[48,28,43,26],[48,29,43,27,"length"],[48,35,43,33],[49,6,44,4],[49,7,44,5],[50,6,45,4],[51,6,46,4,"delete"],[51,12,46,10,"delete"],[51,13,46,11,"key"],[51,16,46,14],[51,18,46,16],[52,8,47,6],[52,12,47,10],[52,13,47,11,"cache"],[52,18,47,16],[52,19,47,17,"key"],[52,22,47,20],[52,23,47,21],[52,25,47,23],[53,10,48,8],[53,17,48,15],[53,22,48,20],[54,8,49,6],[56,8,51,6],[57,8,52,6],[57,15,52,13,"cache"],[57,20,52,18],[57,21,52,19,"key"],[57,24,52,22],[57,25,52,23],[58,8,54,6],[58,13,54,11],[58,17,54,15,"i"],[58,18,54,16],[58,21,54,19],[58,22,54,20],[58,24,54,22,"i"],[58,25,54,23],[58,28,54,26,"evictionOrder"],[58,41,54,39],[58,42,54,40,"length"],[58,48,54,46],[58,50,54,48,"i"],[58,51,54,49],[58,53,54,51],[58,55,54,53],[59,10,55,8],[59,14,55,12,"evictionOrder"],[59,27,55,25],[59,28,55,26,"i"],[59,29,55,27],[59,30,55,28],[59,35,55,33,"key"],[59,38,55,36],[59,40,55,38],[60,12,56,10,"evictionOrder"],[60,25,56,23],[60,26,56,24,"splice"],[60,32,56,30],[60,33,56,31,"i"],[60,34,56,32],[60,36,56,34],[60,37,56,35],[60,38,56,36],[61,12,57,10],[62,10,58,8],[63,8,59,6],[64,8,61,6],[64,15,61,13],[64,19,61,17],[65,6,62,4],[66,4,63,2],[66,5,63,3],[67,2,64,0],[68,0,64,1],[68,3]],"functionMap":{"names":["<global>","makeFifoCache","add","clear","get","size","_delete"],"mappings":"AAA;ACI;ICU;KDmB;IEC;KFG;IGC;KHE;IIC;KJE;IKE;KLgB;CDE"},"hasCjsExports":false},"type":"js/module"}]}