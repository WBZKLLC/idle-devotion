{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":14,"index":78},"end":{"line":3,"column":38,"index":102}}],"key":"ud8OE6Lg8Q81+bS6ynZj2uyMPdA=","exportNames":["*"],"imports":1}},{"name":"../metadata.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":17,"index":121},"end":{"line":4,"column":42,"index":146}}],"key":"0jUnJreXX8izbzCb7tdzUkkCTzI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _classCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\").default;\n  var _createClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\").default;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var utils = require(_dependencyMap[2], \"@sentry/utils\");\n  var metadata = require(_dependencyMap[3], \"../metadata.js\");\n\n  /**\n   * Adds module metadata to stack frames.\n   *\n   * Metadata can be injected by the Sentry bundler plugins using the `_experiments.moduleMetadata` config option.\n   *\n   * When this integration is added, the metadata passed to the bundler plugin is added to the stack frames of all events\n   * under the `module_metadata` property. This can be used to help in tagging or routing of events from different teams\n   * our sources\n   */\n  var ModuleMetadata = /*#__PURE__*/function () {\n    \"use strict\";\n\n    /**\n     * @inheritDoc\n     */\n\n    function ModuleMetadata() {\n      _classCallCheck(this, ModuleMetadata);\n      this.name = ModuleMetadata.id;\n    }\n\n    /**\n     * @inheritDoc\n     */\n    return _createClass(ModuleMetadata, [{\n      key: \"setupOnce\",\n      value: function setupOnce(addGlobalEventProcessor, getCurrentHub) {\n        var client = getCurrentHub().getClient();\n        if (!client || typeof client.on !== 'function') {\n          return;\n        }\n\n        // We need to strip metadata from stack frames before sending them to Sentry since these are client side only.\n        client.on('beforeEnvelope', envelope => {\n          utils.forEachEnvelopeItem(envelope, (item, type) => {\n            if (type === 'event') {\n              var event = Array.isArray(item) ? item[1] : undefined;\n              if (event) {\n                metadata.stripMetadataFromStackFrames(event);\n                item[1] = event;\n              }\n            }\n          });\n        });\n        var stackParser = client.getOptions().stackParser;\n        addGlobalEventProcessor(event => {\n          metadata.addMetadataToStackFrames(stackParser, event);\n          return event;\n        });\n      }\n    }], [{\n      key: \"__initStatic\",\n      value:\n      /*\n       * @inheritDoc\n       */\n      function __initStatic() {\n        this.id = 'ModuleMetadata';\n      }\n    }]);\n  }();\n  ModuleMetadata.__initStatic();\n  exports.ModuleMetadata = ModuleMetadata;\n});","lineCount":73,"map":[[4,2,1,0,"Object"],[4,8,1,6],[4,9,1,7,"defineProperty"],[4,23,1,21],[4,24,1,22,"exports"],[4,31,1,29],[4,33,1,31],[4,45,1,43],[4,47,1,45],[5,4,1,47,"value"],[5,9,1,52],[5,11,1,54],[6,2,1,59],[6,3,1,60],[6,4,1,61],[7,2,3,0],[7,6,3,6,"utils"],[7,11,3,11],[7,14,3,14,"require"],[7,21,3,21],[7,22,3,21,"_dependencyMap"],[7,36,3,21],[7,56,3,37],[7,57,3,38],[8,2,4,0],[8,6,4,6,"metadata"],[8,14,4,14],[8,17,4,17,"require"],[8,24,4,24],[8,25,4,24,"_dependencyMap"],[8,39,4,24],[8,60,4,41],[8,61,4,42],[10,2,6,0],[11,0,7,0],[12,0,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,2,6,0],[19,6,15,6,"ModuleMetadata"],[19,20,15,20],[20,4,15,20],[22,4,21,2],[23,0,22,0],[24,0,23,0],[26,4,25,3],[26,13,25,3,"ModuleMetadata"],[26,28,25,3],[26,30,25,17],[27,6,25,17,"_classCallCheck"],[27,21,25,17],[27,28,25,17,"ModuleMetadata"],[27,42,25,17],[28,6,26,4],[28,10,26,8],[28,11,26,9,"name"],[28,15,26,13],[28,18,26,16,"ModuleMetadata"],[28,32,26,30],[28,33,26,31,"id"],[28,35,26,33],[29,4,27,2],[31,4,29,2],[32,0,30,0],[33,0,31,0],[34,4,29,2],[34,11,29,2,"_createClass"],[34,23,29,2],[34,24,29,2,"ModuleMetadata"],[34,38,29,2],[35,6,29,2,"key"],[35,9,29,2],[36,6,29,2,"value"],[36,11,29,2],[36,13,32,3],[36,22,32,3,"setupOnce"],[36,31,32,12,"setupOnce"],[36,32,32,13,"addGlobalEventProcessor"],[36,55,32,36],[36,57,32,38,"getCurrentHub"],[36,70,32,51],[36,72,32,53],[37,8,33,4],[37,12,33,10,"client"],[37,18,33,16],[37,21,33,19,"getCurrentHub"],[37,34,33,32],[37,35,33,33],[37,36,33,34],[37,37,33,35,"getClient"],[37,46,33,44],[37,47,33,45],[37,48,33,46],[38,8,35,4],[38,12,35,8],[38,13,35,9,"client"],[38,19,35,15],[38,23,35,19],[38,30,35,26,"client"],[38,36,35,32],[38,37,35,33,"on"],[38,39,35,35],[38,44,35,40],[38,54,35,50],[38,56,35,52],[39,10,36,6],[40,8,37,4],[42,8,39,4],[43,8,40,4,"client"],[43,14,40,10],[43,15,40,11,"on"],[43,17,40,13],[43,18,40,14],[43,34,40,30],[43,36,40,32,"envelope"],[43,44,40,40],[43,48,40,44],[44,10,41,6,"utils"],[44,15,41,11],[44,16,41,12,"forEachEnvelopeItem"],[44,35,41,31],[44,36,41,32,"envelope"],[44,44,41,40],[44,46,41,42],[44,47,41,43,"item"],[44,51,41,47],[44,53,41,49,"type"],[44,57,41,53],[44,62,41,58],[45,12,42,8],[45,16,42,12,"type"],[45,20,42,16],[45,25,42,21],[45,32,42,28],[45,34,42,30],[46,14,43,10],[46,18,43,16,"event"],[46,23,43,21],[46,26,43,24,"Array"],[46,31,43,29],[46,32,43,30,"isArray"],[46,39,43,37],[46,40,43,38,"item"],[46,44,43,42],[46,45,43,43],[46,48,43,47,"item"],[46,52,43,51],[46,53,43,54],[46,54,43,55],[46,55,43,56],[46,58,43,59,"undefined"],[46,67,43,68],[47,14,45,10],[47,18,45,14,"event"],[47,23,45,19],[47,25,45,21],[48,16,46,12,"metadata"],[48,24,46,20],[48,25,46,21,"stripMetadataFromStackFrames"],[48,53,46,49],[48,54,46,50,"event"],[48,59,46,55],[48,60,46,56],[49,16,47,12,"item"],[49,20,47,16],[49,21,47,17],[49,22,47,18],[49,23,47,19],[49,26,47,22,"event"],[49,31,47,27],[50,14,48,10],[51,12,49,8],[52,10,50,6],[52,11,50,7],[52,12,50,8],[53,8,51,4],[53,9,51,5],[53,10,51,6],[54,8,53,4],[54,12,53,10,"stackParser"],[54,23,53,21],[54,26,53,24,"client"],[54,32,53,30],[54,33,53,31,"getOptions"],[54,43,53,41],[54,44,53,42],[54,45,53,43],[54,46,53,44,"stackParser"],[54,57,53,55],[55,8,55,4,"addGlobalEventProcessor"],[55,31,55,27],[55,32,55,28,"event"],[55,37,55,33],[55,41,55,37],[56,10,56,6,"metadata"],[56,18,56,14],[56,19,56,15,"addMetadataToStackFrames"],[56,43,56,39],[56,44,56,40,"stackParser"],[56,55,56,51],[56,57,56,53,"event"],[56,62,56,58],[56,63,56,59],[57,10,57,6],[57,17,57,13,"event"],[57,22,57,18],[58,8,58,4],[58,9,58,5],[58,10,58,6],[59,6,59,2],[60,4,59,3],[61,6,59,3,"key"],[61,9,59,3],[62,6,59,3,"value"],[62,11,59,3],[63,6,16,2],[64,0,17,0],[65,0,18,0],[66,6,19,3],[66,15,19,10,"__initStatic"],[66,27,19,22,"__initStatic"],[66,28,19,22],[66,30,19,25],[67,8,19,26],[67,12,19,30],[67,13,19,31,"id"],[67,15,19,33],[67,18,19,36],[67,34,19,52],[68,6,19,53],[69,4,19,54],[70,2,19,54],[71,2,60,2,"ModuleMetadata"],[71,16,60,16],[71,17,60,17,"__initStatic"],[71,29,60,29],[71,30,60,30],[71,31,60,31],[72,2,62,0,"exports"],[72,9,62,7],[72,10,62,8,"ModuleMetadata"],[72,24,62,22],[72,27,62,25,"ModuleMetadata"],[72,41,62,39],[73,0,62,40],[73,3]],"functionMap":{"names":["<global>","ModuleMetadata","ModuleMetadata.__initStatic","ModuleMetadata#constructor","ModuleMetadata#setupOnce","client.on$argument_1","utils.forEachEnvelopeItem$argument_1","addGlobalEventProcessor$argument_0"],"mappings":"AAA;ACc;GCI,mDD;GEM;GFE;GGK;gCCQ;0CCC;ODS;KDC;4BGI;KHG;GHC;CDC"},"hasCjsExports":true},"type":"js/module"}]}