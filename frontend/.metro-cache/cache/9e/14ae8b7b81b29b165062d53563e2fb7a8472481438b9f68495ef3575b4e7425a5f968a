{"dependencies":[{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"m+kcirlwHAgMIuUoyR2vCxbhWD4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"defaultTransactionSource\", {\n    enumerable: true,\n    get: function () {\n      return defaultTransactionSource;\n    }\n  });\n  Object.defineProperty(exports, \"customTransactionSource\", {\n    enumerable: true,\n    get: function () {\n      return customTransactionSource;\n    }\n  });\n  Object.defineProperty(exports, \"getBlankTransactionContext\", {\n    enumerable: true,\n    get: function () {\n      return getBlankTransactionContext;\n    }\n  });\n  Object.defineProperty(exports, \"MARGIN_OF_ERROR_SECONDS\", {\n    enumerable: true,\n    get: function () {\n      return MARGIN_OF_ERROR_SECONDS;\n    }\n  });\n  exports.adjustTransactionDuration = adjustTransactionDuration;\n  exports.getTimeOriginMilliseconds = getTimeOriginMilliseconds;\n  exports.instrumentChildSpanFinish = instrumentChildSpanFinish;\n  exports.isNearToNow = isNearToNow;\n  var _sentryUtils = require(_dependencyMap[0], \"@sentry/utils\");\n  var defaultTransactionSource = 'component';\n  var customTransactionSource = 'custom';\n  var getBlankTransactionContext = name => {\n    return {\n      name: 'Route Change',\n      op: 'navigation',\n      tags: {\n        'routing.instrumentation': name\n      },\n      data: {},\n      metadata: {\n        source: defaultTransactionSource\n      }\n    };\n  };\n  /**\n   * A margin of error of 50ms is allowed for the async native bridge call.\n   * Anything larger would reduce the accuracy of our frames measurements.\n   */\n  var MARGIN_OF_ERROR_SECONDS = 0.05;\n  var timeOriginMilliseconds = Date.now();\n  /**\n   *\n   */\n  function adjustTransactionDuration(maxDurationMs, transaction, endTimestamp) {\n    var diff = endTimestamp - transaction.startTimestamp;\n    var isOutdatedTransaction = endTimestamp && (diff > maxDurationMs || diff < 0);\n    if (isOutdatedTransaction) {\n      transaction.setStatus('deadline_exceeded');\n      transaction.setTag('maxTransactionDurationExceeded', 'true');\n    }\n  }\n  /**\n   * Returns the timestamp where the JS global scope was initialized.\n   */\n  function getTimeOriginMilliseconds() {\n    return timeOriginMilliseconds;\n  }\n  /**\n   * Calls the callback every time a child span of the transaction is finished.\n   */\n  function instrumentChildSpanFinish(transaction, callback) {\n    if (transaction.spanRecorder) {\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      var originalAdd = transaction.spanRecorder.add;\n      transaction.spanRecorder.add = span => {\n        originalAdd.apply(transaction.spanRecorder, [span]);\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        var originalSpanFinish = span.finish;\n        span.finish = endTimestamp => {\n          originalSpanFinish.apply(span, [endTimestamp]);\n          callback(span, endTimestamp);\n        };\n      };\n    }\n  }\n  /**\n   * Determines if the timestamp is now or within the specified margin of error from now.\n   */\n  function isNearToNow(timestamp) {\n    return Math.abs((0, _sentryUtils.timestampInSeconds)() - timestamp) <= MARGIN_OF_ERROR_SECONDS;\n  }\n});","lineCount":98,"map":[[7,2,2,0,"Object"],[7,8,2,0],[7,9,2,0,"defineProperty"],[7,23,2,0],[7,24,2,0,"exports"],[7,31,2,0],[8,4,2,0,"enumerable"],[8,14,2,0],[9,4,2,0,"get"],[9,7,2,0],[9,18,2,0,"get"],[9,19,2,0],[10,6,2,0],[10,13,2,0,"defaultTransactionSource"],[10,37,2,0],[11,4,2,0],[12,2,2,0],[13,2,3,0,"Object"],[13,8,3,0],[13,9,3,0,"defineProperty"],[13,23,3,0],[13,24,3,0,"exports"],[13,31,3,0],[14,4,3,0,"enumerable"],[14,14,3,0],[15,4,3,0,"get"],[15,7,3,0],[15,18,3,0,"get"],[15,19,3,0],[16,6,3,0],[16,13,3,0,"customTransactionSource"],[16,36,3,0],[17,4,3,0],[18,2,3,0],[19,2,4,0,"Object"],[19,8,4,0],[19,9,4,0,"defineProperty"],[19,23,4,0],[19,24,4,0,"exports"],[19,31,4,0],[20,4,4,0,"enumerable"],[20,14,4,0],[21,4,4,0,"get"],[21,7,4,0],[21,18,4,0,"get"],[21,19,4,0],[22,6,4,0],[22,13,4,0,"getBlankTransactionContext"],[22,39,4,0],[23,4,4,0],[24,2,4,0],[25,2,21,0,"Object"],[25,8,21,0],[25,9,21,0,"defineProperty"],[25,23,21,0],[25,24,21,0,"exports"],[25,31,21,0],[26,4,21,0,"enumerable"],[26,14,21,0],[27,4,21,0,"get"],[27,7,21,0],[27,18,21,0,"get"],[27,19,21,0],[28,6,21,0],[28,13,21,0,"MARGIN_OF_ERROR_SECONDS"],[28,36,21,0],[29,4,21,0],[30,2,21,0],[31,2,26,0,"exports"],[31,9,26,0],[31,10,26,0,"adjustTransactionDuration"],[31,35,26,0],[31,38,26,0,"adjustTransactionDuration"],[31,63,26,0],[32,2,37,0,"exports"],[32,9,37,0],[32,10,37,0,"getTimeOriginMilliseconds"],[32,35,37,0],[32,38,37,0,"getTimeOriginMilliseconds"],[32,63,37,0],[33,2,43,0,"exports"],[33,9,43,0],[33,10,43,0,"instrumentChildSpanFinish"],[33,35,43,0],[33,38,43,0,"instrumentChildSpanFinish"],[33,63,43,0],[34,2,61,0,"exports"],[34,9,61,0],[34,10,61,0,"isNearToNow"],[34,21,61,0],[34,24,61,0,"isNearToNow"],[34,35,61,0],[35,2,1,0],[35,6,1,0,"_sentryUtils"],[35,18,1,0],[35,21,1,0,"require"],[35,28,1,0],[35,29,1,0,"_dependencyMap"],[35,43,1,0],[36,2,2,7],[36,6,2,13,"defaultTransactionSource"],[36,30,2,37],[36,33,2,40],[36,44,2,51],[37,2,3,7],[37,6,3,13,"customTransactionSource"],[37,29,3,36],[37,32,3,39],[37,40,3,47],[38,2,4,7],[38,6,4,13,"getBlankTransactionContext"],[38,32,4,39],[38,35,4,43,"name"],[38,39,4,47],[38,43,4,52],[39,4,5,4],[39,11,5,11],[40,6,6,8,"name"],[40,10,6,12],[40,12,6,14],[40,26,6,28],[41,6,7,8,"op"],[41,8,7,10],[41,10,7,12],[41,22,7,24],[42,6,8,8,"tags"],[42,10,8,12],[42,12,8,14],[43,8,9,12],[43,33,9,37],[43,35,9,39,"name"],[44,6,10,8],[44,7,10,9],[45,6,11,8,"data"],[45,10,11,12],[45,12,11,14],[45,13,11,15],[45,14,11,16],[46,6,12,8,"metadata"],[46,14,12,16],[46,16,12,18],[47,8,13,12,"source"],[47,14,13,18],[47,16,13,20,"defaultTransactionSource"],[48,6,14,8],[49,4,15,4],[49,5,15,5],[50,2,16,0],[50,3,16,1],[51,2,17,0],[52,0,18,0],[53,0,19,0],[54,0,20,0],[55,2,21,7],[55,6,21,13,"MARGIN_OF_ERROR_SECONDS"],[55,29,21,36],[55,32,21,39],[55,36,21,43],[56,2,22,0],[56,6,22,6,"timeOriginMilliseconds"],[56,28,22,28],[56,31,22,31,"Date"],[56,35,22,35],[56,36,22,36,"now"],[56,39,22,39],[56,40,22,40],[56,41,22,41],[57,2,23,0],[58,0,24,0],[59,0,25,0],[60,2,26,7],[60,11,26,16,"adjustTransactionDuration"],[60,36,26,41,"adjustTransactionDuration"],[60,37,26,42,"maxDurationMs"],[60,50,26,55],[60,52,26,57,"transaction"],[60,63,26,68],[60,65,26,70,"endTimestamp"],[60,77,26,82],[60,79,26,84],[61,4,27,4],[61,8,27,10,"diff"],[61,12,27,14],[61,15,27,17,"endTimestamp"],[61,27,27,29],[61,30,27,32,"transaction"],[61,41,27,43],[61,42,27,44,"startTimestamp"],[61,56,27,58],[62,4,28,4],[62,8,28,10,"isOutdatedTransaction"],[62,29,28,31],[62,32,28,34,"endTimestamp"],[62,44,28,46],[62,49,28,51,"diff"],[62,53,28,55],[62,56,28,58,"maxDurationMs"],[62,69,28,71],[62,73,28,75,"diff"],[62,77,28,79],[62,80,28,82],[62,81,28,83],[62,82,28,84],[63,4,29,4],[63,8,29,8,"isOutdatedTransaction"],[63,29,29,29],[63,31,29,31],[64,6,30,8,"transaction"],[64,17,30,19],[64,18,30,20,"setStatus"],[64,27,30,29],[64,28,30,30],[64,47,30,49],[64,48,30,50],[65,6,31,8,"transaction"],[65,17,31,19],[65,18,31,20,"setTag"],[65,24,31,26],[65,25,31,27],[65,57,31,59],[65,59,31,61],[65,65,31,67],[65,66,31,68],[66,4,32,4],[67,2,33,0],[68,2,34,0],[69,0,35,0],[70,0,36,0],[71,2,37,7],[71,11,37,16,"getTimeOriginMilliseconds"],[71,36,37,41,"getTimeOriginMilliseconds"],[71,37,37,41],[71,39,37,44],[72,4,38,4],[72,11,38,11,"timeOriginMilliseconds"],[72,33,38,33],[73,2,39,0],[74,2,40,0],[75,0,41,0],[76,0,42,0],[77,2,43,7],[77,11,43,16,"instrumentChildSpanFinish"],[77,36,43,41,"instrumentChildSpanFinish"],[77,37,43,42,"transaction"],[77,48,43,53],[77,50,43,55,"callback"],[77,58,43,63],[77,60,43,65],[78,4,44,4],[78,8,44,8,"transaction"],[78,19,44,19],[78,20,44,20,"spanRecorder"],[78,32,44,32],[78,34,44,34],[79,6,45,8],[80,6,46,8],[80,10,46,14,"originalAdd"],[80,21,46,25],[80,24,46,28,"transaction"],[80,35,46,39],[80,36,46,40,"spanRecorder"],[80,48,46,52],[80,49,46,53,"add"],[80,52,46,56],[81,6,47,8,"transaction"],[81,17,47,19],[81,18,47,20,"spanRecorder"],[81,30,47,32],[81,31,47,33,"add"],[81,34,47,36],[81,37,47,40,"span"],[81,41,47,44],[81,45,47,49],[82,8,48,12,"originalAdd"],[82,19,48,23],[82,20,48,24,"apply"],[82,25,48,29],[82,26,48,30,"transaction"],[82,37,48,41],[82,38,48,42,"spanRecorder"],[82,50,48,54],[82,52,48,56],[82,53,48,57,"span"],[82,57,48,61],[82,58,48,62],[82,59,48,63],[83,8,49,12],[84,8,50,12],[84,12,50,18,"originalSpanFinish"],[84,30,50,36],[84,33,50,39,"span"],[84,37,50,43],[84,38,50,44,"finish"],[84,44,50,50],[85,8,51,12,"span"],[85,12,51,16],[85,13,51,17,"finish"],[85,19,51,23],[85,22,51,27,"endTimestamp"],[85,34,51,39],[85,38,51,44],[86,10,52,16,"originalSpanFinish"],[86,28,52,34],[86,29,52,35,"apply"],[86,34,52,40],[86,35,52,41,"span"],[86,39,52,45],[86,41,52,47],[86,42,52,48,"endTimestamp"],[86,54,52,60],[86,55,52,61],[86,56,52,62],[87,10,53,16,"callback"],[87,18,53,24],[87,19,53,25,"span"],[87,23,53,29],[87,25,53,31,"endTimestamp"],[87,37,53,43],[87,38,53,44],[88,8,54,12],[88,9,54,13],[89,6,55,8],[89,7,55,9],[90,4,56,4],[91,2,57,0],[92,2,58,0],[93,0,59,0],[94,0,60,0],[95,2,61,7],[95,11,61,16,"isNearToNow"],[95,22,61,27,"isNearToNow"],[95,23,61,28,"timestamp"],[95,32,61,37],[95,34,61,39],[96,4,62,4],[96,11,62,11,"Math"],[96,15,62,15],[96,16,62,16,"abs"],[96,19,62,19],[96,20,62,20],[96,24,62,20,"timestampInSeconds"],[96,36,62,38],[96,37,62,38,"timestampInSeconds"],[96,55,62,38],[96,57,62,39],[96,58,62,40],[96,61,62,43,"timestamp"],[96,70,62,52],[96,71,62,53],[96,75,62,57,"MARGIN_OF_ERROR_SECONDS"],[96,98,62,80],[97,2,63,0],[98,0,63,1],[98,3]],"functionMap":{"names":["<global>","getBlankTransactionContext","adjustTransactionDuration","getTimeOriginMilliseconds","instrumentChildSpanFinish","transaction.spanRecorder.add","span.finish","isNearToNow"],"mappings":"AAA;0CCG;CDY;OEU;CFO;OGI;CHE;OII;uCCI;0BCI;aDG;SDC;CJE;OOI;CPE"},"hasCjsExports":false},"type":"js/module"}]}