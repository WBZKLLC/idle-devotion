{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _asyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\").default;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  /**\n   * Polyfill for the optional chain operator, `?.`, given previous conversion of the expression into an array of values,\n   * descriptors, and functions, for situations in which at least one part of the expression is async.\n   *\n   * Adapted from Sucrase (https://github.com/alangpierce/sucrase) See\n   * https://github.com/alangpierce/sucrase/blob/265887868966917f3b924ce38dfad01fbab1329f/src/transformers/OptionalChainingNullishTransformer.ts#L15\n   *\n   * @param ops Array result of expression conversion\n   * @returns The value of the expression\n   */\n  function _asyncOptionalChain(_x) {\n    return _asyncOptionalChain2.apply(this, arguments);\n  } // Sucrase version:\n  // async function _asyncOptionalChain(ops) {\n  //   let lastAccessLHS = undefined;\n  //   let value = ops[0];\n  //   let i = 1;\n  //   while (i < ops.length) {\n  //     const op = ops[i];\n  //     const fn = ops[i + 1];\n  //     i += 2;\n  //     if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) {\n  //       return undefined;\n  //     }\n  //     if (op === 'access' || op === 'optionalAccess') {\n  //       lastAccessLHS = value;\n  //       value = await fn(value);\n  //     } else if (op === 'call' || op === 'optionalCall') {\n  //       value = await fn((...args) => value.call(lastAccessLHS, ...args));\n  //       lastAccessLHS = undefined;\n  //     }\n  //   }\n  //   return value;\n  // }\n  function _asyncOptionalChain2() {\n    _asyncOptionalChain2 = _asyncToGenerator(function* (ops) {\n      var lastAccessLHS = undefined;\n      var value = ops[0];\n      var i = 1;\n      while (i < ops.length) {\n        var op = ops[i];\n        var fn = ops[i + 1];\n        i += 2;\n        // by checking for loose equality to `null`, we catch both `null` and `undefined`\n        if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) {\n          // really we're meaning to return `undefined` as an actual value here, but it saves bytes not to write it\n          return;\n        }\n        if (op === 'access' || op === 'optionalAccess') {\n          lastAccessLHS = value;\n          value = yield fn(value);\n        } else if (op === 'call' || op === 'optionalCall') {\n          value = yield fn(function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            return value.call(lastAccessLHS, ...args);\n          });\n          lastAccessLHS = undefined;\n        }\n      }\n      return value;\n    });\n    return _asyncOptionalChain2.apply(this, arguments);\n  }\n  exports._asyncOptionalChain = _asyncOptionalChain;\n});","lineCount":73,"map":[[3,2,1,0,"Object"],[3,8,1,6],[3,9,1,7,"defineProperty"],[3,23,1,21],[3,24,1,22,"exports"],[3,31,1,29],[3,33,1,31],[3,45,1,43],[3,47,1,45],[4,4,1,47,"value"],[4,9,1,52],[4,11,1,54],[5,2,1,59],[5,3,1,60],[5,4,1,61],[7,2,3,0],[8,0,4,0],[9,0,5,0],[10,0,6,0],[11,0,7,0],[12,0,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,2,3,0],[17,11,13,15,"_asyncOptionalChain"],[17,30,13,34,"_asyncOptionalChain"],[17,31,13,34,"_x"],[17,33,13,34],[18,4,13,34],[18,11,13,34,"_asyncOptionalChain2"],[18,31,13,34],[18,32,13,34,"apply"],[18,37,13,34],[18,44,13,34,"arguments"],[18,53,13,34],[19,2,13,34],[19,4,37,0],[20,2,38,0],[21,2,39,0],[22,2,40,0],[23,2,41,0],[24,2,42,0],[25,2,43,0],[26,2,44,0],[27,2,45,0],[28,2,46,0],[29,2,47,0],[30,2,48,0],[31,2,49,0],[32,2,50,0],[33,2,51,0],[34,2,52,0],[35,2,53,0],[36,2,54,0],[37,2,55,0],[38,2,56,0],[39,2,57,0],[40,2,58,0],[41,2,58,0],[41,11,58,0,"_asyncOptionalChain2"],[41,32,58,0],[42,4,58,0,"_asyncOptionalChain2"],[42,24,58,0],[42,27,58,0,"_asyncToGenerator"],[42,44,58,0],[42,45,13,0],[42,56,13,35,"ops"],[42,59,13,38],[42,61,13,40],[43,6,14,2],[43,10,14,6,"lastAccessLHS"],[43,23,14,19],[43,26,14,22,"undefined"],[43,35,14,31],[44,6,15,2],[44,10,15,6,"value"],[44,15,15,11],[44,18,15,14,"ops"],[44,21,15,17],[44,22,15,18],[44,23,15,19],[44,24,15,20],[45,6,16,2],[45,10,16,6,"i"],[45,11,16,7],[45,14,16,10],[45,15,16,11],[46,6,17,2],[46,13,17,9,"i"],[46,14,17,10],[46,17,17,13,"ops"],[46,20,17,16],[46,21,17,17,"length"],[46,27,17,23],[46,29,17,25],[47,8,18,4],[47,12,18,10,"op"],[47,14,18,12],[47,17,18,15,"ops"],[47,20,18,18],[47,21,18,19,"i"],[47,22,18,20],[47,23,18,21],[48,8,19,4],[48,12,19,10,"fn"],[48,14,19,12],[48,17,19,15,"ops"],[48,20,19,18],[48,21,19,19,"i"],[48,22,19,20],[48,25,19,23],[48,26,19,24],[48,27,19,25],[49,8,20,4,"i"],[49,9,20,5],[49,13,20,9],[49,14,20,10],[50,8,21,4],[51,8,22,4],[51,12,22,8],[51,13,22,9,"op"],[51,15,22,11],[51,20,22,16],[51,36,22,32],[51,40,22,36,"op"],[51,42,22,38],[51,47,22,43],[51,61,22,57],[51,66,22,62,"value"],[51,71,22,67],[51,75,22,71],[51,79,22,75],[51,81,22,77],[52,10,23,6],[53,10,24,6],[54,8,25,4],[55,8,26,4],[55,12,26,8,"op"],[55,14,26,10],[55,19,26,15],[55,27,26,23],[55,31,26,27,"op"],[55,33,26,29],[55,38,26,34],[55,54,26,50],[55,56,26,52],[56,10,27,6,"lastAccessLHS"],[56,23,27,19],[56,26,27,22,"value"],[56,31,27,27],[57,10,28,6,"value"],[57,15,28,11],[57,24,28,20,"fn"],[57,26,28,22],[57,27,28,23,"value"],[57,32,28,28],[57,33,28,29],[58,8,29,4],[58,9,29,5],[58,15,29,11],[58,19,29,15,"op"],[58,21,29,17],[58,26,29,22],[58,32,29,28],[58,36,29,32,"op"],[58,38,29,34],[58,43,29,39],[58,57,29,53],[58,59,29,55],[59,10,30,6,"value"],[59,15,30,11],[59,24,30,20,"fn"],[59,26,30,22],[59,27,30,23],[60,12,30,23],[60,21,30,23,"_len"],[60,25,30,23],[60,28,30,23,"arguments"],[60,37,30,23],[60,38,30,23,"length"],[60,44,30,23],[60,46,30,27,"args"],[60,50,30,31],[60,57,30,31,"Array"],[60,62,30,31],[60,63,30,31,"_len"],[60,67,30,31],[60,70,30,31,"_key"],[60,74,30,31],[60,80,30,31,"_key"],[60,84,30,31],[60,87,30,31,"_len"],[60,91,30,31],[60,93,30,31,"_key"],[60,97,30,31],[61,14,30,27,"args"],[61,18,30,31],[61,19,30,31,"_key"],[61,23,30,31],[61,27,30,31,"arguments"],[61,36,30,31],[61,37,30,31,"_key"],[61,41,30,31],[62,12,30,31],[63,12,30,31],[63,19,30,37,"value"],[63,24,30,42],[63,25,30,45,"call"],[63,29,30,49],[63,30,30,50,"lastAccessLHS"],[63,43,30,63],[63,45,30,65],[63,48,30,68,"args"],[63,52,30,72],[63,53,30,73],[64,10,30,73],[64,12,30,74],[65,10,31,6,"lastAccessLHS"],[65,23,31,19],[65,26,31,22,"undefined"],[65,35,31,31],[66,8,32,4],[67,6,33,2],[68,6,34,2],[68,13,34,9,"value"],[68,18,34,14],[69,4,35,0],[69,5,35,1],[70,4,35,1],[70,11,35,1,"_asyncOptionalChain2"],[70,31,35,1],[70,32,35,1,"apply"],[70,37,35,1],[70,44,35,1,"arguments"],[70,53,35,1],[71,2,35,1],[72,2,60,0,"exports"],[72,9,60,7],[72,10,60,8,"_asyncOptionalChain"],[72,29,60,27],[72,32,60,30,"_asyncOptionalChain"],[72,51,60,49],[73,0,60,50],[73,3]],"functionMap":{"names":["<global>","_asyncOptionalChain","fn$argument_0"],"mappings":"AAA;ACY;uBCiB,kDD;CDK"},"hasCjsExports":true},"type":"js/module"}]}