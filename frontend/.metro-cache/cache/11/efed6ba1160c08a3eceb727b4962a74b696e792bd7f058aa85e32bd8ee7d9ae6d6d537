{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":65,"index":118}}],"key":"m+kcirlwHAgMIuUoyR2vCxbhWD4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createStore\", {\n    enumerable: true,\n    get: function () {\n      return createStore;\n    }\n  });\n  Object.defineProperty(exports, \"insert\", {\n    enumerable: true,\n    get: function () {\n      return insert;\n    }\n  });\n  Object.defineProperty(exports, \"makeBrowserOfflineTransport\", {\n    enumerable: true,\n    get: function () {\n      return makeBrowserOfflineTransport;\n    }\n  });\n  Object.defineProperty(exports, \"pop\", {\n    enumerable: true,\n    get: function () {\n      return pop;\n    }\n  });\n  var _sentryCore = require(_dependencyMap[0], \"@sentry/core\");\n  var _sentryUtils = require(_dependencyMap[1], \"@sentry/utils\");\n  // 'Store', 'promisifyRequest' and 'createStore' were originally copied from the 'idb-keyval' package before being\n  // modified and simplified: https://github.com/jakearchibald/idb-keyval\n  //\n  // At commit: 0420a704fd6cbb4225429c536b1f61112d012fca\n  // Original licence:\n\n  // Copyright 2016, Jake Archibald\n  //\n  // Licensed under the Apache License, Version 2.0 (the \"License\");\n  // you may not use this file except in compliance with the License.\n  // You may obtain a copy of the License at\n  //\n  //   http://www.apache.org/licenses/LICENSE-2.0\n  //\n  // Unless required by applicable law or agreed to in writing, software\n  // distributed under the License is distributed on an \"AS IS\" BASIS,\n  // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  // See the License for the specific language governing permissions and\n  // limitations under the License.\n\n  function promisifyRequest(request) {\n    return new Promise((resolve, reject) => {\n      // @ts-expect-error - file size hacks\n      request.oncomplete = request.onsuccess = () => resolve(request.result);\n      // @ts-expect-error - file size hacks\n      request.onabort = request.onerror = () => reject(request.error);\n    });\n  }\n\n  /** Create or open an IndexedDb store */\n  function createStore(dbName, storeName) {\n    const request = indexedDB.open(dbName);\n    request.onupgradeneeded = () => request.result.createObjectStore(storeName);\n    const dbp = promisifyRequest(request);\n    return callback => dbp.then(db => callback(db.transaction(storeName, 'readwrite').objectStore(storeName)));\n  }\n  function keys(store) {\n    return promisifyRequest(store.getAllKeys());\n  }\n\n  /** Insert into the store */\n  function insert(store, value, maxQueueSize) {\n    return store(store => {\n      return keys(store).then(keys => {\n        if (keys.length >= maxQueueSize) {\n          return;\n        }\n\n        // We insert with an incremented key so that the entries are popped in order\n        store.put(value, Math.max(...keys, 0) + 1);\n        return promisifyRequest(store.transaction);\n      });\n    });\n  }\n\n  /** Pop the oldest value from the store */\n  function pop(store) {\n    return store(store => {\n      return keys(store).then(keys => {\n        if (keys.length === 0) {\n          return undefined;\n        }\n        return promisifyRequest(store.get(keys[0])).then(value => {\n          store.delete(keys[0]);\n          return promisifyRequest(store.transaction).then(() => value);\n        });\n      });\n    });\n  }\n  function createIndexedDbStore(options) {\n    let store;\n\n    // Lazily create the store only when it's needed\n    function getStore() {\n      if (store == undefined) {\n        store = createStore(options.dbName || 'sentry-offline', options.storeName || 'queue');\n      }\n      return store;\n    }\n    return {\n      insert: async env => {\n        try {\n          const serialized = await (0, _sentryUtils.serializeEnvelope)(env, options.textEncoder);\n          await insert(getStore(), serialized, options.maxQueueSize || 30);\n        } catch (_) {\n          //\n        }\n      },\n      pop: async () => {\n        try {\n          const deserialized = await pop(getStore());\n          if (deserialized) {\n            return (0, _sentryUtils.parseEnvelope)(deserialized, options.textEncoder || new TextEncoder(), options.textDecoder || new TextDecoder());\n          }\n        } catch (_) {\n          //\n        }\n        return undefined;\n      }\n    };\n  }\n  function makeIndexedDbOfflineTransport(createTransport) {\n    return options => createTransport({\n      ...options,\n      createStore: createIndexedDbStore\n    });\n  }\n\n  /**\n   * Creates a transport that uses IndexedDb to store events when offline.\n   */\n  function makeBrowserOfflineTransport(createTransport) {\n    return makeIndexedDbOfflineTransport((0, _sentryCore.makeOfflineTransport)(createTransport));\n  }\n});","lineCount":147,"map":[[7,2,132,0,"Object"],[7,8,132,0],[7,9,132,0,"defineProperty"],[7,23,132,0],[7,24,132,0,"exports"],[7,31,132,0],[8,4,132,0,"enumerable"],[8,14,132,0],[9,4,132,0,"get"],[9,7,132,0],[9,18,132,0,"get"],[9,19,132,0],[10,6,132,0],[10,13,132,9,"createStore"],[10,24,132,20],[11,4,132,20],[12,2,132,20],[13,2,132,0,"Object"],[13,8,132,0],[13,9,132,0,"defineProperty"],[13,23,132,0],[13,24,132,0,"exports"],[13,31,132,0],[14,4,132,0,"enumerable"],[14,14,132,0],[15,4,132,0,"get"],[15,7,132,0],[15,18,132,0,"get"],[15,19,132,0],[16,6,132,0],[16,13,132,22,"insert"],[16,19,132,28],[17,4,132,28],[18,2,132,28],[19,2,132,0,"Object"],[19,8,132,0],[19,9,132,0,"defineProperty"],[19,23,132,0],[19,24,132,0,"exports"],[19,31,132,0],[20,4,132,0,"enumerable"],[20,14,132,0],[21,4,132,0,"get"],[21,7,132,0],[21,18,132,0,"get"],[21,19,132,0],[22,6,132,0],[22,13,132,30,"makeBrowserOfflineTransport"],[22,40,132,57],[23,4,132,57],[24,2,132,57],[25,2,132,0,"Object"],[25,8,132,0],[25,9,132,0,"defineProperty"],[25,23,132,0],[25,24,132,0,"exports"],[25,31,132,0],[26,4,132,0,"enumerable"],[26,14,132,0],[27,4,132,0,"get"],[27,7,132,0],[27,18,132,0,"get"],[27,19,132,0],[28,6,132,0],[28,13,132,59,"pop"],[28,16,132,62],[29,4,132,62],[30,2,132,62],[31,2,1,0],[31,6,1,0,"_sentryCore"],[31,17,1,0],[31,20,1,0,"require"],[31,27,1,0],[31,28,1,0,"_dependencyMap"],[31,42,1,0],[32,2,2,0],[32,6,2,0,"_sentryUtils"],[32,18,2,0],[32,21,2,0,"require"],[32,28,2,0],[32,29,2,0,"_dependencyMap"],[32,43,2,0],[33,2,4,0],[34,2,5,0],[35,2,6,0],[36,2,7,0],[37,2,8,0],[39,2,10,0],[40,2,11,0],[41,2,12,0],[42,2,13,0],[43,2,14,0],[44,2,15,0],[45,2,16,0],[46,2,17,0],[47,2,18,0],[48,2,19,0],[49,2,20,0],[50,2,21,0],[51,2,22,0],[53,2,24,0],[53,11,24,9,"promisifyRequest"],[53,27,24,25,"promisifyRequest"],[53,28,24,26,"request"],[53,35,24,33],[53,37,24,35],[54,4,25,2],[54,11,25,9],[54,15,25,13,"Promise"],[54,22,25,20],[54,23,25,21],[54,24,25,22,"resolve"],[54,31,25,29],[54,33,25,31,"reject"],[54,39,25,37],[54,44,25,42],[55,6,26,4],[56,6,27,4,"request"],[56,13,27,11],[56,14,27,12,"oncomplete"],[56,24,27,22],[56,27,27,25,"request"],[56,34,27,32],[56,35,27,33,"onsuccess"],[56,44,27,42],[56,47,27,45],[56,53,27,51,"resolve"],[56,60,27,58],[56,61,27,59,"request"],[56,68,27,66],[56,69,27,67,"result"],[56,75,27,73],[56,76,27,74],[57,6,28,4],[58,6,29,4,"request"],[58,13,29,11],[58,14,29,12,"onabort"],[58,21,29,19],[58,24,29,22,"request"],[58,31,29,29],[58,32,29,30,"onerror"],[58,39,29,37],[58,42,29,40],[58,48,29,46,"reject"],[58,54,29,52],[58,55,29,53,"request"],[58,62,29,60],[58,63,29,61,"error"],[58,68,29,66],[58,69,29,67],[59,4,30,2],[59,5,30,3],[59,6,30,4],[60,2,31,0],[62,2,33,0],[63,2,34,0],[63,11,34,9,"createStore"],[63,22,34,20,"createStore"],[63,23,34,21,"dbName"],[63,29,34,27],[63,31,34,29,"storeName"],[63,40,34,38],[63,42,34,40],[64,4,35,2],[64,10,35,8,"request"],[64,17,35,15],[64,20,35,18,"indexedDB"],[64,29,35,27],[64,30,35,28,"open"],[64,34,35,32],[64,35,35,33,"dbName"],[64,41,35,39],[64,42,35,40],[65,4,36,2,"request"],[65,11,36,9],[65,12,36,10,"onupgradeneeded"],[65,27,36,25],[65,30,36,28],[65,36,36,34,"request"],[65,43,36,41],[65,44,36,42,"result"],[65,50,36,48],[65,51,36,49,"createObjectStore"],[65,68,36,66],[65,69,36,67,"storeName"],[65,78,36,76],[65,79,36,77],[66,4,37,2],[66,10,37,8,"dbp"],[66,13,37,11],[66,16,37,14,"promisifyRequest"],[66,32,37,30],[66,33,37,31,"request"],[66,40,37,38],[66,41,37,39],[67,4,39,2],[67,11,39,9,"callback"],[67,19,39,17],[67,23,39,21,"dbp"],[67,26,39,24],[67,27,39,25,"then"],[67,31,39,29],[67,32,39,30,"db"],[67,34,39,32],[67,38,39,36,"callback"],[67,46,39,44],[67,47,39,45,"db"],[67,49,39,47],[67,50,39,48,"transaction"],[67,61,39,59],[67,62,39,60,"storeName"],[67,71,39,69],[67,73,39,71],[67,84,39,82],[67,85,39,83],[67,86,39,84,"objectStore"],[67,97,39,95],[67,98,39,96,"storeName"],[67,107,39,105],[67,108,39,106],[67,109,39,107],[67,110,39,108],[68,2,40,0],[69,2,42,0],[69,11,42,9,"keys"],[69,15,42,13,"keys"],[69,16,42,14,"store"],[69,21,42,19],[69,23,42,21],[70,4,43,2],[70,11,43,9,"promisifyRequest"],[70,27,43,25],[70,28,43,26,"store"],[70,33,43,31],[70,34,43,32,"getAllKeys"],[70,44,43,42],[70,45,43,43],[70,46,43,45],[70,47,43,46],[71,2,44,0],[73,2,46,0],[74,2,47,0],[74,11,47,9,"insert"],[74,17,47,15,"insert"],[74,18,47,16,"store"],[74,23,47,21],[74,25,47,23,"value"],[74,30,47,28],[74,32,47,30,"maxQueueSize"],[74,44,47,42],[74,46,47,44],[75,4,48,2],[75,11,48,9,"store"],[75,16,48,14],[75,17,48,15,"store"],[75,22,48,20],[75,26,48,24],[76,6,49,4],[76,13,49,11,"keys"],[76,17,49,15],[76,18,49,16,"store"],[76,23,49,21],[76,24,49,22],[76,25,49,23,"then"],[76,29,49,27],[76,30,49,28,"keys"],[76,34,49,32],[76,38,49,36],[77,8,50,6],[77,12,50,10,"keys"],[77,16,50,14],[77,17,50,15,"length"],[77,23,50,21],[77,27,50,25,"maxQueueSize"],[77,39,50,37],[77,41,50,39],[78,10,51,8],[79,8,52,6],[81,8,54,6],[82,8,55,6,"store"],[82,13,55,11],[82,14,55,12,"put"],[82,17,55,15],[82,18,55,16,"value"],[82,23,55,21],[82,25,55,23,"Math"],[82,29,55,27],[82,30,55,28,"max"],[82,33,55,31],[82,34,55,32],[82,37,55,35,"keys"],[82,41,55,39],[82,43,55,41],[82,44,55,42],[82,45,55,43],[82,48,55,46],[82,49,55,47],[82,50,55,48],[83,8,56,6],[83,15,56,13,"promisifyRequest"],[83,31,56,29],[83,32,56,30,"store"],[83,37,56,35],[83,38,56,36,"transaction"],[83,49,56,47],[83,50,56,48],[84,6,57,4],[84,7,57,5],[84,8,57,6],[85,4,58,2],[85,5,58,3],[85,6,58,4],[86,2,59,0],[88,2,61,0],[89,2,62,0],[89,11,62,9,"pop"],[89,14,62,12,"pop"],[89,15,62,13,"store"],[89,20,62,18],[89,22,62,20],[90,4,63,2],[90,11,63,9,"store"],[90,16,63,14],[90,17,63,15,"store"],[90,22,63,20],[90,26,63,24],[91,6,64,4],[91,13,64,11,"keys"],[91,17,64,15],[91,18,64,16,"store"],[91,23,64,21],[91,24,64,22],[91,25,64,23,"then"],[91,29,64,27],[91,30,64,28,"keys"],[91,34,64,32],[91,38,64,36],[92,8,65,6],[92,12,65,10,"keys"],[92,16,65,14],[92,17,65,15,"length"],[92,23,65,21],[92,28,65,26],[92,29,65,27],[92,31,65,29],[93,10,66,8],[93,17,66,15,"undefined"],[93,26,66,24],[94,8,67,6],[95,8,69,6],[95,15,69,13,"promisifyRequest"],[95,31,69,29],[95,32,69,30,"store"],[95,37,69,35],[95,38,69,36,"get"],[95,41,69,39],[95,42,69,40,"keys"],[95,46,69,44],[95,47,69,45],[95,48,69,46],[95,49,69,47],[95,50,69,48],[95,51,69,49],[95,52,69,50,"then"],[95,56,69,54],[95,57,69,55,"value"],[95,62,69,60],[95,66,69,64],[96,10,70,8,"store"],[96,15,70,13],[96,16,70,14,"delete"],[96,22,70,20],[96,23,70,21,"keys"],[96,27,70,25],[96,28,70,26],[96,29,70,27],[96,30,70,28],[96,31,70,29],[97,10,71,8],[97,17,71,15,"promisifyRequest"],[97,33,71,31],[97,34,71,32,"store"],[97,39,71,37],[97,40,71,38,"transaction"],[97,51,71,49],[97,52,71,50],[97,53,71,51,"then"],[97,57,71,55],[97,58,71,56],[97,64,71,62,"value"],[97,69,71,67],[97,70,71,68],[98,8,72,6],[98,9,72,7],[98,10,72,8],[99,6,73,4],[99,7,73,5],[99,8,73,6],[100,4,74,2],[100,5,74,3],[100,6,74,4],[101,2,75,0],[102,2,77,0],[102,11,77,9,"createIndexedDbStore"],[102,31,77,29,"createIndexedDbStore"],[102,32,77,30,"options"],[102,39,77,37],[102,41,77,39],[103,4,78,2],[103,8,78,6,"store"],[103,13,78,11],[105,4,80,2],[106,4,81,2],[106,13,81,11,"getStore"],[106,21,81,19,"getStore"],[106,22,81,19],[106,24,81,22],[107,6,82,4],[107,10,82,8,"store"],[107,15,82,13],[107,19,82,17,"undefined"],[107,28,82,26],[107,30,82,28],[108,8,83,6,"store"],[108,13,83,11],[108,16,83,14,"createStore"],[108,27,83,25],[108,28,83,26,"options"],[108,35,83,33],[108,36,83,34,"dbName"],[108,42,83,40],[108,46,83,44],[108,62,83,60],[108,64,83,62,"options"],[108,71,83,69],[108,72,83,70,"storeName"],[108,81,83,79],[108,85,83,83],[108,92,83,90],[108,93,83,91],[109,6,84,4],[110,6,86,4],[110,13,86,11,"store"],[110,18,86,16],[111,4,87,2],[112,4,89,2],[112,11,89,9],[113,6,90,4,"insert"],[113,12,90,10],[113,14,90,12],[113,20,90,19,"env"],[113,23,90,22],[113,27,90,27],[114,8,91,6],[114,12,91,10],[115,10,92,8],[115,16,92,14,"serialized"],[115,26,92,24],[115,29,92,27],[115,35,92,33],[115,39,92,33,"serializeEnvelope"],[115,51,92,50],[115,52,92,50,"serializeEnvelope"],[115,69,92,50],[115,71,92,51,"env"],[115,74,92,54],[115,76,92,56,"options"],[115,83,92,63],[115,84,92,64,"textEncoder"],[115,95,92,75],[115,96,92,76],[116,10,93,8],[116,16,93,14,"insert"],[116,22,93,20],[116,23,93,21,"getStore"],[116,31,93,29],[116,32,93,30],[116,33,93,31],[116,35,93,33,"serialized"],[116,45,93,43],[116,47,93,45,"options"],[116,54,93,52],[116,55,93,53,"maxQueueSize"],[116,67,93,65],[116,71,93,69],[116,73,93,71],[116,74,93,72],[117,8,94,6],[117,9,94,7],[117,10,94,8],[117,17,94,15,"_"],[117,18,94,16],[117,20,94,18],[118,10,95,8],[119,8,95,8],[120,6,97,4],[120,7,97,5],[121,6,98,4,"pop"],[121,9,98,7],[121,11,98,9],[121,17,98,9,"pop"],[121,18,98,9],[121,23,98,21],[122,8,99,6],[122,12,99,10],[123,10,100,8],[123,16,100,14,"deserialized"],[123,28,100,26],[123,31,100,29],[123,37,100,35,"pop"],[123,40,100,38],[123,41,100,39,"getStore"],[123,49,100,47],[123,50,100,48],[123,51,100,49],[123,52,100,50],[124,10,101,8],[124,14,101,12,"deserialized"],[124,26,101,24],[124,28,101,26],[125,12,102,10],[125,19,102,17],[125,23,102,17,"parseEnvelope"],[125,35,102,30],[125,36,102,30,"parseEnvelope"],[125,49,102,30],[125,51,103,12,"deserialized"],[125,63,103,24],[125,65,104,12,"options"],[125,72,104,19],[125,73,104,20,"textEncoder"],[125,84,104,31],[125,88,104,35],[125,92,104,39,"TextEncoder"],[125,103,104,50],[125,104,104,51],[125,105,104,52],[125,107,105,12,"options"],[125,114,105,19],[125,115,105,20,"textDecoder"],[125,126,105,31],[125,130,105,35],[125,134,105,39,"TextDecoder"],[125,145,105,50],[125,146,105,51],[125,147,106,10],[125,148,106,11],[126,10,107,8],[127,8,108,6],[127,9,108,7],[127,10,108,8],[127,17,108,15,"_"],[127,18,108,16],[127,20,108,18],[128,10,109,8],[129,8,109,8],[130,8,112,6],[130,15,112,13,"undefined"],[130,24,112,22],[131,6,113,4],[132,4,114,2],[132,5,114,3],[133,2,115,0],[134,2,117,0],[134,11,117,9,"makeIndexedDbOfflineTransport"],[134,40,117,38,"makeIndexedDbOfflineTransport"],[134,41,118,2,"createTransport"],[134,56,118,17],[134,58,119,2],[135,4,120,2],[135,11,120,9,"options"],[135,18,120,16],[135,22,120,20,"createTransport"],[135,37,120,35],[135,38,120,36],[136,6,120,38],[136,9,120,41,"options"],[136,16,120,48],[137,6,120,50,"createStore"],[137,17,120,61],[137,19,120,63,"createIndexedDbStore"],[138,4,120,84],[138,5,120,85],[138,6,120,86],[139,2,121,0],[141,2,123,0],[142,0,124,0],[143,0,125,0],[144,2,126,0],[144,11,126,9,"makeBrowserOfflineTransport"],[144,38,126,36,"makeBrowserOfflineTransport"],[144,39,127,2,"createTransport"],[144,54,127,17],[144,56,128,2],[145,4,129,2],[145,11,129,9,"makeIndexedDbOfflineTransport"],[145,40,129,38],[145,41,129,39],[145,45,129,39,"makeOfflineTransport"],[145,56,129,59],[145,57,129,59,"makeOfflineTransport"],[145,77,129,59],[145,79,129,60,"createTransport"],[145,94,129,75],[145,95,129,76],[145,96,129,77],[146,2,130,0],[147,0,130,1],[147,3]],"functionMap":{"names":["<global>","promisifyRequest","Promise$argument_0","request.onsuccess","request.onerror","createStore","request.onupgradeneeded","<anonymous>","dbp.then$argument_0","keys","insert","store$argument_0","keys.then$argument_0","pop","promisifyRequest.then$argument_0","createIndexedDbStore","getStore","makeIndexedDbOfflineTransport","makeBrowserOfflineTransport"],"mappings":"AAA;ACuB;qBCC;6CCE,6BD;wCEE,2BF;GDC;CDC;AKG;4BCE,iDD;SEG,qBC,6ED,CF;CLC;ASE;CTE;AUG;eCC;4BCC;KDQ;GDC;CVC;AaG;eFC;4BCC;uDEK;OFG;KDC;GEC;CbC;AeE;ECI;GDM;YLG;KKO;SFC;KEe;CfE;AiBE;SVG,6EU;CjBC;AkBK;ClBI"},"hasCjsExports":false},"type":"js/module"}]}