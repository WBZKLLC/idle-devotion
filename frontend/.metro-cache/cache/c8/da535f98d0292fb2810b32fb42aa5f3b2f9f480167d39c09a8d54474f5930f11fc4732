{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.validateConfig = validateConfig;\n  exports.getBackendUrl = getBackendUrl;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  // /app/frontend/lib/config/validate.ts\n  // Startup config validation - catches misconfig early\n\n  /**\n   * Validate critical configuration at startup\n   * In dev: throws immediately on missing config\n   * In prod: logs error but doesn't crash\n   */\n  function validateConfig() {\n    const errors = [];\n\n    // Required: Backend URL\n    const backend = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n    if (!backend) {\n      errors.push('Missing EXPO_PUBLIC_BACKEND_URL');\n    } else if (!backend.startsWith('http://') && !backend.startsWith('https://')) {\n      errors.push('EXPO_PUBLIC_BACKEND_URL must start with http:// or https://');\n    }\n\n    // Warning: Sentry DSN (not required but recommended for prod)\n    const sentryDsn = _expoVirtualEnv.env.EXPO_PUBLIC_SENTRY_DSN;\n    if (!sentryDsn && !__DEV__) {\n      console.warn('[config] No EXPO_PUBLIC_SENTRY_DSN - crash reporting disabled in production');\n    }\n\n    // Report errors\n    if (errors.length > 0) {\n      const message = `[config] Configuration errors:\\n${errors.map(e => `  - ${e}`).join('\\n')}`;\n      if (__DEV__) {\n        // In dev, throw to make it obvious\n        throw new Error(message);\n      } else {\n        // In prod, log but don't crash - app may still partially work\n        console.error(message);\n      }\n    }\n  }\n\n  /**\n   * Get validated backend URL\n   */\n  function getBackendUrl() {\n    const url = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n    if (!url) {\n      throw new Error('EXPO_PUBLIC_BACKEND_URL is not configured');\n    }\n    return url.replace(/\\/$/, ''); // Remove trailing slash\n  }\n});","lineCount":58,"map":[[7,2,9,0,"exports"],[7,9,9,0],[7,10,9,0,"validateConfig"],[7,24,9,0],[7,27,9,0,"validateConfig"],[7,41,9,0],[8,2,43,0,"exports"],[8,9,43,0],[8,10,43,0,"getBackendUrl"],[8,23,43,0],[8,26,43,0,"getBackendUrl"],[8,39,43,0],[9,2,49,1],[9,6,49,1,"_expoVirtualEnv"],[9,21,49,1],[9,24,49,1,"require"],[9,31,49,1],[9,32,49,1,"_dependencyMap"],[9,46,49,1],[10,2,1,0],[11,2,2,0],[13,2,4,0],[14,0,5,0],[15,0,6,0],[16,0,7,0],[17,0,8,0],[18,2,9,7],[18,11,9,16,"validateConfig"],[18,25,9,30,"validateConfig"],[18,26,9,30],[18,28,9,39],[19,4,10,2],[19,10,10,8,"errors"],[19,16,10,24],[19,19,10,27],[19,21,10,29],[21,4,12,2],[22,4,13,2],[22,10,13,8,"backend"],[22,17,13,15],[22,20,13,15,"_expoVirtualEnv"],[22,35,13,15],[22,36,13,15,"env"],[22,39,13,15],[22,40,13,15,"EXPO_PUBLIC_BACKEND_URL"],[22,63,13,53],[23,4,14,2],[23,8,14,6],[23,9,14,7,"backend"],[23,16,14,14],[23,18,14,16],[24,6,15,4,"errors"],[24,12,15,10],[24,13,15,11,"push"],[24,17,15,15],[24,18,15,16],[24,51,15,49],[24,52,15,50],[25,4,16,2],[25,5,16,3],[25,11,16,9],[25,15,16,13],[25,16,16,14,"backend"],[25,23,16,21],[25,24,16,22,"startsWith"],[25,34,16,32],[25,35,16,33],[25,44,16,42],[25,45,16,43],[25,49,16,47],[25,50,16,48,"backend"],[25,57,16,55],[25,58,16,56,"startsWith"],[25,68,16,66],[25,69,16,67],[25,79,16,77],[25,80,16,78],[25,82,16,80],[26,6,17,4,"errors"],[26,12,17,10],[26,13,17,11,"push"],[26,17,17,15],[26,18,17,16],[26,79,17,77],[26,80,17,78],[27,4,18,2],[29,4,20,2],[30,4,21,2],[30,10,21,8,"sentryDsn"],[30,19,21,17],[30,22,21,17,"_expoVirtualEnv"],[30,37,21,17],[30,38,21,17,"env"],[30,41,21,17],[30,42,21,17,"EXPO_PUBLIC_SENTRY_DSN"],[30,64,21,54],[31,4,22,2],[31,8,22,6],[31,9,22,7,"sentryDsn"],[31,18,22,16],[31,22,22,20],[31,23,22,21,"__DEV__"],[31,30,22,28],[31,32,22,30],[32,6,23,4,"console"],[32,13,23,11],[32,14,23,12,"warn"],[32,18,23,16],[32,19,23,17],[32,96,23,94],[32,97,23,95],[33,4,24,2],[35,4,26,2],[36,4,27,2],[36,8,27,6,"errors"],[36,14,27,12],[36,15,27,13,"length"],[36,21,27,19],[36,24,27,22],[36,25,27,23],[36,27,27,25],[37,6,28,4],[37,12,28,10,"message"],[37,19,28,17],[37,22,28,20],[37,57,28,55,"errors"],[37,63,28,61],[37,64,28,62,"map"],[37,67,28,65],[37,68,28,66,"e"],[37,69,28,67],[37,73,28,71],[37,80,28,78,"e"],[37,81,28,79],[37,83,28,81],[37,84,28,82],[37,85,28,83,"join"],[37,89,28,87],[37,90,28,88],[37,94,28,92],[37,95,28,93],[37,97,28,95],[38,6,30,4],[38,10,30,8,"__DEV__"],[38,17,30,15],[38,19,30,17],[39,8,31,6],[40,8,32,6],[40,14,32,12],[40,18,32,16,"Error"],[40,23,32,21],[40,24,32,22,"message"],[40,31,32,29],[40,32,32,30],[41,6,33,4],[41,7,33,5],[41,13,33,11],[42,8,34,6],[43,8,35,6,"console"],[43,15,35,13],[43,16,35,14,"error"],[43,21,35,19],[43,22,35,20,"message"],[43,29,35,27],[43,30,35,28],[44,6,36,4],[45,4,37,2],[46,2,38,0],[48,2,40,0],[49,0,41,0],[50,0,42,0],[51,2,43,7],[51,11,43,16,"getBackendUrl"],[51,24,43,29,"getBackendUrl"],[51,25,43,29],[51,27,43,40],[52,4,44,2],[52,10,44,8,"url"],[52,13,44,11],[52,16,44,11,"_expoVirtualEnv"],[52,31,44,11],[52,32,44,11,"env"],[52,35,44,11],[52,36,44,11,"EXPO_PUBLIC_BACKEND_URL"],[52,59,44,49],[53,4,45,2],[53,8,45,6],[53,9,45,7,"url"],[53,12,45,10],[53,14,45,12],[54,6,46,4],[54,12,46,10],[54,16,46,14,"Error"],[54,21,46,19],[54,22,46,20],[54,65,46,63],[54,66,46,64],[55,4,47,2],[56,4,48,2],[56,11,48,9,"url"],[56,14,48,12],[56,15,48,13,"replace"],[56,22,48,20],[56,23,48,21],[56,28,48,26],[56,30,48,28],[56,32,48,30],[56,33,48,31],[56,34,48,32],[56,35,48,33],[57,2,49,0],[58,0,49,1],[58,3]],"functionMap":{"names":["<global>","validateConfig","errors.map$argument_0","getBackendUrl"],"mappings":"AAA;OCQ;kECmB,eD;CDU;OGK;CHM"},"hasCjsExports":false},"type":"js/module"}]}