{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fnQVLibs90KHiJ7y48fLgPWzDS0=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"sentry-expo","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":38,"index":137}}],"key":"8jZ+9juMgPkweH8RbH2WP5M52vQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _excluded = [\"Authorization\", \"authorization\"]; // /app/frontend/lib/telemetry/sentry.ts\n  // Crash reporting with Sentry - sanitized, no PII/tokens\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.initSentry = initSentry;\n  exports.sentrySetUser = sentrySetUser;\n  exports.sentryCapture = sentryCapture;\n  var _babelRuntimeHelpersObjectWithoutProperties = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutProperties\");\n  var _objectWithoutProperties = _interopDefault(_babelRuntimeHelpersObjectWithoutProperties);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _sentryExpo = require(_dependencyMap[2], \"sentry-expo\");\n  var Sentry = _interopNamespace(_sentryExpo);\n  var DSN = _expoVirtualEnv.env.EXPO_PUBLIC_SENTRY_DSN;\n  function initSentry() {\n    if (!DSN) {\n      if (__DEV__) console.log('[Sentry] No DSN configured, skipping initialization');\n      return;\n    }\n    Sentry.init({\n      dsn: DSN,\n      enableInExpoDevelopment: false,\n      debug: __DEV__,\n      environment: _expoVirtualEnv.env.EXPO_PUBLIC_APP_ENV || (__DEV__ ? 'development' : 'production'),\n      // Sanitize sensitive data\n      beforeSend(event) {\n        // Remove any Authorization headers from breadcrumbs\n        if (event.breadcrumbs) {\n          event.breadcrumbs = event.breadcrumbs.map(bc => {\n            if (bc.data?.headers) {\n              var _bc$data$headers = bc.data.headers,\n                Authorization = _bc$data$headers.Authorization,\n                authorization = _bc$data$headers.authorization,\n                safeHeaders = (0, _objectWithoutProperties.default)(_bc$data$headers, _excluded);\n              bc.data.headers = safeHeaders;\n            }\n            return bc;\n          });\n        }\n        return event;\n      }\n      // Keep defaults conservative; add traces later if needed\n    });\n    if (__DEV__) console.log('[Sentry] Initialized');\n  }\n\n  // Attach user context once known (only username, no tokens)\n  function sentrySetUser(user) {\n    if (!DSN) return;\n    if (!user?.username) {\n      Sentry.Native.setUser(null);\n      return;\n    }\n    Sentry.Native.setUser({\n      id: user.username\n    });\n  }\n\n  // Manual error capture for non-crash errors\n  function sentryCapture(error, context) {\n    if (!DSN) return;\n    try {\n      Sentry.Native.captureException(error, {\n        extra: context\n      });\n    } catch {}\n  }\n});","lineCount":91,"map":[[4,54,1,0],[5,2,2,0],[6,2,2,0,"Object"],[6,8,2,0],[6,9,2,0,"defineProperty"],[6,23,2,0],[6,24,2,0,"exports"],[6,31,2,0],[7,4,2,0,"value"],[7,9,2,0],[8,2,2,0],[9,2,2,0],[9,11,2,0,"_interopDefault"],[9,27,2,0,"e"],[9,28,2,0],[10,4,2,0],[10,11,2,0,"e"],[10,12,2,0],[10,16,2,0,"e"],[10,17,2,0],[10,18,2,0,"__esModule"],[10,28,2,0],[10,31,2,0,"e"],[10,32,2,0],[11,6,2,0,"default"],[11,13,2,0],[11,15,2,0,"e"],[12,4,2,0],[13,2,2,0],[14,2,2,0],[14,11,2,0,"_interopNamespace"],[14,29,2,0,"e"],[14,30,2,0],[15,4,2,0],[15,8,2,0,"e"],[15,9,2,0],[15,13,2,0,"e"],[15,14,2,0],[15,15,2,0,"__esModule"],[15,25,2,0],[15,34,2,0,"e"],[15,35,2,0],[16,4,2,0],[16,8,2,0,"n"],[16,9,2,0],[17,4,2,0],[17,8,2,0,"e"],[17,9,2,0],[17,11,2,0,"Object"],[17,17,2,0],[17,18,2,0,"keys"],[17,22,2,0],[17,23,2,0,"e"],[17,24,2,0],[17,26,2,0,"forEach"],[17,33,2,0],[17,44,2,0,"k"],[17,45,2,0],[18,6,2,0],[18,10,2,0,"d"],[18,11,2,0],[18,14,2,0,"Object"],[18,20,2,0],[18,21,2,0,"getOwnPropertyDescriptor"],[18,45,2,0],[18,46,2,0,"e"],[18,47,2,0],[18,49,2,0,"k"],[18,50,2,0],[19,6,2,0,"Object"],[19,12,2,0],[19,13,2,0,"defineProperty"],[19,27,2,0],[19,28,2,0,"n"],[19,29,2,0],[19,31,2,0,"k"],[19,32,2,0],[19,34,2,0,"d"],[19,35,2,0],[19,36,2,0,"get"],[19,39,2,0],[19,42,2,0,"d"],[19,43,2,0],[20,8,2,0,"enumerable"],[20,18,2,0],[21,8,2,0,"get"],[21,11,2,0],[21,22,2,0,"get"],[21,23,2,0],[22,10,2,0],[22,17,2,0,"e"],[22,18,2,0],[22,19,2,0,"k"],[22,20,2,0],[23,8,2,0],[24,6,2,0],[25,4,2,0],[26,4,2,0,"n"],[26,5,2,0],[26,6,2,0,"default"],[26,13,2,0],[26,16,2,0,"e"],[26,17,2,0],[27,4,2,0],[27,11,2,0,"n"],[27,12,2,0],[28,2,2,0],[29,2,7,0,"exports"],[29,9,7,0],[29,10,7,0,"initSentry"],[29,20,7,0],[29,23,7,0,"initSentry"],[29,33,7,0],[30,2,39,0,"exports"],[30,9,39,0],[30,10,39,0,"sentrySetUser"],[30,23,39,0],[30,26,39,0,"sentrySetUser"],[30,39,39,0],[31,2,51,0,"exports"],[31,9,51,0],[31,10,51,0,"sentryCapture"],[31,23,51,0],[31,26,51,0,"sentryCapture"],[31,39,51,0],[32,2,57,1],[32,6,57,1,"_babelRuntimeHelpersObjectWithoutProperties"],[32,49,57,1],[32,52,57,1,"require"],[32,59,57,1],[32,60,57,1,"_dependencyMap"],[32,74,57,1],[33,2,57,1],[33,6,57,1,"_objectWithoutProperties"],[33,30,57,1],[33,33,57,1,"_interopDefault"],[33,48,57,1],[33,49,57,1,"_babelRuntimeHelpersObjectWithoutProperties"],[33,92,57,1],[34,2,57,1],[34,6,57,1,"_expoVirtualEnv"],[34,21,57,1],[34,24,57,1,"require"],[34,31,57,1],[34,32,57,1,"_dependencyMap"],[34,46,57,1],[35,2,3,0],[35,6,3,0,"_sentryExpo"],[35,17,3,0],[35,20,3,0,"require"],[35,27,3,0],[35,28,3,0,"_dependencyMap"],[35,42,3,0],[36,2,3,0],[36,6,3,0,"Sentry"],[36,12,3,0],[36,15,3,0,"_interopNamespace"],[36,32,3,0],[36,33,3,0,"_sentryExpo"],[36,44,3,0],[37,2,5,0],[37,6,5,6,"DSN"],[37,9,5,9],[37,12,5,9,"_expoVirtualEnv"],[37,27,5,9],[37,28,5,9,"env"],[37,31,5,9],[37,32,5,9,"EXPO_PUBLIC_SENTRY_DSN"],[37,54,5,46],[38,2,7,7],[38,11,7,16,"initSentry"],[38,21,7,26,"initSentry"],[38,22,7,26],[38,24,7,29],[39,4,8,2],[39,8,8,6],[39,9,8,7,"DSN"],[39,12,8,10],[39,14,8,12],[40,6,9,4],[40,10,9,8,"__DEV__"],[40,17,9,15],[40,19,9,17,"console"],[40,26,9,24],[40,27,9,25,"log"],[40,30,9,28],[40,31,9,29],[40,84,9,82],[40,85,9,83],[41,6,10,4],[42,4,11,2],[43,4,13,2,"Sentry"],[43,10,13,8],[43,11,13,9,"init"],[43,15,13,13],[43,16,13,14],[44,6,14,4,"dsn"],[44,9,14,7],[44,11,14,9,"DSN"],[44,14,14,12],[45,6,15,4,"enableInExpoDevelopment"],[45,29,15,27],[45,31,15,29],[45,36,15,34],[46,6,16,4,"debug"],[46,11,16,9],[46,13,16,11,"__DEV__"],[46,20,16,18],[47,6,17,4,"environment"],[47,17,17,15],[47,19,17,17,"_expoVirtualEnv"],[47,34,17,17],[47,35,17,17,"env"],[47,38,17,17],[47,39,17,17,"EXPO_PUBLIC_APP_ENV"],[47,58,17,17],[47,63,17,53,"__DEV__"],[47,70,17,60],[47,73,17,63],[47,86,17,76],[47,89,17,79],[47,101,17,91],[47,102,17,92],[48,6,18,4],[49,6,19,4,"beforeSend"],[49,16,19,14,"beforeSend"],[49,17,19,15,"event"],[49,22,19,20],[49,24,19,22],[50,8,20,6],[51,8,21,6],[51,12,21,10,"event"],[51,17,21,15],[51,18,21,16,"breadcrumbs"],[51,29,21,27],[51,31,21,29],[52,10,22,8,"event"],[52,15,22,13],[52,16,22,14,"breadcrumbs"],[52,27,22,25],[52,30,22,28,"event"],[52,35,22,33],[52,36,22,34,"breadcrumbs"],[52,47,22,45],[52,48,22,46,"map"],[52,51,22,49],[52,52,22,50,"bc"],[52,54,22,52],[52,58,22,56],[53,12,23,10],[53,16,23,14,"bc"],[53,18,23,16],[53,19,23,17,"data"],[53,23,23,21],[53,25,23,23,"headers"],[53,32,23,30],[53,34,23,32],[54,14,24,12],[54,18,24,12,"_bc$data$headers"],[54,34,24,12],[54,37,24,69,"bc"],[54,39,24,71],[54,40,24,72,"data"],[54,44,24,76],[54,45,24,77,"headers"],[54,52,24,84],[55,16,24,20,"Authorization"],[55,29,24,33],[55,32,24,33,"_bc$data$headers"],[55,48,24,33],[55,49,24,20,"Authorization"],[55,62,24,33],[56,16,24,35,"authorization"],[56,29,24,48],[56,32,24,48,"_bc$data$headers"],[56,48,24,48],[56,49,24,35,"authorization"],[56,62,24,48],[57,16,24,53,"safeHeaders"],[57,27,24,64],[57,34,24,64,"_objectWithoutProperties"],[57,58,24,64],[57,59,24,64,"default"],[57,66,24,64],[57,68,24,64,"_bc$data$headers"],[57,84,24,64],[57,86,24,64,"_excluded"],[57,95,24,64],[58,14,25,12,"bc"],[58,16,25,14],[58,17,25,15,"data"],[58,21,25,19],[58,22,25,20,"headers"],[58,29,25,27],[58,32,25,30,"safeHeaders"],[58,43,25,41],[59,12,26,10],[60,12,27,10],[60,19,27,17,"bc"],[60,21,27,19],[61,10,28,8],[61,11,28,9],[61,12,28,10],[62,8,29,6],[63,8,30,6],[63,15,30,13,"event"],[63,20,30,18],[64,6,31,4],[65,6,32,4],[66,4,33,2],[66,5,33,3],[66,6,33,4],[67,4,35,2],[67,8,35,6,"__DEV__"],[67,15,35,13],[67,17,35,15,"console"],[67,24,35,22],[67,25,35,23,"log"],[67,28,35,26],[67,29,35,27],[67,51,35,49],[67,52,35,50],[68,2,36,0],[70,2,38,0],[71,2,39,7],[71,11,39,16,"sentrySetUser"],[71,24,39,29,"sentrySetUser"],[71,25,39,30,"user"],[71,29,39,58],[71,31,39,60],[72,4,40,2],[72,8,40,6],[72,9,40,7,"DSN"],[72,12,40,10],[72,14,40,12],[73,4,42,2],[73,8,42,6],[73,9,42,7,"user"],[73,13,42,11],[73,15,42,13,"username"],[73,23,42,21],[73,25,42,23],[74,6,43,4,"Sentry"],[74,12,43,10],[74,13,43,11,"Native"],[74,19,43,17],[74,20,43,18,"setUser"],[74,27,43,25],[74,28,43,26],[74,32,43,30],[74,33,43,31],[75,6,44,4],[76,4,45,2],[77,4,47,2,"Sentry"],[77,10,47,8],[77,11,47,9,"Native"],[77,17,47,15],[77,18,47,16,"setUser"],[77,25,47,23],[77,26,47,24],[78,6,47,26,"id"],[78,8,47,28],[78,10,47,30,"user"],[78,14,47,34],[78,15,47,35,"username"],[79,4,47,44],[79,5,47,45],[79,6,47,46],[80,2,48,0],[82,2,50,0],[83,2,51,7],[83,11,51,16,"sentryCapture"],[83,24,51,29,"sentryCapture"],[83,25,51,30,"error"],[83,30,51,42],[83,32,51,44,"context"],[83,39,51,73],[83,41,51,75],[84,4,52,2],[84,8,52,6],[84,9,52,7,"DSN"],[84,12,52,10],[84,14,52,12],[85,4,54,2],[85,8,54,6],[86,6,55,4,"Sentry"],[86,12,55,10],[86,13,55,11,"Native"],[86,19,55,17],[86,20,55,18,"captureException"],[86,36,55,34],[86,37,55,35,"error"],[86,42,55,40],[86,44,55,42],[87,8,55,44,"extra"],[87,13,55,49],[87,15,55,51,"context"],[88,6,55,59],[88,7,55,60],[88,8,55,61],[89,4,56,2],[89,5,56,3],[89,6,56,4],[89,12,56,10],[89,13,56,11],[90,2,57,0],[91,0,57,1],[91,3]],"functionMap":{"names":["<global>","initSentry","Sentry.init$argument_0.beforeSend","event.breadcrumbs.map$argument_0","sentrySetUser","sentryCapture"],"mappings":"AAA;OCM;ICY;kDCG;SDM;KDG;CDK;OIG;CJS;OKG;CLM"},"hasCjsExports":false},"type":"js/module"}]}