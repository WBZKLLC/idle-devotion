{"dependencies":[{"name":"sentry-expo","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":38,"index":137}}],"key":"8jZ+9juMgPkweH8RbH2WP5M52vQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.initSentry = initSentry;\n  exports.sentrySetUser = sentrySetUser;\n  exports.sentryCapture = sentryCapture;\n  var _sentryExpo = require(_dependencyMap[0], \"sentry-expo\");\n  var Sentry = _interopNamespace(_sentryExpo);\n  // /app/frontend/lib/telemetry/sentry.ts\n  // Crash reporting with Sentry - sanitized, no PII/tokens\n\n  const DSN = process.env.EXPO_PUBLIC_SENTRY_DSN;\n  function initSentry() {\n    if (!DSN) {\n      if (__DEV__) console.log('[Sentry] No DSN configured, skipping initialization');\n      return;\n    }\n    Sentry.init({\n      dsn: DSN,\n      enableInExpoDevelopment: false,\n      debug: __DEV__,\n      environment: process.env.EXPO_PUBLIC_APP_ENV || (__DEV__ ? 'development' : 'production'),\n      // Sanitize sensitive data\n      beforeSend(event) {\n        // Remove any Authorization headers from breadcrumbs\n        if (event.breadcrumbs) {\n          event.breadcrumbs = event.breadcrumbs.map(bc => {\n            if (bc.data?.headers) {\n              const {\n                Authorization,\n                authorization,\n                ...safeHeaders\n              } = bc.data.headers;\n              bc.data.headers = safeHeaders;\n            }\n            return bc;\n          });\n        }\n        return event;\n      }\n      // Keep defaults conservative; add traces later if needed\n    });\n    if (__DEV__) console.log('[Sentry] Initialized');\n  }\n\n  // Attach user context once known (only username, no tokens)\n  function sentrySetUser(user) {\n    if (!DSN) return;\n    if (!user?.username) {\n      Sentry.Native.setUser(null);\n      return;\n    }\n    Sentry.Native.setUser({\n      id: user.username\n    });\n  }\n\n  // Manual error capture for non-crash errors\n  function sentryCapture(error, context) {\n    if (!DSN) return;\n    try {\n      Sentry.Native.captureException(error, {\n        extra: context\n      });\n    } catch {}\n  }\n});","lineCount":85,"map":[[22,2,7,0,"exports"],[22,9,7,0],[22,10,7,0,"initSentry"],[22,20,7,0],[22,23,7,0,"initSentry"],[22,33,7,0],[23,2,39,0,"exports"],[23,9,39,0],[23,10,39,0,"sentrySetUser"],[23,23,39,0],[23,26,39,0,"sentrySetUser"],[23,39,39,0],[24,2,51,0,"exports"],[24,9,51,0],[24,10,51,0,"sentryCapture"],[24,23,51,0],[24,26,51,0,"sentryCapture"],[24,39,51,0],[25,2,3,0],[25,6,3,0,"_sentryExpo"],[25,17,3,0],[25,20,3,0,"require"],[25,27,3,0],[25,28,3,0,"_dependencyMap"],[25,42,3,0],[26,2,3,0],[26,6,3,0,"Sentry"],[26,12,3,0],[26,15,3,0,"_interopNamespace"],[26,32,3,0],[26,33,3,0,"_sentryExpo"],[26,44,3,0],[27,2,1,0],[28,2,2,0],[30,2,5,0],[30,8,5,6,"DSN"],[30,11,5,9],[30,14,5,12,"process"],[30,21,5,19],[30,22,5,20,"env"],[30,25,5,23],[30,26,5,24,"EXPO_PUBLIC_SENTRY_DSN"],[30,48,5,46],[31,2,7,7],[31,11,7,16,"initSentry"],[31,21,7,26,"initSentry"],[31,22,7,26],[31,24,7,29],[32,4,8,2],[32,8,8,6],[32,9,8,7,"DSN"],[32,12,8,10],[32,14,8,12],[33,6,9,4],[33,10,9,8,"__DEV__"],[33,17,9,15],[33,19,9,17,"console"],[33,26,9,24],[33,27,9,25,"log"],[33,30,9,28],[33,31,9,29],[33,84,9,82],[33,85,9,83],[34,6,10,4],[35,4,11,2],[36,4,13,2,"Sentry"],[36,10,13,8],[36,11,13,9,"init"],[36,15,13,13],[36,16,13,14],[37,6,14,4,"dsn"],[37,9,14,7],[37,11,14,9,"DSN"],[37,14,14,12],[38,6,15,4,"enableInExpoDevelopment"],[38,29,15,27],[38,31,15,29],[38,36,15,34],[39,6,16,4,"debug"],[39,11,16,9],[39,13,16,11,"__DEV__"],[39,20,16,18],[40,6,17,4,"environment"],[40,17,17,15],[40,19,17,17,"process"],[40,26,17,24],[40,27,17,25,"env"],[40,30,17,28],[40,31,17,29,"EXPO_PUBLIC_APP_ENV"],[40,50,17,48],[40,55,17,53,"__DEV__"],[40,62,17,60],[40,65,17,63],[40,78,17,76],[40,81,17,79],[40,93,17,91],[40,94,17,92],[41,6,18,4],[42,6,19,4,"beforeSend"],[42,16,19,14,"beforeSend"],[42,17,19,15,"event"],[42,22,19,20],[42,24,19,22],[43,8,20,6],[44,8,21,6],[44,12,21,10,"event"],[44,17,21,15],[44,18,21,16,"breadcrumbs"],[44,29,21,27],[44,31,21,29],[45,10,22,8,"event"],[45,15,22,13],[45,16,22,14,"breadcrumbs"],[45,27,22,25],[45,30,22,28,"event"],[45,35,22,33],[45,36,22,34,"breadcrumbs"],[45,47,22,45],[45,48,22,46,"map"],[45,51,22,49],[45,52,22,50,"bc"],[45,54,22,52],[45,58,22,56],[46,12,23,10],[46,16,23,14,"bc"],[46,18,23,16],[46,19,23,17,"data"],[46,23,23,21],[46,25,23,23,"headers"],[46,32,23,30],[46,34,23,32],[47,14,24,12],[47,20,24,18],[48,16,24,20,"Authorization"],[48,29,24,33],[49,16,24,35,"authorization"],[49,29,24,48],[50,16,24,50],[50,19,24,53,"safeHeaders"],[51,14,24,65],[51,15,24,66],[51,18,24,69,"bc"],[51,20,24,71],[51,21,24,72,"data"],[51,25,24,76],[51,26,24,77,"headers"],[51,33,24,84],[52,14,25,12,"bc"],[52,16,25,14],[52,17,25,15,"data"],[52,21,25,19],[52,22,25,20,"headers"],[52,29,25,27],[52,32,25,30,"safeHeaders"],[52,43,25,41],[53,12,26,10],[54,12,27,10],[54,19,27,17,"bc"],[54,21,27,19],[55,10,28,8],[55,11,28,9],[55,12,28,10],[56,8,29,6],[57,8,30,6],[57,15,30,13,"event"],[57,20,30,18],[58,6,31,4],[59,6,32,4],[60,4,33,2],[60,5,33,3],[60,6,33,4],[61,4,35,2],[61,8,35,6,"__DEV__"],[61,15,35,13],[61,17,35,15,"console"],[61,24,35,22],[61,25,35,23,"log"],[61,28,35,26],[61,29,35,27],[61,51,35,49],[61,52,35,50],[62,2,36,0],[64,2,38,0],[65,2,39,7],[65,11,39,16,"sentrySetUser"],[65,24,39,29,"sentrySetUser"],[65,25,39,30,"user"],[65,29,39,58],[65,31,39,60],[66,4,40,2],[66,8,40,6],[66,9,40,7,"DSN"],[66,12,40,10],[66,14,40,12],[67,4,42,2],[67,8,42,6],[67,9,42,7,"user"],[67,13,42,11],[67,15,42,13,"username"],[67,23,42,21],[67,25,42,23],[68,6,43,4,"Sentry"],[68,12,43,10],[68,13,43,11,"Native"],[68,19,43,17],[68,20,43,18,"setUser"],[68,27,43,25],[68,28,43,26],[68,32,43,30],[68,33,43,31],[69,6,44,4],[70,4,45,2],[71,4,47,2,"Sentry"],[71,10,47,8],[71,11,47,9,"Native"],[71,17,47,15],[71,18,47,16,"setUser"],[71,25,47,23],[71,26,47,24],[72,6,47,26,"id"],[72,8,47,28],[72,10,47,30,"user"],[72,14,47,34],[72,15,47,35,"username"],[73,4,47,44],[73,5,47,45],[73,6,47,46],[74,2,48,0],[76,2,50,0],[77,2,51,7],[77,11,51,16,"sentryCapture"],[77,24,51,29,"sentryCapture"],[77,25,51,30,"error"],[77,30,51,42],[77,32,51,44,"context"],[77,39,51,73],[77,41,51,75],[78,4,52,2],[78,8,52,6],[78,9,52,7,"DSN"],[78,12,52,10],[78,14,52,12],[79,4,54,2],[79,8,54,6],[80,6,55,4,"Sentry"],[80,12,55,10],[80,13,55,11,"Native"],[80,19,55,17],[80,20,55,18,"captureException"],[80,36,55,34],[80,37,55,35,"error"],[80,42,55,40],[80,44,55,42],[81,8,55,44,"extra"],[81,13,55,49],[81,15,55,51,"context"],[82,6,55,59],[82,7,55,60],[82,8,55,61],[83,4,56,2],[83,5,56,3],[83,6,56,4],[83,12,56,10],[83,13,56,11],[84,2,57,0],[85,0,57,1],[85,3]],"functionMap":{"names":["<global>","initSentry","Sentry.init$argument_0.beforeSend","event.breadcrumbs.map$argument_0","sentrySetUser","sentryCapture"],"mappings":"AAA;OCM;ICY;kDCG;SDM;KDG;CDK;OIG;CJS;OKG;CLM"},"hasCjsExports":false},"type":"js/module"}]}