{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":13,"index":77},"end":{"line":3,"column":36,"index":100}}],"key":"CPmndeSLDuCg/s3oFguorTUVcN0=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":14,"index":116},"end":{"line":4,"column":38,"index":140}}],"key":"ud8OE6Lg8Q81+bS6ynZj2uyMPdA=","exportNames":["*"],"imports":1}},{"name":"./utils/node-utils.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":18,"index":160},"end":{"line":5,"column":50,"index":192}}],"key":"nAIWt1BOOZ86MvoHpjeMwr97UUM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _classCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\").default;\n  var _createClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\").default;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var core = require(_dependencyMap[2], \"@sentry/core\");\n  var utils = require(_dependencyMap[3], \"@sentry/utils\");\n  var nodeUtils = require(_dependencyMap[4], \"./utils/node-utils.js\");\n  function isValidPrismaClient(possibleClient) {\n    return !!possibleClient && !!possibleClient['$use'];\n  }\n\n  /** Tracing integration for @prisma/client package */\n  var Prisma = /*#__PURE__*/function () {\n    \"use strict\";\n\n    /**\n     * @inheritDoc\n     */\n\n    /**\n     * @inheritDoc\n     */\n    function Prisma() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _classCallCheck(this, Prisma);\n      this.name = Prisma.id;\n\n      // We instrument the PrismaClient inside the constructor and not inside `setupOnce` because in some cases of server-side\n      // bundling (Next.js) multiple Prisma clients can be instantiated, even though users don't intend to. When instrumenting\n      // in setupOnce we can only ever instrument one client.\n      // https://github.com/getsentry/sentry-javascript/issues/7216#issuecomment-1602375012\n      // In the future we might explore providing a dedicated PrismaClient middleware instead of this hack.\n      if (isValidPrismaClient(options.client) && !options.client._sentryInstrumented) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        utils.addNonEnumerableProperty(options.client, '_sentryInstrumented', true);\n        var clientData = {};\n        try {\n          var engineConfig = options.client._engineConfig;\n          if (engineConfig) {\n            var activeProvider = engineConfig.activeProvider,\n              clientVersion = engineConfig.clientVersion;\n            if (activeProvider) {\n              clientData['db.system'] = activeProvider;\n            }\n            if (clientVersion) {\n              clientData['db.prisma.version'] = clientVersion;\n            }\n          }\n        } catch (e) {\n          // ignore\n        }\n        options.client.$use((params, next) => {\n          if (nodeUtils.shouldDisableAutoInstrumentation(core.getCurrentHub)) {\n            return next(params);\n          }\n          var action = params.action;\n          var model = params.model;\n          return core.trace({\n            name: model ? `${model} ${action}` : action,\n            op: 'db.prisma',\n            origin: 'auto.db.prisma',\n            data: {\n              ...clientData,\n              'db.operation': action\n            }\n          }, () => next(params));\n        });\n      } else {\n        (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && utils.logger.warn('Unsupported Prisma client provided to PrismaIntegration. Provided client:', options.client);\n      }\n    }\n\n    /**\n     * @inheritDoc\n     */\n    return _createClass(Prisma, [{\n      key: \"setupOnce\",\n      value: function setupOnce() {\n        // Noop - here for backwards compatibility\n      }\n    }], [{\n      key: \"__initStatic\",\n      value:\n      /**\n       * @inheritDoc\n       */\n      function __initStatic() {\n        this.id = 'Prisma';\n      }\n    }]);\n  }();\n  Prisma.__initStatic();\n  exports.Prisma = Prisma;\n});","lineCount":96,"map":[[4,2,1,0,"Object"],[4,8,1,6],[4,9,1,7,"defineProperty"],[4,23,1,21],[4,24,1,22,"exports"],[4,31,1,29],[4,33,1,31],[4,45,1,43],[4,47,1,45],[5,4,1,47,"value"],[5,9,1,52],[5,11,1,54],[6,2,1,59],[6,3,1,60],[6,4,1,61],[7,2,3,0],[7,6,3,6,"core"],[7,10,3,10],[7,13,3,13,"require"],[7,20,3,20],[7,21,3,20,"_dependencyMap"],[7,35,3,20],[7,54,3,35],[7,55,3,36],[8,2,4,0],[8,6,4,6,"utils"],[8,11,4,11],[8,14,4,14,"require"],[8,21,4,21],[8,22,4,21,"_dependencyMap"],[8,36,4,21],[8,56,4,37],[8,57,4,38],[9,2,5,0],[9,6,5,6,"nodeUtils"],[9,15,5,15],[9,18,5,18,"require"],[9,25,5,25],[9,26,5,25,"_dependencyMap"],[9,40,5,25],[9,68,5,49],[9,69,5,50],[10,2,7,0],[10,11,7,9,"isValidPrismaClient"],[10,30,7,28,"isValidPrismaClient"],[10,31,7,29,"possibleClient"],[10,45,7,43],[10,47,7,45],[11,4,8,2],[11,11,8,9],[11,12,8,10],[11,13,8,11,"possibleClient"],[11,27,8,25],[11,31,8,29],[11,32,8,30],[11,33,8,32,"possibleClient"],[11,47,8,46],[11,48,8,49],[11,54,8,55],[11,55,8,56],[12,2,9,0],[14,2,11,0],[15,2,11,0],[15,6,12,6,"Prisma"],[15,12,12,12],[16,4,12,12],[18,4,18,2],[19,0,19,0],[20,0,20,0],[22,4,22,2],[23,0,23,0],[24,0,24,0],[25,4,25,3],[25,13,25,3,"Prisma"],[25,20,25,3],[25,22,25,29],[26,6,25,29],[26,10,25,15,"options"],[26,17,25,22],[26,20,25,22,"arguments"],[26,29,25,22],[26,30,25,22,"length"],[26,36,25,22],[26,44,25,22,"arguments"],[26,53,25,22],[26,61,25,22,"undefined"],[26,70,25,22],[26,73,25,22,"arguments"],[26,82,25,22],[26,88,25,25],[26,89,25,26],[26,90,25,27],[27,6,25,27,"_classCallCheck"],[27,21,25,27],[27,28,25,27,"Prisma"],[27,34,25,27],[28,6,26,4],[28,10,26,8],[28,11,26,9,"name"],[28,15,26,13],[28,18,26,16,"Prisma"],[28,24,26,22],[28,25,26,23,"id"],[28,27,26,25],[30,6,28,4],[31,6,29,4],[32,6,30,4],[33,6,31,4],[34,6,32,4],[35,6,33,4],[35,10,33,8,"isValidPrismaClient"],[35,29,33,27],[35,30,33,28,"options"],[35,37,33,35],[35,38,33,36,"client"],[35,44,33,42],[35,45,33,43],[35,49,33,47],[35,50,33,48,"options"],[35,57,33,55],[35,58,33,56,"client"],[35,64,33,62],[35,65,33,63,"_sentryInstrumented"],[35,84,33,82],[35,86,33,84],[36,8,34,6],[37,8,35,6,"utils"],[37,13,35,11],[37,14,35,12,"addNonEnumerableProperty"],[37,38,35,36],[37,39,35,37,"options"],[37,46,35,44],[37,47,35,45,"client"],[37,53,35,51],[37,55,35,54],[37,76,35,75],[37,78,35,77],[37,82,35,81],[37,83,35,82],[38,8,37,6],[38,12,37,12,"clientData"],[38,22,37,22],[38,25,37,25],[38,26,37,26],[38,27,37,27],[39,8,38,6],[39,12,38,10],[40,10,39,8],[40,14,39,14,"engineConfig"],[40,26,39,26],[40,29,39,30,"options"],[40,36,39,37],[40,37,39,38,"client"],[40,43,39,44],[40,44,39,47,"_engineConfig"],[40,57,39,60],[41,10,40,8],[41,14,40,12,"engineConfig"],[41,26,40,24],[41,28,40,26],[42,12,41,10],[42,16,41,18,"activeProvider"],[42,30,41,32],[42,33,41,52,"engineConfig"],[42,45,41,64],[42,46,41,18,"activeProvider"],[42,60,41,32],[43,14,41,34,"clientVersion"],[43,27,41,47],[43,30,41,52,"engineConfig"],[43,42,41,64],[43,43,41,34,"clientVersion"],[43,56,41,47],[44,12,42,10],[44,16,42,14,"activeProvider"],[44,30,42,28],[44,32,42,30],[45,14,43,12,"clientData"],[45,24,43,22],[45,25,43,23],[45,36,43,34],[45,37,43,35],[45,40,43,38,"activeProvider"],[45,54,43,52],[46,12,44,10],[47,12,45,10],[47,16,45,14,"clientVersion"],[47,29,45,27],[47,31,45,29],[48,14,46,12,"clientData"],[48,24,46,22],[48,25,46,23],[48,44,46,42],[48,45,46,43],[48,48,46,46,"clientVersion"],[48,61,46,59],[49,12,47,10],[50,10,48,8],[51,8,49,6],[51,9,49,7],[51,10,49,8],[51,17,49,15,"e"],[51,18,49,16],[51,20,49,18],[52,10,50,8],[53,8,50,8],[54,8,53,6,"options"],[54,15,53,13],[54,16,53,14,"client"],[54,22,53,20],[54,23,53,21,"$use"],[54,27,53,25],[54,28,53,26],[54,29,53,27,"params"],[54,35,53,33],[54,37,53,35,"next"],[54,41,53,39],[54,46,53,44],[55,10,54,8],[55,14,54,12,"nodeUtils"],[55,23,54,21],[55,24,54,22,"shouldDisableAutoInstrumentation"],[55,56,54,54],[55,57,54,55,"core"],[55,61,54,59],[55,62,54,60,"getCurrentHub"],[55,75,54,73],[55,76,54,74],[55,78,54,76],[56,12,55,10],[56,19,55,17,"next"],[56,23,55,21],[56,24,55,22,"params"],[56,30,55,28],[56,31,55,29],[57,10,56,8],[58,10,58,8],[58,14,58,14,"action"],[58,20,58,20],[58,23,58,23,"params"],[58,29,58,29],[58,30,58,30,"action"],[58,36,58,36],[59,10,59,8],[59,14,59,14,"model"],[59,19,59,19],[59,22,59,22,"params"],[59,28,59,28],[59,29,59,29,"model"],[59,34,59,34],[60,10,61,8],[60,17,61,15,"core"],[60,21,61,19],[60,22,61,20,"trace"],[60,27,61,25],[60,28,62,10],[61,12,63,12,"name"],[61,16,63,16],[61,18,63,18,"model"],[61,23,63,23],[61,26,63,26],[61,29,63,29,"model"],[61,34,63,34],[61,38,63,38,"action"],[61,44,63,44],[61,46,63,46],[61,49,63,49,"action"],[61,55,63,55],[62,12,64,12,"op"],[62,14,64,14],[62,16,64,16],[62,27,64,27],[63,12,65,12,"origin"],[63,18,65,18],[63,20,65,20],[63,36,65,36],[64,12,66,12,"data"],[64,16,66,16],[64,18,66,18],[65,14,66,20],[65,17,66,23,"clientData"],[65,27,66,33],[66,14,66,35],[66,28,66,49],[66,30,66,51,"action"],[67,12,66,58],[68,10,67,10],[68,11,67,11],[68,13,68,10],[68,19,68,16,"next"],[68,23,68,20],[68,24,68,21,"params"],[68,30,68,27],[68,31,69,8],[68,32,69,9],[69,8,70,6],[69,9,70,7],[69,10,70,8],[70,6,71,4],[70,7,71,5],[70,13,71,11],[71,8,72,6],[71,9,72,7],[71,16,72,14,"__SENTRY_DEBUG__"],[71,32,72,30],[71,37,72,35],[71,48,72,46],[71,52,72,50,"__SENTRY_DEBUG__"],[71,68,72,66],[71,73,73,8,"utils"],[71,78,73,13],[71,79,73,14,"logger"],[71,85,73,20],[71,86,73,21,"warn"],[71,90,73,25],[71,91,73,26],[71,166,73,101],[71,168,73,103,"options"],[71,175,73,110],[71,176,73,111,"client"],[71,182,73,117],[71,183,73,118],[72,6,74,4],[73,4,75,2],[75,4,77,2],[76,0,78,0],[77,0,79,0],[78,4,77,2],[78,11,77,2,"_createClass"],[78,23,77,2],[78,24,77,2,"Prisma"],[78,30,77,2],[79,6,77,2,"key"],[79,9,77,2],[80,6,77,2,"value"],[80,11,77,2],[80,13,80,3],[80,22,80,3,"setupOnce"],[80,31,80,12,"setupOnce"],[80,32,80,12],[80,34,80,15],[81,8,81,4],[82,6,81,4],[83,4,82,3],[84,6,82,3,"key"],[84,9,82,3],[85,6,82,3,"value"],[85,11,82,3],[86,6,13,2],[87,0,14,0],[88,0,15,0],[89,6,16,3],[89,15,16,10,"__initStatic"],[89,27,16,22,"__initStatic"],[89,28,16,22],[89,30,16,25],[90,8,16,26],[90,12,16,30],[90,13,16,31,"id"],[90,15,16,33],[90,18,16,36],[90,26,16,44],[91,6,16,45],[92,4,16,46],[93,2,16,46],[94,2,83,2,"Prisma"],[94,8,83,8],[94,9,83,9,"__initStatic"],[94,21,83,21],[94,22,83,22],[94,23,83,23],[95,2,85,0,"exports"],[95,9,85,7],[95,10,85,8,"Prisma"],[95,16,85,14],[95,19,85,17,"Prisma"],[95,25,85,23],[96,0,85,24],[96,3]],"functionMap":{"names":["<global>","isValidPrismaClient","Prisma","Prisma.__initStatic","Prisma#constructor","options.client.$use$argument_0","core.trace$argument_1","Prisma#setupOnce"],"mappings":"AAA;ACM;CDE;AEG;GCI,2CD;GES;0BC4B;UCe,kBD;ODE;GFK;GKK;GLE;CFC"},"hasCjsExports":true},"type":"js/module"}]}