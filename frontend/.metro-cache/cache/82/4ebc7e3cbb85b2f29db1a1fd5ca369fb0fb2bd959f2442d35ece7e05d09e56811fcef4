{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"sentry-expo","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":38,"index":137}}],"key":"8jZ+9juMgPkweH8RbH2WP5M52vQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.initSentry = initSentry;\n  exports.sentrySetUser = sentrySetUser;\n  exports.sentryCapture = sentryCapture;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _sentryExpo = require(_dependencyMap[1], \"sentry-expo\");\n  var Sentry = _interopNamespace(_sentryExpo);\n  // /app/frontend/lib/telemetry/sentry.ts\n  // Crash reporting with Sentry - sanitized, no PII/tokens\n\n  const DSN = _expoVirtualEnv.env.EXPO_PUBLIC_SENTRY_DSN;\n  function initSentry() {\n    if (!DSN) {\n      if (__DEV__) console.log('[Sentry] No DSN configured, skipping initialization');\n      return;\n    }\n    Sentry.init({\n      dsn: DSN,\n      enableInExpoDevelopment: false,\n      debug: __DEV__,\n      environment: _expoVirtualEnv.env.EXPO_PUBLIC_APP_ENV || (__DEV__ ? 'development' : 'production'),\n      // Sanitize sensitive data\n      beforeSend(event) {\n        // Remove any Authorization headers from breadcrumbs\n        if (event.breadcrumbs) {\n          event.breadcrumbs = event.breadcrumbs.map(bc => {\n            if (bc.data?.headers) {\n              const {\n                Authorization,\n                authorization,\n                ...safeHeaders\n              } = bc.data.headers;\n              bc.data.headers = safeHeaders;\n            }\n            return bc;\n          });\n        }\n        return event;\n      }\n      // Keep defaults conservative; add traces later if needed\n    });\n    if (__DEV__) console.log('[Sentry] Initialized');\n  }\n\n  // Attach user context once known (only username, no tokens)\n  function sentrySetUser(user) {\n    if (!DSN) return;\n    if (!user?.username) {\n      Sentry.Native.setUser(null);\n      return;\n    }\n    Sentry.Native.setUser({\n      id: user.username\n    });\n  }\n\n  // Manual error capture for non-crash errors\n  function sentryCapture(error, context) {\n    if (!DSN) return;\n    try {\n      Sentry.Native.captureException(error, {\n        extra: context\n      });\n    } catch {}\n  }\n});","lineCount":86,"map":[[22,2,7,0,"exports"],[22,9,7,0],[22,10,7,0,"initSentry"],[22,20,7,0],[22,23,7,0,"initSentry"],[22,33,7,0],[23,2,39,0,"exports"],[23,9,39,0],[23,10,39,0,"sentrySetUser"],[23,23,39,0],[23,26,39,0,"sentrySetUser"],[23,39,39,0],[24,2,51,0,"exports"],[24,9,51,0],[24,10,51,0,"sentryCapture"],[24,23,51,0],[24,26,51,0,"sentryCapture"],[24,39,51,0],[25,2,57,1],[25,6,57,1,"_expoVirtualEnv"],[25,21,57,1],[25,24,57,1,"require"],[25,31,57,1],[25,32,57,1,"_dependencyMap"],[25,46,57,1],[26,2,3,0],[26,6,3,0,"_sentryExpo"],[26,17,3,0],[26,20,3,0,"require"],[26,27,3,0],[26,28,3,0,"_dependencyMap"],[26,42,3,0],[27,2,3,0],[27,6,3,0,"Sentry"],[27,12,3,0],[27,15,3,0,"_interopNamespace"],[27,32,3,0],[27,33,3,0,"_sentryExpo"],[27,44,3,0],[28,2,1,0],[29,2,2,0],[31,2,5,0],[31,8,5,6,"DSN"],[31,11,5,9],[31,14,5,9,"_expoVirtualEnv"],[31,29,5,9],[31,30,5,9,"env"],[31,33,5,9],[31,34,5,9,"EXPO_PUBLIC_SENTRY_DSN"],[31,56,5,46],[32,2,7,7],[32,11,7,16,"initSentry"],[32,21,7,26,"initSentry"],[32,22,7,26],[32,24,7,29],[33,4,8,2],[33,8,8,6],[33,9,8,7,"DSN"],[33,12,8,10],[33,14,8,12],[34,6,9,4],[34,10,9,8,"__DEV__"],[34,17,9,15],[34,19,9,17,"console"],[34,26,9,24],[34,27,9,25,"log"],[34,30,9,28],[34,31,9,29],[34,84,9,82],[34,85,9,83],[35,6,10,4],[36,4,11,2],[37,4,13,2,"Sentry"],[37,10,13,8],[37,11,13,9,"init"],[37,15,13,13],[37,16,13,14],[38,6,14,4,"dsn"],[38,9,14,7],[38,11,14,9,"DSN"],[38,14,14,12],[39,6,15,4,"enableInExpoDevelopment"],[39,29,15,27],[39,31,15,29],[39,36,15,34],[40,6,16,4,"debug"],[40,11,16,9],[40,13,16,11,"__DEV__"],[40,20,16,18],[41,6,17,4,"environment"],[41,17,17,15],[41,19,17,17,"_expoVirtualEnv"],[41,34,17,17],[41,35,17,17,"env"],[41,38,17,17],[41,39,17,17,"EXPO_PUBLIC_APP_ENV"],[41,58,17,17],[41,63,17,53,"__DEV__"],[41,70,17,60],[41,73,17,63],[41,86,17,76],[41,89,17,79],[41,101,17,91],[41,102,17,92],[42,6,18,4],[43,6,19,4,"beforeSend"],[43,16,19,14,"beforeSend"],[43,17,19,15,"event"],[43,22,19,20],[43,24,19,22],[44,8,20,6],[45,8,21,6],[45,12,21,10,"event"],[45,17,21,15],[45,18,21,16,"breadcrumbs"],[45,29,21,27],[45,31,21,29],[46,10,22,8,"event"],[46,15,22,13],[46,16,22,14,"breadcrumbs"],[46,27,22,25],[46,30,22,28,"event"],[46,35,22,33],[46,36,22,34,"breadcrumbs"],[46,47,22,45],[46,48,22,46,"map"],[46,51,22,49],[46,52,22,50,"bc"],[46,54,22,52],[46,58,22,56],[47,12,23,10],[47,16,23,14,"bc"],[47,18,23,16],[47,19,23,17,"data"],[47,23,23,21],[47,25,23,23,"headers"],[47,32,23,30],[47,34,23,32],[48,14,24,12],[48,20,24,18],[49,16,24,20,"Authorization"],[49,29,24,33],[50,16,24,35,"authorization"],[50,29,24,48],[51,16,24,50],[51,19,24,53,"safeHeaders"],[52,14,24,65],[52,15,24,66],[52,18,24,69,"bc"],[52,20,24,71],[52,21,24,72,"data"],[52,25,24,76],[52,26,24,77,"headers"],[52,33,24,84],[53,14,25,12,"bc"],[53,16,25,14],[53,17,25,15,"data"],[53,21,25,19],[53,22,25,20,"headers"],[53,29,25,27],[53,32,25,30,"safeHeaders"],[53,43,25,41],[54,12,26,10],[55,12,27,10],[55,19,27,17,"bc"],[55,21,27,19],[56,10,28,8],[56,11,28,9],[56,12,28,10],[57,8,29,6],[58,8,30,6],[58,15,30,13,"event"],[58,20,30,18],[59,6,31,4],[60,6,32,4],[61,4,33,2],[61,5,33,3],[61,6,33,4],[62,4,35,2],[62,8,35,6,"__DEV__"],[62,15,35,13],[62,17,35,15,"console"],[62,24,35,22],[62,25,35,23,"log"],[62,28,35,26],[62,29,35,27],[62,51,35,49],[62,52,35,50],[63,2,36,0],[65,2,38,0],[66,2,39,7],[66,11,39,16,"sentrySetUser"],[66,24,39,29,"sentrySetUser"],[66,25,39,30,"user"],[66,29,39,58],[66,31,39,60],[67,4,40,2],[67,8,40,6],[67,9,40,7,"DSN"],[67,12,40,10],[67,14,40,12],[68,4,42,2],[68,8,42,6],[68,9,42,7,"user"],[68,13,42,11],[68,15,42,13,"username"],[68,23,42,21],[68,25,42,23],[69,6,43,4,"Sentry"],[69,12,43,10],[69,13,43,11,"Native"],[69,19,43,17],[69,20,43,18,"setUser"],[69,27,43,25],[69,28,43,26],[69,32,43,30],[69,33,43,31],[70,6,44,4],[71,4,45,2],[72,4,47,2,"Sentry"],[72,10,47,8],[72,11,47,9,"Native"],[72,17,47,15],[72,18,47,16,"setUser"],[72,25,47,23],[72,26,47,24],[73,6,47,26,"id"],[73,8,47,28],[73,10,47,30,"user"],[73,14,47,34],[73,15,47,35,"username"],[74,4,47,44],[74,5,47,45],[74,6,47,46],[75,2,48,0],[77,2,50,0],[78,2,51,7],[78,11,51,16,"sentryCapture"],[78,24,51,29,"sentryCapture"],[78,25,51,30,"error"],[78,30,51,42],[78,32,51,44,"context"],[78,39,51,73],[78,41,51,75],[79,4,52,2],[79,8,52,6],[79,9,52,7,"DSN"],[79,12,52,10],[79,14,52,12],[80,4,54,2],[80,8,54,6],[81,6,55,4,"Sentry"],[81,12,55,10],[81,13,55,11,"Native"],[81,19,55,17],[81,20,55,18,"captureException"],[81,36,55,34],[81,37,55,35,"error"],[81,42,55,40],[81,44,55,42],[82,8,55,44,"extra"],[82,13,55,49],[82,15,55,51,"context"],[83,6,55,59],[83,7,55,60],[83,8,55,61],[84,4,56,2],[84,5,56,3],[84,6,56,4],[84,12,56,10],[84,13,56,11],[85,2,57,0],[86,0,57,1],[86,3]],"functionMap":{"names":["<global>","initSentry","Sentry.init$argument_0.beforeSend","event.breadcrumbs.map$argument_0","sentrySetUser","sentryCapture"],"mappings":"AAA;OCM;ICY;kDCG;SDM;KDG;CDK;OIG;CJS;OKG;CLM"},"hasCjsExports":false},"type":"js/module"}]}