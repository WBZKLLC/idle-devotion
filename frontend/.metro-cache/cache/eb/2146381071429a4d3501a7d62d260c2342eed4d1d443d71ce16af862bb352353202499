{"dependencies":[{"name":"../api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":162},"end":{"line":8,"column":29,"index":191}}],"key":"41PldGLahI9T80Mn09nNHYqZZYw=","exportNames":["*"],"imports":1}},{"name":"../telemetry/events","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":192},"end":{"line":9,"column":52,"index":244}}],"key":"k7LZwhoWMWET/ud396YGvDlODrM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getPvpSeason = getPvpSeason;\n  exports.getPvpRewardsPreview = getPvpRewardsPreview;\n  exports.claimPvpDaily = claimPvpDaily;\n  exports.claimPvpSeason = claimPvpSeason;\n  var _api = require(_dependencyMap[0], \"../api\");\n  var _telemetryEvents = require(_dependencyMap[1], \"../telemetry/events\");\n  /**\n   * Phase 4.2: PvP Season API Wrappers\n   * \n   * All calls use centralized api instance from lib/api.ts.\n   * Returns canonical receipts for claim operations.\n   */\n\n  // ══════════════════════════════════════════════════════════════════════════════\n  // Types\n  // ══════════════════════════════════════════════════════════════════════════════\n\n  // ══════════════════════════════════════════════════════════════════════════════\n  // API Functions\n  // ══════════════════════════════════════════════════════════════════════════════\n\n  /**\n   * Get current PvP season info.\n   */\n  async function getPvpSeason() {\n    const res = await _api.api.get('/pvp/season');\n    return res.data;\n  }\n\n  /**\n   * Get preview of all rank band rewards.\n   */\n  async function getPvpRewardsPreview() {\n    const res = await _api.api.get('/pvp/rewards/preview');\n    return res.data;\n  }\n\n  /**\n   * Claim daily PvP participation reward.\n   * \n   * @param sourceId - Idempotency key (use makeSourceId('pvp_daily'))\n   * @returns Canonical receipt for ReceiptViewer\n   */\n  async function claimPvpDaily(sourceId) {\n    (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_DAILY_CLAIM_SUBMITTED, {\n      sourceId\n    });\n    try {\n      const res = await _api.api.post('/pvp/daily/claim', {\n        source_id: sourceId\n      });\n      const data = res.data;\n      if (data.error === 'already_claimed') {\n        (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_DAILY_CLAIM_ALREADY_CLAIMED, {\n          sourceId\n        });\n      } else if (data.success) {\n        (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_DAILY_CLAIM_SUCCESS, {\n          sourceId,\n          rank_band: data.rank_band\n        });\n      }\n      return data;\n    } catch (error) {\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_DAILY_CLAIM_ERROR, {\n        sourceId,\n        error: error.message\n      });\n      throw error;\n    }\n  }\n\n  /**\n   * Claim end-of-season PvP reward.\n   * \n   * @param sourceId - Idempotency key (use makeSourceId('pvp_season'))\n   * @param seasonId - Season ID to claim for\n   * @returns Canonical receipt for ReceiptViewer\n   */\n  async function claimPvpSeason(sourceId, seasonId) {\n    (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_SEASON_CLAIM_SUBMITTED, {\n      sourceId,\n      seasonId\n    });\n    try {\n      const res = await _api.api.post('/pvp/season/claim', {\n        source_id: sourceId,\n        season_id: seasonId\n      });\n      const data = res.data;\n      if (data.error === 'already_claimed') {\n        (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_SEASON_CLAIM_ALREADY_CLAIMED, {\n          sourceId\n        });\n      } else if (data.success) {\n        (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_SEASON_CLAIM_SUCCESS, {\n          sourceId,\n          rank_band: data.rank_band\n        });\n      }\n      return data;\n    } catch (error) {\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_SEASON_CLAIM_ERROR, {\n        sourceId,\n        error: error.message\n      });\n      throw error;\n    }\n  }\n});","lineCount":116,"map":[[7,2,59,0,"exports"],[7,9,59,0],[7,10,59,0,"getPvpSeason"],[7,22,59,0],[7,25,59,0,"getPvpSeason"],[7,37,59,0],[8,2,67,0,"exports"],[8,9,67,0],[8,10,67,0,"getPvpRewardsPreview"],[8,30,67,0],[8,33,67,0,"getPvpRewardsPreview"],[8,53,67,0],[9,2,78,0,"exports"],[9,9,78,0],[9,10,78,0,"claimPvpDaily"],[9,23,78,0],[9,26,78,0,"claimPvpDaily"],[9,39,78,0],[10,2,105,0,"exports"],[10,9,105,0],[10,10,105,0,"claimPvpSeason"],[10,24,105,0],[10,27,105,0,"claimPvpSeason"],[10,41,105,0],[11,2,8,0],[11,6,8,0,"_api"],[11,10,8,0],[11,13,8,0,"require"],[11,20,8,0],[11,21,8,0,"_dependencyMap"],[11,35,8,0],[12,2,9,0],[12,6,9,0,"_telemetryEvents"],[12,22,9,0],[12,25,9,0,"require"],[12,32,9,0],[12,33,9,0,"_dependencyMap"],[12,47,9,0],[13,2,1,0],[14,0,2,0],[15,0,3,0],[16,0,4,0],[17,0,5,0],[18,0,6,0],[20,2,11,0],[21,2,12,0],[22,2,13,0],[24,2,52,0],[25,2,53,0],[26,2,54,0],[28,2,56,0],[29,0,57,0],[30,0,58,0],[31,2,59,7],[31,17,59,22,"getPvpSeason"],[31,29,59,34,"getPvpSeason"],[31,30,59,34],[31,32,59,65],[32,4,60,2],[32,10,60,8,"res"],[32,13,60,11],[32,16,60,14],[32,22,60,20,"api"],[32,26,60,23],[32,27,60,23,"api"],[32,30,60,23],[32,31,60,24,"get"],[32,34,60,27],[32,35,60,28],[32,48,60,41],[32,49,60,42],[33,4,61,2],[33,11,61,9,"res"],[33,14,61,12],[33,15,61,13,"data"],[33,19,61,17],[34,2,62,0],[36,2,64,0],[37,0,65,0],[38,0,66,0],[39,2,67,7],[39,17,67,22,"getPvpRewardsPreview"],[39,37,67,42,"getPvpRewardsPreview"],[39,38,67,42],[39,40,67,81],[40,4,68,2],[40,10,68,8,"res"],[40,13,68,11],[40,16,68,14],[40,22,68,20,"api"],[40,26,68,23],[40,27,68,23,"api"],[40,30,68,23],[40,31,68,24,"get"],[40,34,68,27],[40,35,68,28],[40,57,68,50],[40,58,68,51],[41,4,69,2],[41,11,69,9,"res"],[41,14,69,12],[41,15,69,13,"data"],[41,19,69,17],[42,2,70,0],[44,2,72,0],[45,0,73,0],[46,0,74,0],[47,0,75,0],[48,0,76,0],[49,0,77,0],[50,2,78,7],[50,17,78,22,"claimPvpDaily"],[50,30,78,35,"claimPvpDaily"],[50,31,78,36,"sourceId"],[50,39,78,52],[50,41,78,80],[51,4,79,2],[51,8,79,2,"track"],[51,24,79,7],[51,25,79,7,"track"],[51,30,79,7],[51,32,79,8,"Events"],[51,48,79,14],[51,49,79,14,"Events"],[51,55,79,14],[51,56,79,15,"PVP_DAILY_CLAIM_SUBMITTED"],[51,81,79,40],[51,83,79,42],[52,6,79,44,"sourceId"],[53,4,79,53],[53,5,79,54],[53,6,79,55],[54,4,81,2],[54,8,81,6],[55,6,82,4],[55,12,82,10,"res"],[55,15,82,13],[55,18,82,16],[55,24,82,22,"api"],[55,28,82,25],[55,29,82,25,"api"],[55,32,82,25],[55,33,82,26,"post"],[55,37,82,30],[55,38,82,31],[55,56,82,49],[55,58,82,51],[56,8,82,53,"source_id"],[56,17,82,62],[56,19,82,64,"sourceId"],[57,6,82,73],[57,7,82,74],[57,8,82,75],[58,6,83,4],[58,12,83,10,"data"],[58,16,83,14],[58,19,83,17,"res"],[58,22,83,20],[58,23,83,21,"data"],[58,27,83,44],[59,6,85,4],[59,10,85,8,"data"],[59,14,85,12],[59,15,85,13,"error"],[59,20,85,18],[59,25,85,23],[59,42,85,40],[59,44,85,42],[60,8,86,6],[60,12,86,6,"track"],[60,28,86,11],[60,29,86,11,"track"],[60,34,86,11],[60,36,86,12,"Events"],[60,52,86,18],[60,53,86,18,"Events"],[60,59,86,18],[60,60,86,19,"PVP_DAILY_CLAIM_ALREADY_CLAIMED"],[60,91,86,50],[60,93,86,52],[61,10,86,54,"sourceId"],[62,8,86,63],[62,9,86,64],[62,10,86,65],[63,6,87,4],[63,7,87,5],[63,13,87,11],[63,17,87,15,"data"],[63,21,87,19],[63,22,87,20,"success"],[63,29,87,27],[63,31,87,29],[64,8,88,6],[64,12,88,6,"track"],[64,28,88,11],[64,29,88,11,"track"],[64,34,88,11],[64,36,88,12,"Events"],[64,52,88,18],[64,53,88,18,"Events"],[64,59,88,18],[64,60,88,19,"PVP_DAILY_CLAIM_SUCCESS"],[64,83,88,42],[64,85,88,44],[65,10,88,46,"sourceId"],[65,18,88,54],[66,10,88,56,"rank_band"],[66,19,88,65],[66,21,88,67,"data"],[66,25,88,71],[66,26,88,72,"rank_band"],[67,8,88,82],[67,9,88,83],[67,10,88,84],[68,6,89,4],[69,6,91,4],[69,13,91,11,"data"],[69,17,91,15],[70,4,92,2],[70,5,92,3],[70,6,92,4],[70,13,92,11,"error"],[70,18,92,21],[70,20,92,23],[71,6,93,4],[71,10,93,4,"track"],[71,26,93,9],[71,27,93,9,"track"],[71,32,93,9],[71,34,93,10,"Events"],[71,50,93,16],[71,51,93,16,"Events"],[71,57,93,16],[71,58,93,17,"PVP_DAILY_CLAIM_ERROR"],[71,79,93,38],[71,81,93,40],[72,8,93,42,"sourceId"],[72,16,93,50],[73,8,93,52,"error"],[73,13,93,57],[73,15,93,59,"error"],[73,20,93,64],[73,21,93,65,"message"],[74,6,93,73],[74,7,93,74],[74,8,93,75],[75,6,94,4],[75,12,94,10,"error"],[75,17,94,15],[76,4,95,2],[77,2,96,0],[79,2,98,0],[80,0,99,0],[81,0,100,0],[82,0,101,0],[83,0,102,0],[84,0,103,0],[85,0,104,0],[86,2,105,7],[86,17,105,22,"claimPvpSeason"],[86,31,105,36,"claimPvpSeason"],[86,32,105,37,"sourceId"],[86,40,105,53],[86,42,105,55,"seasonId"],[86,50,105,72],[86,52,105,100],[87,4,106,2],[87,8,106,2,"track"],[87,24,106,7],[87,25,106,7,"track"],[87,30,106,7],[87,32,106,8,"Events"],[87,48,106,14],[87,49,106,14,"Events"],[87,55,106,14],[87,56,106,15,"PVP_SEASON_CLAIM_SUBMITTED"],[87,82,106,41],[87,84,106,43],[88,6,106,45,"sourceId"],[88,14,106,53],[89,6,106,55,"seasonId"],[90,4,106,64],[90,5,106,65],[90,6,106,66],[91,4,108,2],[91,8,108,6],[92,6,109,4],[92,12,109,10,"res"],[92,15,109,13],[92,18,109,16],[92,24,109,22,"api"],[92,28,109,25],[92,29,109,25,"api"],[92,32,109,25],[92,33,109,26,"post"],[92,37,109,30],[92,38,109,31],[92,57,109,50],[92,59,109,52],[93,8,110,6,"source_id"],[93,17,110,15],[93,19,110,17,"sourceId"],[93,27,110,25],[94,8,111,6,"season_id"],[94,17,111,15],[94,19,111,17,"seasonId"],[95,6,112,4],[95,7,112,5],[95,8,112,6],[96,6,113,4],[96,12,113,10,"data"],[96,16,113,14],[96,19,113,17,"res"],[96,22,113,20],[96,23,113,21,"data"],[96,27,113,44],[97,6,115,4],[97,10,115,8,"data"],[97,14,115,12],[97,15,115,13,"error"],[97,20,115,18],[97,25,115,23],[97,42,115,40],[97,44,115,42],[98,8,116,6],[98,12,116,6,"track"],[98,28,116,11],[98,29,116,11,"track"],[98,34,116,11],[98,36,116,12,"Events"],[98,52,116,18],[98,53,116,18,"Events"],[98,59,116,18],[98,60,116,19,"PVP_SEASON_CLAIM_ALREADY_CLAIMED"],[98,92,116,51],[98,94,116,53],[99,10,116,55,"sourceId"],[100,8,116,64],[100,9,116,65],[100,10,116,66],[101,6,117,4],[101,7,117,5],[101,13,117,11],[101,17,117,15,"data"],[101,21,117,19],[101,22,117,20,"success"],[101,29,117,27],[101,31,117,29],[102,8,118,6],[102,12,118,6,"track"],[102,28,118,11],[102,29,118,11,"track"],[102,34,118,11],[102,36,118,12,"Events"],[102,52,118,18],[102,53,118,18,"Events"],[102,59,118,18],[102,60,118,19,"PVP_SEASON_CLAIM_SUCCESS"],[102,84,118,43],[102,86,118,45],[103,10,118,47,"sourceId"],[103,18,118,55],[104,10,118,57,"rank_band"],[104,19,118,66],[104,21,118,68,"data"],[104,25,118,72],[104,26,118,73,"rank_band"],[105,8,118,83],[105,9,118,84],[105,10,118,85],[106,6,119,4],[107,6,121,4],[107,13,121,11,"data"],[107,17,121,15],[108,4,122,2],[108,5,122,3],[108,6,122,4],[108,13,122,11,"error"],[108,18,122,21],[108,20,122,23],[109,6,123,4],[109,10,123,4,"track"],[109,26,123,9],[109,27,123,9,"track"],[109,32,123,9],[109,34,123,10,"Events"],[109,50,123,16],[109,51,123,16,"Events"],[109,57,123,16],[109,58,123,17,"PVP_SEASON_CLAIM_ERROR"],[109,80,123,39],[109,82,123,41],[110,8,123,43,"sourceId"],[110,16,123,51],[111,8,123,53,"error"],[111,13,123,58],[111,15,123,60,"error"],[111,20,123,65],[111,21,123,66,"message"],[112,6,123,74],[112,7,123,75],[112,8,123,76],[113,6,124,4],[113,12,124,10,"error"],[113,17,124,15],[114,4,125,2],[115,2,126,0],[116,0,126,1],[116,3]],"functionMap":{"names":["<global>","getPvpSeason","getPvpRewardsPreview","claimPvpDaily","claimPvpSeason"],"mappings":"AAA;OC0D;CDG;OEK;CFG;OGQ;CHkB;OIS;CJqB"},"hasCjsExports":false},"type":"js/module"}]}