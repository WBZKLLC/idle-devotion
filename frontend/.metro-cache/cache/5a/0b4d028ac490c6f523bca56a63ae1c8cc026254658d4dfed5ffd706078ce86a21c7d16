{"dependencies":[{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":811},"end":{"line":19,"column":37,"index":848}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"./products","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":849},"end":{"line":20,"column":57,"index":906}}],"key":"QLsEbhN001YxKPoY7MJ1qVaW9gw=","exportNames":["*"],"imports":1}},{"name":"../telemetry/events","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":907},"end":{"line":21,"column":52,"index":959}}],"key":"k7LZwhoWMWET/ud396YGvDlODrM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.goToPaywall = goToPaywall;\n  exports.goToStore = goToStore;\n  exports.goToPurchaseSuccess = goToPurchaseSuccess;\n  exports.getPaywallRoute = getPaywallRoute;\n  exports.getStoreRoute = getStoreRoute;\n  var _expoRouter = require(_dependencyMap[0], \"expo-router\");\n  var _products = require(_dependencyMap[1], \"./products\");\n  var _telemetryEvents = require(_dependencyMap[2], \"../telemetry/events\");\n  // /app/frontend/lib/entitlements/navigation.ts\n  // CANONICAL Premium Navigation - single entry point for all paywall routing\n  //\n  // STRICT INVARIANTS:\n  // 1. All premium navigation MUST go through these helpers\n  // 2. Direct router.push('/paid-features') or router.push('/store') is FORBIDDEN\n  // 3. If productKey is omitted, defaults to PAYWALL_HUB (documented policy)\n  // 4. source MUST be a known PaywallSource (no arbitrary strings in prod)\n  // 5. returnTo is sanitized (must start with /, max 256 chars)\n  // 6. Telemetry is ONLY emitted from this file (guards enforce)\n  //\n  // This ensures:\n  // - Analytics/telemetry for all premium funnels\n  // - Single place to change paywall route\n  // - Consistent UX for premium denial flows\n  // - Easy debugging of purchase funnels\n  // - No silent misroutes from implicit defaults\n\n  // Debug logging\n  const dlog = (...args) => {\n    if (__DEV__) console.log('[navigation]', ...args);\n  };\n\n  // ==============================================================\n  // TELEMETRY DEDUPE - Prevent spam from double-taps/rerenders\n  // ==============================================================\n  const DEDUPE_WINDOW_MS = 1500; // 1.5 seconds\n  let lastPaywallOpenedAt = 0;\n  let lastStoreOpenedAt = 0;\n  function shouldEmitPaywallEvent() {\n    const now = Date.now();\n    if (now - lastPaywallOpenedAt < DEDUPE_WINDOW_MS) {\n      dlog('paywall_opened dedupe - skipping');\n      return false;\n    }\n    lastPaywallOpenedAt = now;\n    return true;\n  }\n  function shouldEmitStoreEvent() {\n    const now = Date.now();\n    if (now - lastStoreOpenedAt < DEDUPE_WINDOW_MS) {\n      dlog('store_opened dedupe - skipping');\n      return false;\n    }\n    lastStoreOpenedAt = now;\n    return true;\n  }\n\n  // ==============================================================\n  // TYPES\n  // ==============================================================\n\n  /**\n   * Source of the paywall navigation (for analytics + debugging)\n   * \n   * STRICT: Only these known values are allowed.\n   * Adding a new source requires updating this type.\n   */\n\n  // Fallback (should be rare, logged as warning)\n\n  // Known sources for validation\n  const KNOWN_SOURCES = new Set(['cinematic_gate', 'battle_pass', 'store', 'profile', 'hero_detail', 'gating_alert', 'equipment', 'gacha', 'campaign', 'unknown']);\n\n  /**\n   * Options for paywall navigation\n   */\n\n  /**\n   * The ONE route for premium purchases\n   * Change this ONLY here to update all premium navigation\n   */\n  const PAYWALL_ROUTE = '/paid-features';\n  const STORE_ROUTE = '/store';\n\n  // Constraints\n  const MAX_RETURN_TO_LENGTH = 256;\n\n  /**\n   * Sanitize returnTo path to prevent weird routing state\n   * - Must start with '/'\n   * - Strip query fragments\n   * - Clamp length to MAX_RETURN_TO_LENGTH\n   */\n  function sanitizeReturnTo(returnTo) {\n    if (!returnTo) return undefined;\n\n    // Must start with /\n    if (!returnTo.startsWith('/')) {\n      if (__DEV__) console.warn('[navigation] returnTo must start with /, got:', returnTo);\n      return undefined;\n    }\n\n    // Strip query params and fragments (keep clean path only)\n    let cleaned = returnTo.split('?')[0].split('#')[0];\n\n    // Clamp length\n    if (cleaned.length > MAX_RETURN_TO_LENGTH) {\n      if (__DEV__) console.warn('[navigation] returnTo too long, truncating');\n      cleaned = cleaned.substring(0, MAX_RETURN_TO_LENGTH);\n    }\n    return cleaned;\n  }\n\n  /**\n   * Validate and normalize source\n   */\n  function normalizeSource(source) {\n    if (KNOWN_SOURCES.has(source)) {\n      return source;\n    }\n    if (__DEV__) {\n      console.warn('[navigation] Unknown PaywallSource:', source, '- defaulting to \"unknown\"');\n    }\n    return 'unknown';\n  }\n\n  /**\n   * Canonical entry point for all paywall/premium navigation\n   * \n   * USE THIS instead of router.push('/paid-features') or router.push('/store')\n   * \n   * POLICY: If productKey is omitted, routes to general paywall hub.\n   * This is deterministic and documented - Paywall component shows all products.\n   * \n   * TELEMETRY: Emits 'paywall_opened' event (with 1.5s dedupe window)\n   * \n   * @example\n   * // From cinematic gate (specific product)\n   * goToPaywall({ productKey: 'PREMIUM_CINEMATICS_PACK', source: 'cinematic_gate', heroId: hero.id });\n   * \n   * // From battle pass (specific product)\n   * goToPaywall({ productKey: 'PREMIUM_SUBSCRIPTION', source: 'battle_pass' });\n   * \n   * // Generic premium denial (no specific product - shows all options)\n   * goToPaywall({ source: 'gating_alert' });\n   */\n  function goToPaywall(opts) {\n    const {\n      productKey,\n      heroId,\n      returnTo\n    } = opts;\n\n    // Normalize source (strict validation)\n    const source = normalizeSource(opts.source);\n\n    // Sanitize returnTo\n    const cleanReturnTo = sanitizeReturnTo(returnTo);\n    dlog('goToPaywall:', {\n      productKey,\n      source,\n      heroId,\n      returnTo: cleanReturnTo\n    });\n\n    // Phase 3.13: Emit telemetry (with dedupe to prevent spam)\n    if (shouldEmitPaywallEvent()) {\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.PAYWALL_OPENED, {\n        source,\n        productKey: productKey ?? null,\n        heroId: heroId ?? null,\n        returnTo: cleanReturnTo ?? null,\n        isHub: !productKey // True if going to general hub (no specific product)\n      });\n    }\n\n    // Build query params\n    const params = new URLSearchParams();\n    if (productKey) {\n      params.set('productKey', productKey);\n      // Also include productId for convenience\n      const product = (0, _products.getProduct)(productKey);\n      if (product) {\n        params.set('productId', product.productId);\n      }\n    }\n    // NOTE: If productKey is omitted, Paywall shows general hub (all products)\n    // This is documented policy, not an implicit default\n\n    // Source is always set (normalized above)\n    params.set('source', source);\n    if (heroId) {\n      params.set('heroId', heroId);\n    }\n    if (cleanReturnTo) {\n      params.set('returnTo', cleanReturnTo);\n    }\n\n    // Build final route\n    const queryString = params.toString();\n    const route = queryString ? `${PAYWALL_ROUTE}?${queryString}` : PAYWALL_ROUTE;\n    _expoRouter.router.push(route);\n  }\n\n  /**\n   * Navigate to the general store/shop screen\n   * Use this for browsing, not for specific premium denial flows\n   * \n   * TELEMETRY: Emits 'store_opened' event (with 1.5s dedupe window)\n   */\n  function goToStore(source) {\n    const normalizedSource = source ? normalizeSource(source) : 'store';\n    dlog('goToStore:', {\n      source: normalizedSource\n    });\n\n    // Phase 3.13: Emit telemetry (with dedupe to prevent spam)\n    if (shouldEmitStoreEvent()) {\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.STORE_OPENED, {\n        source: normalizedSource\n      });\n    }\n    _expoRouter.router.push(`${STORE_ROUTE}?source=${normalizedSource}`);\n  }\n\n  /**\n   * Navigate to purchase success screen (optional, for post-purchase UX)\n   */\n  function goToPurchaseSuccess(opts) {\n    dlog('goToPurchaseSuccess:', opts);\n\n    // Sanitize returnTo\n    const cleanReturnTo = sanitizeReturnTo(opts?.returnTo);\n\n    // For now, just go back or to a success route\n    // This can be expanded to show a dedicated success screen\n    if (cleanReturnTo) {\n      _expoRouter.router.replace(cleanReturnTo);\n    } else {\n      _expoRouter.router.back();\n    }\n  }\n\n  /**\n   * Get the paywall route for use in gating helpers\n   * (Internal use - screens should use goToPaywall instead)\n   */\n  function getPaywallRoute() {\n    return PAYWALL_ROUTE;\n  }\n\n  /**\n   * Get the store route\n   * (Internal use - screens should use goToStore instead)\n   */\n  function getStoreRoute() {\n    return STORE_ROUTE;\n  }\n});","lineCount":264,"map":[[7,2,175,0,"exports"],[7,9,175,0],[7,10,175,0,"goToPaywall"],[7,21,175,0],[7,24,175,0,"goToPaywall"],[7,35,175,0],[8,2,237,0,"exports"],[8,9,237,0],[8,10,237,0,"goToStore"],[8,19,237,0],[8,22,237,0,"goToStore"],[8,31,237,0],[9,2,254,0,"exports"],[9,9,254,0],[9,10,254,0,"goToPurchaseSuccess"],[9,29,254,0],[9,32,254,0,"goToPurchaseSuccess"],[9,51,254,0],[10,2,276,0,"exports"],[10,9,276,0],[10,10,276,0,"getPaywallRoute"],[10,25,276,0],[10,28,276,0,"getPaywallRoute"],[10,43,276,0],[11,2,284,0,"exports"],[11,9,284,0],[11,10,284,0,"getStoreRoute"],[11,23,284,0],[11,26,284,0,"getStoreRoute"],[11,39,284,0],[12,2,19,0],[12,6,19,0,"_expoRouter"],[12,17,19,0],[12,20,19,0,"require"],[12,27,19,0],[12,28,19,0,"_dependencyMap"],[12,42,19,0],[13,2,20,0],[13,6,20,0,"_products"],[13,15,20,0],[13,18,20,0,"require"],[13,25,20,0],[13,26,20,0,"_dependencyMap"],[13,40,20,0],[14,2,21,0],[14,6,21,0,"_telemetryEvents"],[14,22,21,0],[14,25,21,0,"require"],[14,32,21,0],[14,33,21,0,"_dependencyMap"],[14,47,21,0],[15,2,1,0],[16,2,2,0],[17,2,3,0],[18,2,4,0],[19,2,5,0],[20,2,6,0],[21,2,7,0],[22,2,8,0],[23,2,9,0],[24,2,10,0],[25,2,11,0],[26,2,12,0],[27,2,13,0],[28,2,14,0],[29,2,15,0],[30,2,16,0],[31,2,17,0],[33,2,23,0],[34,2,24,0],[34,8,24,6,"dlog"],[34,12,24,10],[34,15,24,13,"dlog"],[34,16,24,14],[34,19,24,17,"args"],[34,23,24,28],[34,28,24,33],[35,4,24,35],[35,8,24,39,"__DEV__"],[35,15,24,46],[35,17,24,48,"console"],[35,24,24,55],[35,25,24,56,"log"],[35,28,24,59],[35,29,24,60],[35,43,24,74],[35,45,24,76],[35,48,24,79,"args"],[35,52,24,83],[35,53,24,84],[36,2,24,86],[36,3,24,87],[38,2,26,0],[39,2,27,0],[40,2,28,0],[41,2,29,0],[41,8,29,6,"DEDUPE_WINDOW_MS"],[41,24,29,22],[41,27,29,25],[41,31,29,29],[41,32,29,30],[41,33,29,31],[42,2,30,0],[42,6,30,4,"lastPaywallOpenedAt"],[42,25,30,23],[42,28,30,26],[42,29,30,27],[43,2,31,0],[43,6,31,4,"lastStoreOpenedAt"],[43,23,31,21],[43,26,31,24],[43,27,31,25],[44,2,33,0],[44,11,33,9,"shouldEmitPaywallEvent"],[44,33,33,31,"shouldEmitPaywallEvent"],[44,34,33,31],[44,36,33,43],[45,4,34,2],[45,10,34,8,"now"],[45,13,34,11],[45,16,34,14,"Date"],[45,20,34,18],[45,21,34,19,"now"],[45,24,34,22],[45,25,34,23],[45,26,34,24],[46,4,35,2],[46,8,35,6,"now"],[46,11,35,9],[46,14,35,12,"lastPaywallOpenedAt"],[46,33,35,31],[46,36,35,34,"DEDUPE_WINDOW_MS"],[46,52,35,50],[46,54,35,52],[47,6,36,4,"dlog"],[47,10,36,8],[47,11,36,9],[47,45,36,43],[47,46,36,44],[48,6,37,4],[48,13,37,11],[48,18,37,16],[49,4,38,2],[50,4,39,2,"lastPaywallOpenedAt"],[50,23,39,21],[50,26,39,24,"now"],[50,29,39,27],[51,4,40,2],[51,11,40,9],[51,15,40,13],[52,2,41,0],[53,2,43,0],[53,11,43,9,"shouldEmitStoreEvent"],[53,31,43,29,"shouldEmitStoreEvent"],[53,32,43,29],[53,34,43,41],[54,4,44,2],[54,10,44,8,"now"],[54,13,44,11],[54,16,44,14,"Date"],[54,20,44,18],[54,21,44,19,"now"],[54,24,44,22],[54,25,44,23],[54,26,44,24],[55,4,45,2],[55,8,45,6,"now"],[55,11,45,9],[55,14,45,12,"lastStoreOpenedAt"],[55,31,45,29],[55,34,45,32,"DEDUPE_WINDOW_MS"],[55,50,45,48],[55,52,45,50],[56,6,46,4,"dlog"],[56,10,46,8],[56,11,46,9],[56,43,46,41],[56,44,46,42],[57,6,47,4],[57,13,47,11],[57,18,47,16],[58,4,48,2],[59,4,49,2,"lastStoreOpenedAt"],[59,21,49,19],[59,24,49,22,"now"],[59,27,49,25],[60,4,50,2],[60,11,50,9],[60,15,50,13],[61,2,51,0],[63,2,53,0],[64,2,54,0],[65,2,55,0],[67,2,57,0],[68,0,58,0],[69,0,59,0],[70,0,60,0],[71,0,61,0],[72,0,62,0],[74,2,73,27],[76,2,75,0],[77,2,76,0],[77,8,76,6,"KNOWN_SOURCES"],[77,21,76,19],[77,24,76,22],[77,28,76,26,"Set"],[77,31,76,29],[77,32,76,45],[77,33,77,2],[77,49,77,18],[77,51,77,20],[77,64,77,33],[77,66,77,35],[77,73,77,42],[77,75,77,44],[77,84,77,53],[77,86,77,55],[77,99,77,68],[77,101,78,2],[77,115,78,16],[77,117,78,18],[77,128,78,29],[77,130,78,31],[77,137,78,38],[77,139,78,40],[77,149,78,50],[77,151,78,52],[77,160,78,61],[77,161,79,1],[77,162,79,2],[79,2,81,0],[80,0,82,0],[81,0,83,0],[83,2,104,0],[84,0,105,0],[85,0,106,0],[86,0,107,0],[87,2,108,0],[87,8,108,6,"PAYWALL_ROUTE"],[87,21,108,19],[87,24,108,22],[87,40,108,47],[88,2,109,0],[88,8,109,6,"STORE_ROUTE"],[88,19,109,17],[88,22,109,20],[88,30,109,37],[90,2,111,0],[91,2,112,0],[91,8,112,6,"MAX_RETURN_TO_LENGTH"],[91,28,112,26],[91,31,112,29],[91,34,112,32],[93,2,114,0],[94,0,115,0],[95,0,116,0],[96,0,117,0],[97,0,118,0],[98,0,119,0],[99,2,120,0],[99,11,120,9,"sanitizeReturnTo"],[99,27,120,25,"sanitizeReturnTo"],[99,28,120,26,"returnTo"],[99,36,120,54],[99,38,120,76],[100,4,121,2],[100,8,121,6],[100,9,121,7,"returnTo"],[100,17,121,15],[100,19,121,17],[100,26,121,24,"undefined"],[100,35,121,33],[102,4,123,2],[103,4,124,2],[103,8,124,6],[103,9,124,7,"returnTo"],[103,17,124,15],[103,18,124,16,"startsWith"],[103,28,124,26],[103,29,124,27],[103,32,124,30],[103,33,124,31],[103,35,124,33],[104,6,125,4],[104,10,125,8,"__DEV__"],[104,17,125,15],[104,19,125,17,"console"],[104,26,125,24],[104,27,125,25,"warn"],[104,31,125,29],[104,32,125,30],[104,79,125,77],[104,81,125,79,"returnTo"],[104,89,125,87],[104,90,125,88],[105,6,126,4],[105,13,126,11,"undefined"],[105,22,126,20],[106,4,127,2],[108,4,129,2],[109,4,130,2],[109,8,130,6,"cleaned"],[109,15,130,13],[109,18,130,16,"returnTo"],[109,26,130,24],[109,27,130,25,"split"],[109,32,130,30],[109,33,130,31],[109,36,130,34],[109,37,130,35],[109,38,130,36],[109,39,130,37],[109,40,130,38],[109,41,130,39,"split"],[109,46,130,44],[109,47,130,45],[109,50,130,48],[109,51,130,49],[109,52,130,50],[109,53,130,51],[109,54,130,52],[111,4,132,2],[112,4,133,2],[112,8,133,6,"cleaned"],[112,15,133,13],[112,16,133,14,"length"],[112,22,133,20],[112,25,133,23,"MAX_RETURN_TO_LENGTH"],[112,45,133,43],[112,47,133,45],[113,6,134,4],[113,10,134,8,"__DEV__"],[113,17,134,15],[113,19,134,17,"console"],[113,26,134,24],[113,27,134,25,"warn"],[113,31,134,29],[113,32,134,30],[113,76,134,74],[113,77,134,75],[114,6,135,4,"cleaned"],[114,13,135,11],[114,16,135,14,"cleaned"],[114,23,135,21],[114,24,135,22,"substring"],[114,33,135,31],[114,34,135,32],[114,35,135,33],[114,37,135,35,"MAX_RETURN_TO_LENGTH"],[114,57,135,55],[114,58,135,56],[115,4,136,2],[116,4,138,2],[116,11,138,9,"cleaned"],[116,18,138,16],[117,2,139,0],[119,2,141,0],[120,0,142,0],[121,0,143,0],[122,2,144,0],[122,11,144,9,"normalizeSource"],[122,26,144,24,"normalizeSource"],[122,27,144,25,"source"],[122,33,144,46],[122,35,144,63],[123,4,145,2],[123,8,145,6,"KNOWN_SOURCES"],[123,21,145,19],[123,22,145,20,"has"],[123,25,145,23],[123,26,145,24,"source"],[123,32,145,30],[123,33,145,31],[123,35,145,33],[124,6,146,4],[124,13,146,11,"source"],[124,19,146,17],[125,4,147,2],[126,4,149,2],[126,8,149,6,"__DEV__"],[126,15,149,13],[126,17,149,15],[127,6,150,4,"console"],[127,13,150,11],[127,14,150,12,"warn"],[127,18,150,16],[127,19,150,17],[127,56,150,54],[127,58,150,56,"source"],[127,64,150,62],[127,66,150,64],[127,93,150,91],[127,94,150,92],[128,4,151,2],[129,4,152,2],[129,11,152,9],[129,20,152,18],[130,2,153,0],[132,2,155,0],[133,0,156,0],[134,0,157,0],[135,0,158,0],[136,0,159,0],[137,0,160,0],[138,0,161,0],[139,0,162,0],[140,0,163,0],[141,0,164,0],[142,0,165,0],[143,0,166,0],[144,0,167,0],[145,0,168,0],[146,0,169,0],[147,0,170,0],[148,0,171,0],[149,0,172,0],[150,0,173,0],[151,0,174,0],[152,2,175,7],[152,11,175,16,"goToPaywall"],[152,22,175,27,"goToPaywall"],[152,23,175,28,"opts"],[152,27,175,52],[152,29,175,60],[153,4,176,2],[153,10,176,8],[154,6,176,10,"productKey"],[154,16,176,20],[155,6,176,22,"heroId"],[155,12,176,28],[156,6,176,30,"returnTo"],[157,4,176,39],[157,5,176,40],[157,8,176,43,"opts"],[157,12,176,47],[159,4,178,2],[160,4,179,2],[160,10,179,8,"source"],[160,16,179,14],[160,19,179,17,"normalizeSource"],[160,34,179,32],[160,35,179,33,"opts"],[160,39,179,37],[160,40,179,38,"source"],[160,46,179,44],[160,47,179,45],[162,4,181,2],[163,4,182,2],[163,10,182,8,"cleanReturnTo"],[163,23,182,21],[163,26,182,24,"sanitizeReturnTo"],[163,42,182,40],[163,43,182,41,"returnTo"],[163,51,182,49],[163,52,182,50],[164,4,184,2,"dlog"],[164,8,184,6],[164,9,184,7],[164,23,184,21],[164,25,184,23],[165,6,184,25,"productKey"],[165,16,184,35],[166,6,184,37,"source"],[166,12,184,43],[167,6,184,45,"heroId"],[167,12,184,51],[168,6,184,53,"returnTo"],[168,14,184,61],[168,16,184,63,"cleanReturnTo"],[169,4,184,77],[169,5,184,78],[169,6,184,79],[171,4,186,2],[172,4,187,2],[172,8,187,6,"shouldEmitPaywallEvent"],[172,30,187,28],[172,31,187,29],[172,32,187,30],[172,34,187,32],[173,6,188,4],[173,10,188,4,"track"],[173,26,188,9],[173,27,188,9,"track"],[173,32,188,9],[173,34,188,10,"Events"],[173,50,188,16],[173,51,188,16,"Events"],[173,57,188,16],[173,58,188,17,"PAYWALL_OPENED"],[173,72,188,31],[173,74,188,33],[174,8,189,6,"source"],[174,14,189,12],[175,8,190,6,"productKey"],[175,18,190,16],[175,20,190,18,"productKey"],[175,30,190,28],[175,34,190,32],[175,38,190,36],[176,8,191,6,"heroId"],[176,14,191,12],[176,16,191,14,"heroId"],[176,22,191,20],[176,26,191,24],[176,30,191,28],[177,8,192,6,"returnTo"],[177,16,192,14],[177,18,192,16,"cleanReturnTo"],[177,31,192,29],[177,35,192,33],[177,39,192,37],[178,8,193,6,"isHub"],[178,13,193,11],[178,15,193,13],[178,16,193,14,"productKey"],[178,26,193,24],[178,27,193,27],[179,6,194,4],[179,7,194,5],[179,8,194,6],[180,4,195,2],[182,4,197,2],[183,4,198,2],[183,10,198,8,"params"],[183,16,198,14],[183,19,198,17],[183,23,198,21,"URLSearchParams"],[183,38,198,36],[183,39,198,37],[183,40,198,38],[184,4,200,2],[184,8,200,6,"productKey"],[184,18,200,16],[184,20,200,18],[185,6,201,4,"params"],[185,12,201,10],[185,13,201,11,"set"],[185,16,201,14],[185,17,201,15],[185,29,201,27],[185,31,201,29,"productKey"],[185,41,201,39],[185,42,201,40],[186,6,202,4],[187,6,203,4],[187,12,203,10,"product"],[187,19,203,17],[187,22,203,20],[187,26,203,20,"getProduct"],[187,35,203,30],[187,36,203,30,"getProduct"],[187,46,203,30],[187,48,203,31,"productKey"],[187,58,203,41],[187,59,203,42],[188,6,204,4],[188,10,204,8,"product"],[188,17,204,15],[188,19,204,17],[189,8,205,6,"params"],[189,14,205,12],[189,15,205,13,"set"],[189,18,205,16],[189,19,205,17],[189,30,205,28],[189,32,205,30,"product"],[189,39,205,37],[189,40,205,38,"productId"],[189,49,205,47],[189,50,205,48],[190,6,206,4],[191,4,207,2],[192,4,208,2],[193,4,209,2],[195,4,211,2],[196,4,212,2,"params"],[196,10,212,8],[196,11,212,9,"set"],[196,14,212,12],[196,15,212,13],[196,23,212,21],[196,25,212,23,"source"],[196,31,212,29],[196,32,212,30],[197,4,214,2],[197,8,214,6,"heroId"],[197,14,214,12],[197,16,214,14],[198,6,215,4,"params"],[198,12,215,10],[198,13,215,11,"set"],[198,16,215,14],[198,17,215,15],[198,25,215,23],[198,27,215,25,"heroId"],[198,33,215,31],[198,34,215,32],[199,4,216,2],[200,4,218,2],[200,8,218,6,"cleanReturnTo"],[200,21,218,19],[200,23,218,21],[201,6,219,4,"params"],[201,12,219,10],[201,13,219,11,"set"],[201,16,219,14],[201,17,219,15],[201,27,219,25],[201,29,219,27,"cleanReturnTo"],[201,42,219,40],[201,43,219,41],[202,4,220,2],[204,4,222,2],[205,4,223,2],[205,10,223,8,"queryString"],[205,21,223,19],[205,24,223,22,"params"],[205,30,223,28],[205,31,223,29,"toString"],[205,39,223,37],[205,40,223,38],[205,41,223,39],[206,4,224,2],[206,10,224,8,"route"],[206,15,224,13],[206,18,224,16,"queryString"],[206,29,224,27],[206,32,225,6],[206,35,225,9,"PAYWALL_ROUTE"],[206,48,225,22],[206,52,225,26,"queryString"],[206,63,225,37],[206,65,225,39],[206,68,226,6,"PAYWALL_ROUTE"],[206,81,226,19],[207,4,228,2,"router"],[207,15,228,8],[207,16,228,8,"router"],[207,22,228,8],[207,23,228,9,"push"],[207,27,228,13],[207,28,228,14,"route"],[207,33,228,26],[207,34,228,27],[208,2,229,0],[210,2,231,0],[211,0,232,0],[212,0,233,0],[213,0,234,0],[214,0,235,0],[215,0,236,0],[216,2,237,7],[216,11,237,16,"goToStore"],[216,20,237,25,"goToStore"],[216,21,237,26,"source"],[216,27,237,48],[216,29,237,56],[217,4,238,2],[217,10,238,8,"normalizedSource"],[217,26,238,24],[217,29,238,27,"source"],[217,35,238,33],[217,38,238,36,"normalizeSource"],[217,53,238,51],[217,54,238,52,"source"],[217,60,238,58],[217,61,238,59],[217,64,238,62],[217,71,238,69],[218,4,239,2,"dlog"],[218,8,239,6],[218,9,239,7],[218,21,239,19],[218,23,239,21],[219,6,239,23,"source"],[219,12,239,29],[219,14,239,31,"normalizedSource"],[220,4,239,48],[220,5,239,49],[220,6,239,50],[222,4,241,2],[223,4,242,2],[223,8,242,6,"shouldEmitStoreEvent"],[223,28,242,26],[223,29,242,27],[223,30,242,28],[223,32,242,30],[224,6,243,4],[224,10,243,4,"track"],[224,26,243,9],[224,27,243,9,"track"],[224,32,243,9],[224,34,243,10,"Events"],[224,50,243,16],[224,51,243,16,"Events"],[224,57,243,16],[224,58,243,17,"STORE_OPENED"],[224,70,243,29],[224,72,243,31],[225,8,244,6,"source"],[225,14,244,12],[225,16,244,14,"normalizedSource"],[226,6,245,4],[226,7,245,5],[226,8,245,6],[227,4,246,2],[228,4,248,2,"router"],[228,15,248,8],[228,16,248,8,"router"],[228,22,248,8],[228,23,248,9,"push"],[228,27,248,13],[228,28,248,14],[228,31,248,17,"STORE_ROUTE"],[228,42,248,28],[228,53,248,39,"normalizedSource"],[228,69,248,55],[228,71,248,64],[228,72,248,65],[229,2,249,0],[231,2,251,0],[232,0,252,0],[233,0,253,0],[234,2,254,7],[234,11,254,16,"goToPurchaseSuccess"],[234,30,254,35,"goToPurchaseSuccess"],[234,31,254,36,"opts"],[234,35,257,1],[234,37,257,9],[235,4,258,2,"dlog"],[235,8,258,6],[235,9,258,7],[235,31,258,29],[235,33,258,31,"opts"],[235,37,258,35],[235,38,258,36],[237,4,260,2],[238,4,261,2],[238,10,261,8,"cleanReturnTo"],[238,23,261,21],[238,26,261,24,"sanitizeReturnTo"],[238,42,261,40],[238,43,261,41,"opts"],[238,47,261,45],[238,49,261,47,"returnTo"],[238,57,261,55],[238,58,261,56],[240,4,263,2],[241,4,264,2],[242,4,265,2],[242,8,265,6,"cleanReturnTo"],[242,21,265,19],[242,23,265,21],[243,6,266,4,"router"],[243,17,266,10],[243,18,266,10,"router"],[243,24,266,10],[243,25,266,11,"replace"],[243,32,266,18],[243,33,266,19,"cleanReturnTo"],[243,46,266,39],[243,47,266,40],[244,4,267,2],[244,5,267,3],[244,11,267,9],[245,6,268,4,"router"],[245,17,268,10],[245,18,268,10,"router"],[245,24,268,10],[245,25,268,11,"back"],[245,29,268,15],[245,30,268,16],[245,31,268,17],[246,4,269,2],[247,2,270,0],[249,2,272,0],[250,0,273,0],[251,0,274,0],[252,0,275,0],[253,2,276,7],[253,11,276,16,"getPaywallRoute"],[253,26,276,31,"getPaywallRoute"],[253,27,276,31],[253,29,276,42],[254,4,277,2],[254,11,277,9,"PAYWALL_ROUTE"],[254,24,277,22],[255,2,278,0],[257,2,280,0],[258,0,281,0],[259,0,282,0],[260,0,283,0],[261,2,284,7],[261,11,284,16,"getStoreRoute"],[261,24,284,29,"getStoreRoute"],[261,25,284,29],[261,27,284,40],[262,4,285,2],[262,11,285,9,"STORE_ROUTE"],[262,22,285,20],[263,2,286,0],[264,0,286,1],[264,3]],"functionMap":{"names":["<global>","dlog","shouldEmitPaywallEvent","shouldEmitStoreEvent","sanitizeReturnTo","normalizeSource","goToPaywall","goToStore","goToPurchaseSuccess","getPaywallRoute","getStoreRoute"],"mappings":"AAA;aCuB,0ED;AES;CFQ;AGE;CHQ;AIqE;CJmB;AKK;CLS;OMsB;CNsD;OOQ;CPY;OQK;CRgB;OSM;CTE;OUM;CVE"},"hasCjsExports":false},"type":"js/module"}]}