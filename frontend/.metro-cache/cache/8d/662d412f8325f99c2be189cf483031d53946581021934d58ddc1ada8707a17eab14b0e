{"dependencies":[{"name":"@sentry/browser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"v/L5aEun9KHJcPUBAUY+UgyCfuU=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":57,"index":147}}],"key":"m+kcirlwHAgMIuUoyR2vCxbhWD4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createReduxEnhancer\", {\n    enumerable: true,\n    get: function () {\n      return createReduxEnhancer;\n    }\n  });\n  var _sentryBrowser = require(_dependencyMap[0], \"@sentry/browser\");\n  var _sentryUtils = require(_dependencyMap[1], \"@sentry/utils\");\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n\n  const ACTION_BREADCRUMB_CATEGORY = 'redux.action';\n  const ACTION_BREADCRUMB_TYPE = 'info';\n  const defaultOptions = {\n    attachReduxState: true,\n    actionTransformer: action => action,\n    stateTransformer: state => state || null\n  };\n\n  /**\n   * Creates an enhancer that would be passed to Redux's createStore to log actions and the latest state to Sentry.\n   *\n   * @param enhancerOptions Options to pass to the enhancer\n   */\n  function createReduxEnhancer(enhancerOptions) {\n    // Note: We return an any type as to not have type conflicts.\n    const options = {\n      ...defaultOptions,\n      ...enhancerOptions\n    };\n    return next => (reducer, initialState) => {\n      options.attachReduxState && (0, _sentryBrowser.addGlobalEventProcessor)((event, hint) => {\n        try {\n          // @ts-expect-error try catch to reduce bundle size\n          if (event.type === undefined && event.contexts.state.state.type === 'redux') {\n            hint.attachments = [...(hint.attachments || []),\n            // @ts-expect-error try catch to reduce bundle size\n            {\n              filename: 'redux_state.json',\n              data: JSON.stringify(event.contexts.state.state.value)\n            }];\n          }\n        } catch (_) {\n          // empty\n        }\n        return event;\n      });\n      const sentryReducer = (state, action) => {\n        const newState = reducer(state, action);\n        (0, _sentryBrowser.configureScope)(scope => {\n          /* Action breadcrumbs */\n          const transformedAction = options.actionTransformer(action);\n          if (typeof transformedAction !== 'undefined' && transformedAction !== null) {\n            scope.addBreadcrumb({\n              category: ACTION_BREADCRUMB_CATEGORY,\n              data: transformedAction,\n              type: ACTION_BREADCRUMB_TYPE\n            });\n          }\n\n          /* Set latest state to scope */\n          const transformedState = options.stateTransformer(newState);\n          if (typeof transformedState !== 'undefined' && transformedState !== null) {\n            const client = (0, _sentryBrowser.getCurrentHub)().getClient();\n            const options = client && client.getOptions();\n            const normalizationDepth = options && options.normalizeDepth || 3; // default state normalization depth to 3\n\n            // Set the normalization depth of the redux state to the configured `normalizeDepth` option or a sane number as a fallback\n            const newStateContext = {\n              state: {\n                type: 'redux',\n                value: transformedState\n              }\n            };\n            (0, _sentryUtils.addNonEnumerableProperty)(newStateContext, '__sentry_override_normalization_depth__', 3 +\n            // 3 layers for `state.value.transformedState`\n            normalizationDepth // rest for the actual state\n            );\n            scope.setContext('state', newStateContext);\n          } else {\n            scope.setContext('state', null);\n          }\n\n          /* Allow user to configure scope with latest state */\n          const {\n            configureScopeWithState\n          } = options;\n          if (typeof configureScopeWithState === 'function') {\n            configureScopeWithState(scope, newState);\n          }\n        });\n        return newState;\n      };\n      return next(sentryReducer, initialState);\n    };\n  }\n});","lineCount":102,"map":[[7,2,95,0,"Object"],[7,8,95,0],[7,9,95,0,"defineProperty"],[7,23,95,0],[7,24,95,0,"exports"],[7,31,95,0],[8,4,95,0,"enumerable"],[8,14,95,0],[9,4,95,0,"get"],[9,7,95,0],[9,18,95,0,"get"],[9,19,95,0],[10,6,95,0],[10,13,95,9,"createReduxEnhancer"],[10,32,95,28],[11,4,95,28],[12,2,95,28],[13,2,1,0],[13,6,1,0,"_sentryBrowser"],[13,20,1,0],[13,23,1,0,"require"],[13,30,1,0],[13,31,1,0,"_dependencyMap"],[13,45,1,0],[14,2,2,0],[14,6,2,0,"_sentryUtils"],[14,18,2,0],[14,21,2,0,"require"],[14,28,2,0],[14,29,2,0,"_dependencyMap"],[14,43,2,0],[15,2,4,0],[17,2,6,0],[17,8,6,6,"ACTION_BREADCRUMB_CATEGORY"],[17,34,6,32],[17,37,6,35],[17,51,6,49],[18,2,7,0],[18,8,7,6,"ACTION_BREADCRUMB_TYPE"],[18,30,7,28],[18,33,7,31],[18,39,7,37],[19,2,9,0],[19,8,9,6,"defaultOptions"],[19,22,9,20],[19,25,9,23],[20,4,10,2,"attachReduxState"],[20,20,10,18],[20,22,10,20],[20,26,10,24],[21,4,11,2,"actionTransformer"],[21,21,11,19],[21,23,11,21,"action"],[21,29,11,27],[21,33,11,31,"action"],[21,39,11,37],[22,4,12,2,"stateTransformer"],[22,20,12,18],[22,22,12,20,"state"],[22,27,12,25],[22,31,12,29,"state"],[22,36,12,34],[22,40,12,38],[23,2,13,0],[23,3,13,1],[25,2,15,0],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,2,20,0],[30,11,20,9,"createReduxEnhancer"],[30,30,20,28,"createReduxEnhancer"],[30,31,20,29,"enhancerOptions"],[30,46,20,44],[30,48,20,46],[31,4,21,2],[32,4,22,2],[32,10,22,8,"options"],[32,17,22,15],[32,20,22,18],[33,6,23,4],[33,9,23,7,"defaultOptions"],[33,23,23,21],[34,6,24,4],[34,9,24,7,"enhancerOptions"],[35,4,25,2],[35,5,25,3],[36,4,27,2],[36,11,27,10,"next"],[36,15,27,14],[36,19,28,4],[36,20,28,5,"reducer"],[36,27,28,12],[36,29,28,14,"initialState"],[36,41,28,26],[36,46,28,31],[37,6,29,6,"options"],[37,13,29,13],[37,14,29,14,"attachReduxState"],[37,30,29,30],[37,34,30,8],[37,38,30,8,"addGlobalEventProcessor"],[37,52,30,31],[37,53,30,31,"addGlobalEventProcessor"],[37,76,30,31],[37,78,30,32],[37,79,30,33,"event"],[37,84,30,38],[37,86,30,40,"hint"],[37,90,30,44],[37,95,30,49],[38,8,31,10],[38,12,31,14],[39,10,32,12],[40,10,33,12],[40,14,33,16,"event"],[40,19,33,21],[40,20,33,22,"type"],[40,24,33,26],[40,29,33,31,"undefined"],[40,38,33,40],[40,42,33,44,"event"],[40,47,33,49],[40,48,33,50,"contexts"],[40,56,33,58],[40,57,33,59,"state"],[40,62,33,64],[40,63,33,65,"state"],[40,68,33,70],[40,69,33,71,"type"],[40,73,33,75],[40,78,33,80],[40,85,33,87],[40,87,33,89],[41,12,34,14,"hint"],[41,16,34,18],[41,17,34,19,"attachments"],[41,28,34,30],[41,31,34,33],[41,32,35,16],[41,36,35,20,"hint"],[41,40,35,24],[41,41,35,25,"attachments"],[41,52,35,36],[41,56,35,40],[41,58,35,42],[41,59,35,43],[42,12,36,16],[43,12,37,16],[44,14,37,18,"filename"],[44,22,37,26],[44,24,37,28],[44,42,37,46],[45,14,37,48,"data"],[45,18,37,52],[45,20,37,54,"JSON"],[45,24,37,58],[45,25,37,59,"stringify"],[45,34,37,68],[45,35,37,69,"event"],[45,40,37,74],[45,41,37,75,"contexts"],[45,49,37,83],[45,50,37,84,"state"],[45,55,37,89],[45,56,37,90,"state"],[45,61,37,95],[45,62,37,96,"value"],[45,67,37,101],[46,12,37,103],[46,13,37,104],[46,14,38,15],[47,10,39,12],[48,8,40,10],[48,9,40,11],[48,10,40,12],[48,17,40,19,"_"],[48,18,40,20],[48,20,40,22],[49,10,41,12],[50,8,41,12],[51,8,43,10],[51,15,43,17,"event"],[51,20,43,22],[52,6,44,8],[52,7,44,9],[52,8,44,10],[53,6,46,6],[53,12,46,12,"sentryReducer"],[53,25,46,25],[53,28,46,28,"sentryReducer"],[53,29,46,29,"state"],[53,34,46,34],[53,36,46,36,"action"],[53,42,46,42],[53,47,46,47],[54,8,47,8],[54,14,47,14,"newState"],[54,22,47,22],[54,25,47,25,"reducer"],[54,32,47,32],[54,33,47,33,"state"],[54,38,47,38],[54,40,47,40,"action"],[54,46,47,46],[54,47,47,47],[55,8,49,8],[55,12,49,8,"configureScope"],[55,26,49,22],[55,27,49,22,"configureScope"],[55,41,49,22],[55,43,49,23,"scope"],[55,48,49,28],[55,52,49,32],[56,10,50,10],[57,10,51,10],[57,16,51,16,"transformedAction"],[57,33,51,33],[57,36,51,36,"options"],[57,43,51,43],[57,44,51,44,"actionTransformer"],[57,61,51,61],[57,62,51,62,"action"],[57,68,51,68],[57,69,51,69],[58,10,52,10],[58,14,52,14],[58,21,52,21,"transformedAction"],[58,38,52,38],[58,43,52,43],[58,54,52,54],[58,58,52,58,"transformedAction"],[58,75,52,75],[58,80,52,80],[58,84,52,84],[58,86,52,86],[59,12,53,12,"scope"],[59,17,53,17],[59,18,53,18,"addBreadcrumb"],[59,31,53,31],[59,32,53,32],[60,14,54,14,"category"],[60,22,54,22],[60,24,54,24,"ACTION_BREADCRUMB_CATEGORY"],[60,50,54,50],[61,14,55,14,"data"],[61,18,55,18],[61,20,55,20,"transformedAction"],[61,37,55,37],[62,14,56,14,"type"],[62,18,56,18],[62,20,56,20,"ACTION_BREADCRUMB_TYPE"],[63,12,57,12],[63,13,57,13],[63,14,57,14],[64,10,58,10],[66,10,60,10],[67,10,61,10],[67,16,61,16,"transformedState"],[67,32,61,32],[67,35,61,35,"options"],[67,42,61,42],[67,43,61,43,"stateTransformer"],[67,59,61,59],[67,60,61,60,"newState"],[67,68,61,68],[67,69,61,69],[68,10,62,10],[68,14,62,14],[68,21,62,21,"transformedState"],[68,37,62,37],[68,42,62,42],[68,53,62,53],[68,57,62,57,"transformedState"],[68,73,62,73],[68,78,62,78],[68,82,62,82],[68,84,62,84],[69,12,63,12],[69,18,63,18,"client"],[69,24,63,24],[69,27,63,27],[69,31,63,27,"getCurrentHub"],[69,45,63,40],[69,46,63,40,"getCurrentHub"],[69,59,63,40],[69,61,63,41],[69,62,63,42],[69,63,63,43,"getClient"],[69,72,63,52],[69,73,63,53],[69,74,63,54],[70,12,64,12],[70,18,64,18,"options"],[70,25,64,25],[70,28,64,28,"client"],[70,34,64,34],[70,38,64,38,"client"],[70,44,64,44],[70,45,64,45,"getOptions"],[70,55,64,55],[70,56,64,56],[70,57,64,57],[71,12,65,12],[71,18,65,18,"normalizationDepth"],[71,36,65,36],[71,39,65,40,"options"],[71,46,65,47],[71,50,65,51,"options"],[71,57,65,58],[71,58,65,59,"normalizeDepth"],[71,72,65,73],[71,76,65,78],[71,77,65,79],[71,78,65,80],[71,79,65,81],[73,12,67,12],[74,12,68,12],[74,18,68,18,"newStateContext"],[74,33,68,33],[74,36,68,36],[75,14,68,38,"state"],[75,19,68,43],[75,21,68,45],[76,16,68,47,"type"],[76,20,68,51],[76,22,68,53],[76,29,68,60],[77,16,68,62,"value"],[77,21,68,67],[77,23,68,69,"transformedState"],[78,14,68,86],[79,12,68,88],[79,13,68,89],[80,12,69,12],[80,16,69,12,"addNonEnumerableProperty"],[80,28,69,36],[80,29,69,36,"addNonEnumerableProperty"],[80,53,69,36],[80,55,70,14,"newStateContext"],[80,70,70,29],[80,72,71,14],[80,113,71,55],[80,115,72,14],[80,116,72,15],[81,12,72,18],[82,12,73,16,"normalizationDepth"],[82,30,73,34],[82,31,73,36],[83,12,74,12],[83,13,74,13],[84,12,76,12,"scope"],[84,17,76,17],[84,18,76,18,"setContext"],[84,28,76,28],[84,29,76,29],[84,36,76,36],[84,38,76,38,"newStateContext"],[84,53,76,53],[84,54,76,54],[85,10,77,10],[85,11,77,11],[85,17,77,17],[86,12,78,12,"scope"],[86,17,78,17],[86,18,78,18,"setContext"],[86,28,78,28],[86,29,78,29],[86,36,78,36],[86,38,78,38],[86,42,78,42],[86,43,78,43],[87,10,79,10],[89,10,81,10],[90,10,82,10],[90,16,82,16],[91,12,82,18,"configureScopeWithState"],[92,10,82,42],[92,11,82,43],[92,14,82,46,"options"],[92,21,82,53],[93,10,83,10],[93,14,83,14],[93,21,83,21,"configureScopeWithState"],[93,44,83,44],[93,49,83,49],[93,59,83,59],[93,61,83,61],[94,12,84,12,"configureScopeWithState"],[94,35,84,35],[94,36,84,36,"scope"],[94,41,84,41],[94,43,84,43,"newState"],[94,51,84,51],[94,52,84,52],[95,10,85,10],[96,8,86,8],[96,9,86,9],[96,10,86,10],[97,8,88,8],[97,15,88,15,"newState"],[97,23,88,23],[98,6,89,6],[98,7,89,7],[99,6,91,6],[99,13,91,13,"next"],[99,17,91,17],[99,18,91,18,"sentryReducer"],[99,31,91,31],[99,33,91,33,"initialState"],[99,45,91,45],[99,46,91,46],[100,4,92,4],[100,5,92,5],[101,2,93,0],[102,0,93,1],[102,3]],"functionMap":{"names":["<global>","defaultOptions.actionTransformer","defaultOptions.stateTransformer","createReduxEnhancer","<anonymous>","addGlobalEventProcessor$argument_0","sentryReducer","configureScope$argument_0"],"mappings":"AAA;qBCU,gBD;oBEC,sBF;AGQ;SCO;gCCG;SDc;4BEE;uBCG;SDqC;OFG;KDG;CHC"},"hasCjsExports":false},"type":"js/module"}]}