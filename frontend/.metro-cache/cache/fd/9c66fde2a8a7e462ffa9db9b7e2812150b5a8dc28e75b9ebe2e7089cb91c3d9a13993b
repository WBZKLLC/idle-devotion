{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":13,"index":77},"end":{"line":3,"column":36,"index":100}}],"key":"CPmndeSLDuCg/s3oFguorTUVcN0=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":14,"index":116},"end":{"line":4,"column":38,"index":140}}],"key":"ud8OE6Lg8Q81+bS6ynZj2uyMPdA=","exportNames":["*"],"imports":1}},{"name":"./eventbuilder.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":21,"index":163},"end":{"line":5,"column":49,"index":191}}],"key":"xoDr+V3buR6kllI34zTbLbYmngE=","exportNames":["*"],"imports":1}},{"name":"./helpers.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":16,"index":209},"end":{"line":6,"column":39,"index":232}}],"key":"7UdputPrmvsX25IKteKFXyUGOCE=","exportNames":["*"],"imports":1}},{"name":"./userfeedback.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":21,"index":255},"end":{"line":7,"column":49,"index":283}}],"key":"lwQFgVJCQj5l8S7MqGM7RwmWKQg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  const core = require(_dependencyMap[0], \"@sentry/core\");\n  const utils = require(_dependencyMap[1], \"@sentry/utils\");\n  const eventbuilder = require(_dependencyMap[2], \"./eventbuilder.js\");\n  const helpers = require(_dependencyMap[3], \"./helpers.js\");\n  const userfeedback = require(_dependencyMap[4], \"./userfeedback.js\");\n\n  /**\n   * Configuration options for the Sentry Browser SDK.\n   * @see @sentry/types Options for more information.\n   */\n\n  /**\n   * The Sentry Browser SDK Client.\n   *\n   * @see BrowserOptions for documentation on configuration options.\n   * @see SentryClient for usage documentation.\n   */\n  class BrowserClient extends core.BaseClient {\n    /**\n     * Creates a new Browser SDK instance.\n     *\n     * @param options Configuration options for this SDK.\n     */\n    constructor(options) {\n      const sdkSource = helpers.WINDOW.SENTRY_SDK_SOURCE || utils.getSDKSource();\n      options._metadata = options._metadata || {};\n      options._metadata.sdk = options._metadata.sdk || {\n        name: 'sentry.javascript.browser',\n        packages: [{\n          name: `${sdkSource}:@sentry/browser`,\n          version: core.SDK_VERSION\n        }],\n        version: core.SDK_VERSION\n      };\n      super(options);\n      if (options.sendClientReports && helpers.WINDOW.document) {\n        helpers.WINDOW.document.addEventListener('visibilitychange', () => {\n          if (helpers.WINDOW.document.visibilityState === 'hidden') {\n            this._flushOutcomes();\n          }\n        });\n      }\n    }\n\n    /**\n     * @inheritDoc\n     */\n    eventFromException(exception, hint) {\n      return eventbuilder.eventFromException(this._options.stackParser, exception, hint, this._options.attachStacktrace);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    eventFromMessage(message,\n    // eslint-disable-next-line deprecation/deprecation\n    level = 'info', hint) {\n      return eventbuilder.eventFromMessage(this._options.stackParser, message, level, hint, this._options.attachStacktrace);\n    }\n\n    /**\n     * Sends user feedback to Sentry.\n     */\n    captureUserFeedback(feedback) {\n      if (!this._isEnabled()) {\n        (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && utils.logger.warn('SDK not enabled, will not capture user feedback.');\n        return;\n      }\n      const envelope = userfeedback.createUserFeedbackEnvelope(feedback, {\n        metadata: this.getSdkMetadata(),\n        dsn: this.getDsn(),\n        tunnel: this.getOptions().tunnel\n      });\n      void this._sendEnvelope(envelope);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    _prepareEvent(event, hint, scope) {\n      event.platform = event.platform || 'javascript';\n      return super._prepareEvent(event, hint, scope);\n    }\n\n    /**\n     * Sends client reports as an envelope.\n     */\n    _flushOutcomes() {\n      const outcomes = this._clearOutcomes();\n      if (outcomes.length === 0) {\n        (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && utils.logger.log('No outcomes to send');\n        return;\n      }\n\n      // This is really the only place where we want to check for a DSN and only send outcomes then\n      if (!this._dsn) {\n        (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && utils.logger.log('No dsn provided, will not send outcomes');\n        return;\n      }\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && utils.logger.log('Sending outcomes:', outcomes);\n      const envelope = utils.createClientReportEnvelope(outcomes, this._options.tunnel && utils.dsnToString(this._dsn));\n      void this._sendEnvelope(envelope);\n    }\n  }\n  exports.BrowserClient = BrowserClient;\n});","lineCount":110,"map":[[2,2,1,0,"Object"],[2,8,1,6],[2,9,1,7,"defineProperty"],[2,23,1,21],[2,24,1,22,"exports"],[2,31,1,29],[2,33,1,31],[2,45,1,43],[2,47,1,45],[3,4,1,47,"value"],[3,9,1,52],[3,11,1,54],[4,2,1,59],[4,3,1,60],[4,4,1,61],[5,2,3,0],[5,8,3,6,"core"],[5,12,3,10],[5,15,3,13,"require"],[5,22,3,20],[5,23,3,20,"_dependencyMap"],[5,37,3,20],[5,56,3,35],[5,57,3,36],[6,2,4,0],[6,8,4,6,"utils"],[6,13,4,11],[6,16,4,14,"require"],[6,23,4,21],[6,24,4,21,"_dependencyMap"],[6,38,4,21],[6,58,4,37],[6,59,4,38],[7,2,5,0],[7,8,5,6,"eventbuilder"],[7,20,5,18],[7,23,5,21,"require"],[7,30,5,28],[7,31,5,28,"_dependencyMap"],[7,45,5,28],[7,69,5,48],[7,70,5,49],[8,2,6,0],[8,8,6,6,"helpers"],[8,15,6,13],[8,18,6,16,"require"],[8,25,6,23],[8,26,6,23,"_dependencyMap"],[8,40,6,23],[8,59,6,38],[8,60,6,39],[9,2,7,0],[9,8,7,6,"userfeedback"],[9,20,7,18],[9,23,7,21,"require"],[9,30,7,28],[9,31,7,28,"_dependencyMap"],[9,45,7,28],[9,69,7,48],[9,70,7,49],[11,2,9,0],[12,0,10,0],[13,0,11,0],[14,0,12,0],[16,2,14,0],[17,0,15,0],[18,0,16,0],[19,0,17,0],[20,0,18,0],[21,0,19,0],[22,2,20,0],[22,8,20,6,"BrowserClient"],[22,21,20,19],[22,30,20,28,"core"],[22,34,20,32],[22,35,20,33,"BaseClient"],[22,45,20,43],[22,46,20,44],[23,4,21,2],[24,0,22,0],[25,0,23,0],[26,0,24,0],[27,0,25,0],[28,4,26,3,"constructor"],[28,15,26,14,"constructor"],[28,16,26,15,"options"],[28,23,26,22],[28,25,26,24],[29,6,27,4],[29,12,27,10,"sdkSource"],[29,21,27,19],[29,24,27,22,"helpers"],[29,31,27,29],[29,32,27,30,"WINDOW"],[29,38,27,36],[29,39,27,37,"SENTRY_SDK_SOURCE"],[29,56,27,54],[29,60,27,58,"utils"],[29,65,27,63],[29,66,27,64,"getSDKSource"],[29,78,27,76],[29,79,27,77],[29,80,27,78],[30,6,29,4,"options"],[30,13,29,11],[30,14,29,12,"_metadata"],[30,23,29,21],[30,26,29,24,"options"],[30,33,29,31],[30,34,29,32,"_metadata"],[30,43,29,41],[30,47,29,45],[30,48,29,46],[30,49,29,47],[31,6,30,4,"options"],[31,13,30,11],[31,14,30,12,"_metadata"],[31,23,30,21],[31,24,30,22,"sdk"],[31,27,30,25],[31,30,30,28,"options"],[31,37,30,35],[31,38,30,36,"_metadata"],[31,47,30,45],[31,48,30,46,"sdk"],[31,51,30,49],[31,55,30,53],[32,8,31,6,"name"],[32,12,31,10],[32,14,31,12],[32,41,31,39],[33,8,32,6,"packages"],[33,16,32,14],[33,18,32,16],[33,19,33,8],[34,10,34,10,"name"],[34,14,34,14],[34,16,34,16],[34,19,34,19,"sdkSource"],[34,28,34,28],[34,46,34,46],[35,10,35,10,"version"],[35,17,35,17],[35,19,35,19,"core"],[35,23,35,23],[35,24,35,24,"SDK_VERSION"],[36,8,36,8],[36,9,36,9],[36,10,37,7],[37,8,38,6,"version"],[37,15,38,13],[37,17,38,15,"core"],[37,21,38,19],[37,22,38,20,"SDK_VERSION"],[38,6,39,4],[38,7,39,5],[39,6,41,4],[39,11,41,9],[39,12,41,10,"options"],[39,19,41,17],[39,20,41,18],[40,6,43,4],[40,10,43,8,"options"],[40,17,43,15],[40,18,43,16,"sendClientReports"],[40,35,43,33],[40,39,43,37,"helpers"],[40,46,43,44],[40,47,43,45,"WINDOW"],[40,53,43,51],[40,54,43,52,"document"],[40,62,43,60],[40,64,43,62],[41,8,44,6,"helpers"],[41,15,44,13],[41,16,44,14,"WINDOW"],[41,22,44,20],[41,23,44,21,"document"],[41,31,44,29],[41,32,44,30,"addEventListener"],[41,48,44,46],[41,49,44,47],[41,67,44,65],[41,69,44,67],[41,75,44,73],[42,10,45,8],[42,14,45,12,"helpers"],[42,21,45,19],[42,22,45,20,"WINDOW"],[42,28,45,26],[42,29,45,27,"document"],[42,37,45,35],[42,38,45,36,"visibilityState"],[42,53,45,51],[42,58,45,56],[42,66,45,64],[42,68,45,66],[43,12,46,10],[43,16,46,14],[43,17,46,15,"_flushOutcomes"],[43,31,46,29],[43,32,46,30],[43,33,46,31],[44,10,47,8],[45,8,48,6],[45,9,48,7],[45,10,48,8],[46,6,49,4],[47,4,50,2],[49,4,52,2],[50,0,53,0],[51,0,54,0],[52,4,55,3,"eventFromException"],[52,22,55,21,"eventFromException"],[52,23,55,22,"exception"],[52,32,55,31],[52,34,55,33,"hint"],[52,38,55,37],[52,40,55,39],[53,6,56,4],[53,13,56,11,"eventbuilder"],[53,25,56,23],[53,26,56,24,"eventFromException"],[53,44,56,42],[53,45,56,43],[53,49,56,47],[53,50,56,48,"_options"],[53,58,56,56],[53,59,56,57,"stackParser"],[53,70,56,68],[53,72,56,70,"exception"],[53,81,56,79],[53,83,56,81,"hint"],[53,87,56,85],[53,89,56,87],[53,93,56,91],[53,94,56,92,"_options"],[53,102,56,100],[53,103,56,101,"attachStacktrace"],[53,119,56,117],[53,120,56,118],[54,4,57,2],[56,4,59,2],[57,0,60,0],[58,0,61,0],[59,4,62,3,"eventFromMessage"],[59,20,62,19,"eventFromMessage"],[59,21,63,4,"message"],[59,28,63,11],[60,4,64,4],[61,4,65,4,"level"],[61,9,65,9],[61,12,65,12],[61,18,65,18],[61,20,66,4,"hint"],[61,24,66,8],[61,26,67,4],[62,6,68,4],[62,13,68,11,"eventbuilder"],[62,25,68,23],[62,26,68,24,"eventFromMessage"],[62,42,68,40],[62,43,68,41],[62,47,68,45],[62,48,68,46,"_options"],[62,56,68,54],[62,57,68,55,"stackParser"],[62,68,68,66],[62,70,68,68,"message"],[62,77,68,75],[62,79,68,77,"level"],[62,84,68,82],[62,86,68,84,"hint"],[62,90,68,88],[62,92,68,90],[62,96,68,94],[62,97,68,95,"_options"],[62,105,68,103],[62,106,68,104,"attachStacktrace"],[62,122,68,120],[62,123,68,121],[63,4,69,2],[65,4,71,2],[66,0,72,0],[67,0,73,0],[68,4,74,3,"captureUserFeedback"],[68,23,74,22,"captureUserFeedback"],[68,24,74,23,"feedback"],[68,32,74,31],[68,34,74,33],[69,6,75,4],[69,10,75,8],[69,11,75,9],[69,15,75,13],[69,16,75,14,"_isEnabled"],[69,26,75,24],[69,27,75,25],[69,28,75,26],[69,30,75,28],[70,8,76,6],[70,9,76,7],[70,16,76,14,"__SENTRY_DEBUG__"],[70,32,76,30],[70,37,76,35],[70,48,76,46],[70,52,76,50,"__SENTRY_DEBUG__"],[70,68,76,66],[70,73,76,71,"utils"],[70,78,76,76],[70,79,76,77,"logger"],[70,85,76,83],[70,86,76,84,"warn"],[70,90,76,88],[70,91,76,89],[70,141,76,139],[70,142,76,140],[71,8,77,6],[72,6,78,4],[73,6,80,4],[73,12,80,10,"envelope"],[73,20,80,18],[73,23,80,21,"userfeedback"],[73,35,80,33],[73,36,80,34,"createUserFeedbackEnvelope"],[73,62,80,60],[73,63,80,61,"feedback"],[73,71,80,69],[73,73,80,71],[74,8,81,6,"metadata"],[74,16,81,14],[74,18,81,16],[74,22,81,20],[74,23,81,21,"getSdkMetadata"],[74,37,81,35],[74,38,81,36],[74,39,81,37],[75,8,82,6,"dsn"],[75,11,82,9],[75,13,82,11],[75,17,82,15],[75,18,82,16,"getDsn"],[75,24,82,22],[75,25,82,23],[75,26,82,24],[76,8,83,6,"tunnel"],[76,14,83,12],[76,16,83,14],[76,20,83,18],[76,21,83,19,"getOptions"],[76,31,83,29],[76,32,83,30],[76,33,83,31],[76,34,83,32,"tunnel"],[77,6,84,4],[77,7,84,5],[77,8,84,6],[78,6,85,4],[78,11,85,9],[78,15,85,13],[78,16,85,14,"_sendEnvelope"],[78,29,85,27],[78,30,85,28,"envelope"],[78,38,85,36],[78,39,85,37],[79,4,86,2],[81,4,88,2],[82,0,89,0],[83,0,90,0],[84,4,91,3,"_prepareEvent"],[84,17,91,16,"_prepareEvent"],[84,18,91,17,"event"],[84,23,91,22],[84,25,91,24,"hint"],[84,29,91,28],[84,31,91,30,"scope"],[84,36,91,35],[84,38,91,37],[85,6,92,4,"event"],[85,11,92,9],[85,12,92,10,"platform"],[85,20,92,18],[85,23,92,21,"event"],[85,28,92,26],[85,29,92,27,"platform"],[85,37,92,35],[85,41,92,39],[85,53,92,51],[86,6,93,4],[86,13,93,11],[86,18,93,16],[86,19,93,17,"_prepareEvent"],[86,32,93,30],[86,33,93,31,"event"],[86,38,93,36],[86,40,93,38,"hint"],[86,44,93,42],[86,46,93,44,"scope"],[86,51,93,49],[86,52,93,50],[87,4,94,2],[89,4,96,2],[90,0,97,0],[91,0,98,0],[92,4,99,3,"_flushOutcomes"],[92,18,99,17,"_flushOutcomes"],[92,19,99,17],[92,21,99,20],[93,6,100,4],[93,12,100,10,"outcomes"],[93,20,100,18],[93,23,100,21],[93,27,100,25],[93,28,100,26,"_clearOutcomes"],[93,42,100,40],[93,43,100,41],[93,44,100,42],[94,6,102,4],[94,10,102,8,"outcomes"],[94,18,102,16],[94,19,102,17,"length"],[94,25,102,23],[94,30,102,28],[94,31,102,29],[94,33,102,31],[95,8,103,6],[95,9,103,7],[95,16,103,14,"__SENTRY_DEBUG__"],[95,32,103,30],[95,37,103,35],[95,48,103,46],[95,52,103,50,"__SENTRY_DEBUG__"],[95,68,103,66],[95,73,103,71,"utils"],[95,78,103,76],[95,79,103,77,"logger"],[95,85,103,83],[95,86,103,84,"log"],[95,89,103,87],[95,90,103,88],[95,111,103,109],[95,112,103,110],[96,8,104,6],[97,6,105,4],[99,6,107,4],[100,6,108,4],[100,10,108,8],[100,11,108,9],[100,15,108,13],[100,16,108,14,"_dsn"],[100,20,108,18],[100,22,108,20],[101,8,109,6],[101,9,109,7],[101,16,109,14,"__SENTRY_DEBUG__"],[101,32,109,30],[101,37,109,35],[101,48,109,46],[101,52,109,50,"__SENTRY_DEBUG__"],[101,68,109,66],[101,73,109,71,"utils"],[101,78,109,76],[101,79,109,77,"logger"],[101,85,109,83],[101,86,109,84,"log"],[101,89,109,87],[101,90,109,88],[101,131,109,129],[101,132,109,130],[102,8,110,6],[103,6,111,4],[104,6,113,4],[104,7,113,5],[104,14,113,12,"__SENTRY_DEBUG__"],[104,30,113,28],[104,35,113,33],[104,46,113,44],[104,50,113,48,"__SENTRY_DEBUG__"],[104,66,113,64],[104,71,113,69,"utils"],[104,76,113,74],[104,77,113,75,"logger"],[104,83,113,81],[104,84,113,82,"log"],[104,87,113,85],[104,88,113,86],[104,107,113,105],[104,109,113,107,"outcomes"],[104,117,113,115],[104,118,113,116],[105,6,115,4],[105,12,115,10,"envelope"],[105,20,115,18],[105,23,115,21,"utils"],[105,28,115,26],[105,29,115,27,"createClientReportEnvelope"],[105,55,115,53],[105,56,115,54,"outcomes"],[105,64,115,62],[105,66,115,64],[105,70,115,68],[105,71,115,69,"_options"],[105,79,115,77],[105,80,115,78,"tunnel"],[105,86,115,84],[105,90,115,88,"utils"],[105,95,115,93],[105,96,115,94,"dsnToString"],[105,107,115,105],[105,108,115,106],[105,112,115,110],[105,113,115,111,"_dsn"],[105,117,115,115],[105,118,115,116],[105,119,115,117],[106,6,116,4],[106,11,116,9],[106,15,116,13],[106,16,116,14,"_sendEnvelope"],[106,29,116,27],[106,30,116,28,"envelope"],[106,38,116,36],[106,39,116,37],[107,4,117,2],[108,2,118,0],[109,2,120,0,"exports"],[109,9,120,7],[109,10,120,8,"BrowserClient"],[109,23,120,21],[109,26,120,24,"BrowserClient"],[109,39,120,37],[110,0,120,38],[110,3]],"functionMap":{"names":["<global>","BrowserClient","BrowserClient#constructor","helpers.WINDOW.document.addEventListener$argument_1","BrowserClient#eventFromException","BrowserClient#eventFromMessage","BrowserClient#captureUserFeedback","BrowserClient#_prepareEvent","BrowserClient#_flushOutcomes"],"mappings":"AAA;ACmB;GCM;mECkB;ODI;GDE;GGK;GHE;GIK;GJO;GKK;GLY;GMK;GNG;GOK;GPkB;CDC"},"hasCjsExports":true},"type":"js/module"}]}