{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"PREMIUM_CINEMATIC_OWNED_PREFIX\", {\n    enumerable: true,\n    get: function () {\n      return PREMIUM_CINEMATIC_OWNED_PREFIX;\n    }\n  });\n  Object.defineProperty(exports, \"LEGACY_PACK_KEY\", {\n    enumerable: true,\n    get: function () {\n      return LEGACY_PACK_KEY;\n    }\n  });\n  Object.defineProperty(exports, \"LEGACY_OWNED_PREFIX\", {\n    enumerable: true,\n    get: function () {\n      return LEGACY_OWNED_PREFIX;\n    }\n  });\n  exports.premiumCinematicOwnedKey = premiumCinematicOwnedKey;\n  exports.isPremiumCinematicOwnedKey = isPremiumCinematicOwnedKey;\n  exports.isLegacyCinematicOwnedKey = isLegacyCinematicOwnedKey;\n  exports.extractHeroIdFromKey = extractHeroIdFromKey;\n  exports.migrateLegacyKey = migrateLegacyKey;\n  Object.defineProperty(exports, \"ENTITLEMENTS\", {\n    enumerable: true,\n    get: function () {\n      return ENTITLEMENTS;\n    }\n  });\n  /**\n   * Entitlements - Premium Feature Definitions\n   * \n   * Single source of truth for all paid/premium features.\n   * Used by entitlementStore and paywall UI.\n   * \n   * KEY NAMING:\n   * - Global packs: PREMIUM_CINEMATICS_PACK\n   * - Per-hero ownership: PREMIUM_CINEMATIC_OWNED:<heroId>\n   * \n   * MIGRATION: Old keys (PAID_CINEMATICS_PACK, CINEMATIC_OWNED:*) are\n   * automatically migrated to new keys on hydration.\n   */\n\n  // Global entitlement keys (finite set)\n\n  // Per-hero entitlement prefix (NEW)\n  const PREMIUM_CINEMATIC_OWNED_PREFIX = 'PREMIUM_CINEMATIC_OWNED:';\n\n  // Legacy prefixes for migration\n  const LEGACY_PACK_KEY = 'PAID_CINEMATICS_PACK';\n  const LEGACY_OWNED_PREFIX = 'CINEMATIC_OWNED:';\n\n  // Helper to create per-hero key (NEW format)\n  function premiumCinematicOwnedKey(heroId) {\n    return `${PREMIUM_CINEMATIC_OWNED_PREFIX}${heroId}`;\n  }\n\n  // Check if a key is a per-hero premium cinematic ownership key\n  function isPremiumCinematicOwnedKey(key) {\n    return key.startsWith(PREMIUM_CINEMATIC_OWNED_PREFIX);\n  }\n\n  // Check if a key is a legacy per-hero key\n  function isLegacyCinematicOwnedKey(key) {\n    return key.startsWith(LEGACY_OWNED_PREFIX);\n  }\n\n  // Extract heroId from a per-hero key (works with both old and new format)\n  function extractHeroIdFromKey(key) {\n    if (key.startsWith(PREMIUM_CINEMATIC_OWNED_PREFIX)) {\n      return key.slice(PREMIUM_CINEMATIC_OWNED_PREFIX.length);\n    }\n    if (key.startsWith(LEGACY_OWNED_PREFIX)) {\n      return key.slice(LEGACY_OWNED_PREFIX.length);\n    }\n    return null;\n  }\n\n  // Migrate legacy key to new format\n  function migrateLegacyKey(key) {\n    if (key === LEGACY_PACK_KEY) {\n      return 'PREMIUM_CINEMATICS_PACK';\n    }\n    if (key.startsWith(LEGACY_OWNED_PREFIX)) {\n      const heroId = key.slice(LEGACY_OWNED_PREFIX.length);\n      return `${PREMIUM_CINEMATIC_OWNED_PREFIX}${heroId}`;\n    }\n    return key; // No migration needed\n  }\n  const ENTITLEMENTS = {\n    PREMIUM_CINEMATICS_PACK: {\n      priceUsd: 9.99,\n      title: 'Premium Cinematics',\n      description: 'Unlock cinematic videos for 5â˜…+ heroes. Owning a hero\\'s Premium Cinematic grants +10% HP and +5% ATK to that hero.'\n    }\n  };\n});","lineCount":103,"map":[[7,2,19,0,"Object"],[7,8,19,0],[7,9,19,0,"defineProperty"],[7,23,19,0],[7,24,19,0,"exports"],[7,31,19,0],[8,4,19,0,"enumerable"],[8,14,19,0],[9,4,19,0,"get"],[9,7,19,0],[9,18,19,0,"get"],[9,19,19,0],[10,6,19,0],[10,13,19,0,"PREMIUM_CINEMATIC_OWNED_PREFIX"],[10,43,19,0],[11,4,19,0],[12,2,19,0],[13,2,22,0,"Object"],[13,8,22,0],[13,9,22,0,"defineProperty"],[13,23,22,0],[13,24,22,0,"exports"],[13,31,22,0],[14,4,22,0,"enumerable"],[14,14,22,0],[15,4,22,0,"get"],[15,7,22,0],[15,18,22,0,"get"],[15,19,22,0],[16,6,22,0],[16,13,22,0,"LEGACY_PACK_KEY"],[16,28,22,0],[17,4,22,0],[18,2,22,0],[19,2,23,0,"Object"],[19,8,23,0],[19,9,23,0,"defineProperty"],[19,23,23,0],[19,24,23,0,"exports"],[19,31,23,0],[20,4,23,0,"enumerable"],[20,14,23,0],[21,4,23,0,"get"],[21,7,23,0],[21,18,23,0,"get"],[21,19,23,0],[22,6,23,0],[22,13,23,0,"LEGACY_OWNED_PREFIX"],[22,32,23,0],[23,4,23,0],[24,2,23,0],[25,2,26,0,"exports"],[25,9,26,0],[25,10,26,0,"premiumCinematicOwnedKey"],[25,34,26,0],[25,37,26,0,"premiumCinematicOwnedKey"],[25,61,26,0],[26,2,31,0,"exports"],[26,9,31,0],[26,10,31,0,"isPremiumCinematicOwnedKey"],[26,36,31,0],[26,39,31,0,"isPremiumCinematicOwnedKey"],[26,65,31,0],[27,2,36,0,"exports"],[27,9,36,0],[27,10,36,0,"isLegacyCinematicOwnedKey"],[27,35,36,0],[27,38,36,0,"isLegacyCinematicOwnedKey"],[27,63,36,0],[28,2,41,0,"exports"],[28,9,41,0],[28,10,41,0,"extractHeroIdFromKey"],[28,30,41,0],[28,33,41,0,"extractHeroIdFromKey"],[28,53,41,0],[29,2,52,0,"exports"],[29,9,52,0],[29,10,52,0,"migrateLegacyKey"],[29,26,52,0],[29,29,52,0,"migrateLegacyKey"],[29,45,52,0],[30,2,69,0,"Object"],[30,8,69,0],[30,9,69,0,"defineProperty"],[30,23,69,0],[30,24,69,0,"exports"],[30,31,69,0],[31,4,69,0,"enumerable"],[31,14,69,0],[32,4,69,0,"get"],[32,7,69,0],[32,18,69,0,"get"],[32,19,69,0],[33,6,69,0],[33,13,69,0,"ENTITLEMENTS"],[33,25,69,0],[34,4,69,0],[35,2,69,0],[36,2,1,0],[37,0,2,0],[38,0,3,0],[39,0,4,0],[40,0,5,0],[41,0,6,0],[42,0,7,0],[43,0,8,0],[44,0,9,0],[45,0,10,0],[46,0,11,0],[47,0,12,0],[48,0,13,0],[50,2,15,0],[52,2,18,0],[53,2,19,7],[53,8,19,13,"PREMIUM_CINEMATIC_OWNED_PREFIX"],[53,38,19,43],[53,41,19,46],[53,67,19,72],[55,2,21,0],[56,2,22,7],[56,8,22,13,"LEGACY_PACK_KEY"],[56,23,22,28],[56,26,22,31],[56,48,22,53],[57,2,23,7],[57,8,23,13,"LEGACY_OWNED_PREFIX"],[57,27,23,32],[57,30,23,35],[57,48,23,53],[59,2,25,0],[60,2,26,7],[60,11,26,16,"premiumCinematicOwnedKey"],[60,35,26,40,"premiumCinematicOwnedKey"],[60,36,26,41,"heroId"],[60,42,26,55],[60,44,26,65],[61,4,27,2],[61,11,27,9],[61,14,27,12,"PREMIUM_CINEMATIC_OWNED_PREFIX"],[61,44,27,42],[61,47,27,45,"heroId"],[61,53,27,51],[61,55,27,53],[62,2,28,0],[64,2,30,0],[65,2,31,7],[65,11,31,16,"isPremiumCinematicOwnedKey"],[65,37,31,42,"isPremiumCinematicOwnedKey"],[65,38,31,43,"key"],[65,41,31,54],[65,43,31,65],[66,4,32,2],[66,11,32,9,"key"],[66,14,32,12],[66,15,32,13,"startsWith"],[66,25,32,23],[66,26,32,24,"PREMIUM_CINEMATIC_OWNED_PREFIX"],[66,56,32,54],[66,57,32,55],[67,2,33,0],[69,2,35,0],[70,2,36,7],[70,11,36,16,"isLegacyCinematicOwnedKey"],[70,36,36,41,"isLegacyCinematicOwnedKey"],[70,37,36,42,"key"],[70,40,36,53],[70,42,36,64],[71,4,37,2],[71,11,37,9,"key"],[71,14,37,12],[71,15,37,13,"startsWith"],[71,25,37,23],[71,26,37,24,"LEGACY_OWNED_PREFIX"],[71,45,37,43],[71,46,37,44],[72,2,38,0],[74,2,40,0],[75,2,41,7],[75,11,41,16,"extractHeroIdFromKey"],[75,31,41,36,"extractHeroIdFromKey"],[75,32,41,37,"key"],[75,35,41,48],[75,37,41,65],[76,4,42,2],[76,8,42,6,"key"],[76,11,42,9],[76,12,42,10,"startsWith"],[76,22,42,20],[76,23,42,21,"PREMIUM_CINEMATIC_OWNED_PREFIX"],[76,53,42,51],[76,54,42,52],[76,56,42,54],[77,6,43,4],[77,13,43,11,"key"],[77,16,43,14],[77,17,43,15,"slice"],[77,22,43,20],[77,23,43,21,"PREMIUM_CINEMATIC_OWNED_PREFIX"],[77,53,43,51],[77,54,43,52,"length"],[77,60,43,58],[77,61,43,59],[78,4,44,2],[79,4,45,2],[79,8,45,6,"key"],[79,11,45,9],[79,12,45,10,"startsWith"],[79,22,45,20],[79,23,45,21,"LEGACY_OWNED_PREFIX"],[79,42,45,40],[79,43,45,41],[79,45,45,43],[80,6,46,4],[80,13,46,11,"key"],[80,16,46,14],[80,17,46,15,"slice"],[80,22,46,20],[80,23,46,21,"LEGACY_OWNED_PREFIX"],[80,42,46,40],[80,43,46,41,"length"],[80,49,46,47],[80,50,46,48],[81,4,47,2],[82,4,48,2],[82,11,48,9],[82,15,48,13],[83,2,49,0],[85,2,51,0],[86,2,52,7],[86,11,52,16,"migrateLegacyKey"],[86,27,52,32,"migrateLegacyKey"],[86,28,52,33,"key"],[86,31,52,44],[86,33,52,54],[87,4,53,2],[87,8,53,6,"key"],[87,11,53,9],[87,16,53,14,"LEGACY_PACK_KEY"],[87,31,53,29],[87,33,53,31],[88,6,54,4],[88,13,54,11],[88,38,54,36],[89,4,55,2],[90,4,56,2],[90,8,56,6,"key"],[90,11,56,9],[90,12,56,10,"startsWith"],[90,22,56,20],[90,23,56,21,"LEGACY_OWNED_PREFIX"],[90,42,56,40],[90,43,56,41],[90,45,56,43],[91,6,57,4],[91,12,57,10,"heroId"],[91,18,57,16],[91,21,57,19,"key"],[91,24,57,22],[91,25,57,23,"slice"],[91,30,57,28],[91,31,57,29,"LEGACY_OWNED_PREFIX"],[91,50,57,48],[91,51,57,49,"length"],[91,57,57,55],[91,58,57,56],[92,6,58,4],[92,13,58,11],[92,16,58,14,"PREMIUM_CINEMATIC_OWNED_PREFIX"],[92,46,58,44],[92,49,58,47,"heroId"],[92,55,58,53],[92,57,58,55],[93,4,59,2],[94,4,60,2],[94,11,60,9,"key"],[94,14,60,12],[94,15,60,13],[94,16,60,14],[95,2,61,0],[96,2,69,7],[96,8,69,13,"ENTITLEMENTS"],[96,20,69,72],[96,23,69,75],[97,4,70,2,"PREMIUM_CINEMATICS_PACK"],[97,27,70,25],[97,29,70,27],[98,6,71,4,"priceUsd"],[98,14,71,12],[98,16,71,14],[98,20,71,18],[99,6,72,4,"title"],[99,11,72,9],[99,13,72,11],[99,33,72,31],[100,6,73,4,"description"],[100,17,73,15],[100,19,73,17],[101,4,74,2],[102,2,75,0],[102,3,75,1],[103,0,75,2],[103,3]],"functionMap":{"names":["<global>","premiumCinematicOwnedKey","isPremiumCinematicOwnedKey","isLegacyCinematicOwnedKey","extractHeroIdFromKey","migrateLegacyKey"],"mappings":"AAA;OCyB;CDE;OEG;CFE;OGG;CHE;OIG;CJQ;OKG;CLS"},"hasCjsExports":false},"type":"js/module"}]}