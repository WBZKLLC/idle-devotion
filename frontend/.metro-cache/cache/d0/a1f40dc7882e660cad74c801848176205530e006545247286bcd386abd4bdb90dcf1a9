{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  /**\n   * Polyfill for the optional chain operator, `?.`, given previous conversion of the expression into an array of values,\n   * descriptors, and functions.\n   *\n   * Adapted from Sucrase (https://github.com/alangpierce/sucrase)\n   * See https://github.com/alangpierce/sucrase/blob/265887868966917f3b924ce38dfad01fbab1329f/src/transformers/OptionalChainingNullishTransformer.ts#L15\n   *\n   * @param ops Array result of expression conversion\n   * @returns The value of the expression\n   */\n  function _optionalChain(ops) {\n    let lastAccessLHS = undefined;\n    let value = ops[0];\n    let i = 1;\n    while (i < ops.length) {\n      const op = ops[i];\n      const fn = ops[i + 1];\n      i += 2;\n      // by checking for loose equality to `null`, we catch both `null` and `undefined`\n      if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) {\n        // really we're meaning to return `undefined` as an actual value here, but it saves bytes not to write it\n        return;\n      }\n      if (op === 'access' || op === 'optionalAccess') {\n        lastAccessLHS = value;\n        value = fn(value);\n      } else if (op === 'call' || op === 'optionalCall') {\n        value = fn((...args) => value.call(lastAccessLHS, ...args));\n        lastAccessLHS = undefined;\n      }\n    }\n    return value;\n  }\n\n  // Sucrase version\n  // function _optionalChain(ops) {\n  //   let lastAccessLHS = undefined;\n  //   let value = ops[0];\n  //   let i = 1;\n  //   while (i < ops.length) {\n  //     const op = ops[i];\n  //     const fn = ops[i + 1];\n  //     i += 2;\n  //     if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) {\n  //       return undefined;\n  //     }\n  //     if (op === 'access' || op === 'optionalAccess') {\n  //       lastAccessLHS = value;\n  //       value = fn(value);\n  //     } else if (op === 'call' || op === 'optionalCall') {\n  //       value = fn((...args) => value.call(lastAccessLHS, ...args));\n  //       lastAccessLHS = undefined;\n  //     }\n  //   }\n  //   return value;\n  // }\n\n  exports._optionalChain = _optionalChain;\n});","lineCount":64,"map":[[2,2,1,0,"Object"],[2,8,1,6],[2,9,1,7,"defineProperty"],[2,23,1,21],[2,24,1,22,"exports"],[2,31,1,29],[2,33,1,31],[2,45,1,43],[2,47,1,45],[3,4,1,47,"value"],[3,9,1,52],[3,11,1,54],[4,2,1,59],[4,3,1,60],[4,4,1,61],[6,2,3,0],[7,0,4,0],[8,0,5,0],[9,0,6,0],[10,0,7,0],[11,0,8,0],[12,0,9,0],[13,0,10,0],[14,0,11,0],[15,0,12,0],[16,2,13,0],[16,11,13,9,"_optionalChain"],[16,25,13,23,"_optionalChain"],[16,26,13,24,"ops"],[16,29,13,27],[16,31,13,29],[17,4,14,2],[17,8,14,6,"lastAccessLHS"],[17,21,14,19],[17,24,14,22,"undefined"],[17,33,14,31],[18,4,15,2],[18,8,15,6,"value"],[18,13,15,11],[18,16,15,14,"ops"],[18,19,15,17],[18,20,15,18],[18,21,15,19],[18,22,15,20],[19,4,16,2],[19,8,16,6,"i"],[19,9,16,7],[19,12,16,10],[19,13,16,11],[20,4,17,2],[20,11,17,9,"i"],[20,12,17,10],[20,15,17,13,"ops"],[20,18,17,16],[20,19,17,17,"length"],[20,25,17,23],[20,27,17,25],[21,6,18,4],[21,12,18,10,"op"],[21,14,18,12],[21,17,18,15,"ops"],[21,20,18,18],[21,21,18,19,"i"],[21,22,18,20],[21,23,18,21],[22,6,19,4],[22,12,19,10,"fn"],[22,14,19,12],[22,17,19,15,"ops"],[22,20,19,18],[22,21,19,19,"i"],[22,22,19,20],[22,25,19,23],[22,26,19,24],[22,27,19,25],[23,6,20,4,"i"],[23,7,20,5],[23,11,20,9],[23,12,20,10],[24,6,21,4],[25,6,22,4],[25,10,22,8],[25,11,22,9,"op"],[25,13,22,11],[25,18,22,16],[25,34,22,32],[25,38,22,36,"op"],[25,40,22,38],[25,45,22,43],[25,59,22,57],[25,64,22,62,"value"],[25,69,22,67],[25,73,22,71],[25,77,22,75],[25,79,22,77],[26,8,23,6],[27,8,24,6],[28,6,25,4],[29,6,26,4],[29,10,26,8,"op"],[29,12,26,10],[29,17,26,15],[29,25,26,23],[29,29,26,27,"op"],[29,31,26,29],[29,36,26,34],[29,52,26,50],[29,54,26,52],[30,8,27,6,"lastAccessLHS"],[30,21,27,19],[30,24,27,22,"value"],[30,29,27,27],[31,8,28,6,"value"],[31,13,28,11],[31,16,28,14,"fn"],[31,18,28,16],[31,19,28,17,"value"],[31,24,28,22],[31,25,28,23],[32,6,29,4],[32,7,29,5],[32,13,29,11],[32,17,29,15,"op"],[32,19,29,17],[32,24,29,22],[32,30,29,28],[32,34,29,32,"op"],[32,36,29,34],[32,41,29,39],[32,55,29,53],[32,57,29,55],[33,8,30,6,"value"],[33,13,30,11],[33,16,30,14,"fn"],[33,18,30,16],[33,19,30,17],[33,20,30,18],[33,23,30,21,"args"],[33,27,30,25],[33,32,30,31,"value"],[33,37,30,36],[33,38,30,39,"call"],[33,42,30,43],[33,43,30,44,"lastAccessLHS"],[33,56,30,57],[33,58,30,59],[33,61,30,62,"args"],[33,65,30,66],[33,66,30,67],[33,67,30,68],[34,8,31,6,"lastAccessLHS"],[34,21,31,19],[34,24,31,22,"undefined"],[34,33,31,31],[35,6,32,4],[36,4,33,2],[37,4,34,2],[37,11,34,9,"value"],[37,16,34,14],[38,2,35,0],[40,2,37,0],[41,2,38,0],[42,2,39,0],[43,2,40,0],[44,2,41,0],[45,2,42,0],[46,2,43,0],[47,2,44,0],[48,2,45,0],[49,2,46,0],[50,2,47,0],[51,2,48,0],[52,2,49,0],[53,2,50,0],[54,2,51,0],[55,2,52,0],[56,2,53,0],[57,2,54,0],[58,2,55,0],[59,2,56,0],[60,2,57,0],[61,2,58,0],[63,2,60,0,"exports"],[63,9,60,7],[63,10,60,8,"_optionalChain"],[63,24,60,22],[63,27,60,25,"_optionalChain"],[63,41,60,39],[64,0,60,40],[64,3]],"functionMap":{"names":["<global>","_optionalChain","fn$argument_0"],"mappings":"AAA;ACY;iBCiB,kDD;CDK"},"hasCjsExports":true},"type":"js/module"}]}