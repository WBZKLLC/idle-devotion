{"dependencies":[{"name":"./is.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":11,"index":75},"end":{"line":3,"column":29,"index":93}}],"key":"7L+qE4U1JkzGTtK8kDgvAl12vZ8=","exportNames":["*"],"imports":1}},{"name":"./normalize.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":18,"index":113},"end":{"line":4,"column":43,"index":138}}],"key":"JqQ+STmFgUm2VaJ+7TFZ+WGdtxE=","exportNames":["*"],"imports":1}},{"name":"./url.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":12,"index":152},"end":{"line":5,"column":31,"index":171}}],"key":"6d5xGvFlrAvUaHGBTen8HnED/4M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var is = require(_dependencyMap[0], \"./is.js\");\n  var normalize = require(_dependencyMap[1], \"./normalize.js\");\n  var url = require(_dependencyMap[2], \"./url.js\");\n  var DEFAULT_INCLUDES = {\n    ip: false,\n    request: true,\n    transaction: true,\n    user: true\n  };\n  var DEFAULT_REQUEST_INCLUDES = ['cookies', 'data', 'headers', 'method', 'query_string', 'url'];\n  var DEFAULT_USER_INCLUDES = ['id', 'username', 'email'];\n\n  /**\n   * Sets parameterized route as transaction name e.g.: `GET /users/:id`\n   * Also adds more context data on the transaction from the request\n   */\n  function addRequestDataToTransaction(transaction, req, deps) {\n    if (!transaction) return;\n    if (!transaction.metadata.source || transaction.metadata.source === 'url') {\n      // Attempt to grab a parameterized route off of the request\n      transaction.setName(...extractPathForTransaction(req, {\n        path: true,\n        method: true\n      }));\n    }\n    transaction.setData('url', req.originalUrl || req.url);\n    if (req.baseUrl) {\n      transaction.setData('baseUrl', req.baseUrl);\n    }\n    transaction.setData('query', extractQueryParams(req, deps));\n  }\n\n  /**\n   * Extracts a complete and parameterized path from the request object and uses it to construct transaction name.\n   * If the parameterized transaction name cannot be extracted, we fall back to the raw URL.\n   *\n   * Additionally, this function determines and returns the transaction name source\n   *\n   * eg. GET /mountpoint/user/:id\n   *\n   * @param req A request object\n   * @param options What to include in the transaction name (method, path, or a custom route name to be\n   *                used instead of the request's route)\n   *\n   * @returns A tuple of the fully constructed transaction name [0] and its source [1] (can be either 'route' or 'url')\n   */\n  function extractPathForTransaction(req) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var method = req.method && req.method.toUpperCase();\n    var path = '';\n    var source = 'url';\n\n    // Check to see if there's a parameterized route we can use (as there is in Express)\n    if (options.customRoute || req.route) {\n      path = options.customRoute || `${req.baseUrl || ''}${req.route && req.route.path}`;\n      source = 'route';\n    }\n\n    // Otherwise, just take the original URL\n    else if (req.originalUrl || req.url) {\n      path = url.stripUrlQueryAndFragment(req.originalUrl || req.url || '');\n    }\n    var name = '';\n    if (options.method && method) {\n      name += method;\n    }\n    if (options.method && options.path) {\n      name += ' ';\n    }\n    if (options.path && path) {\n      name += path;\n    }\n    return [name, source];\n  }\n\n  /** JSDoc */\n  function extractTransaction(req, type) {\n    switch (type) {\n      case 'path':\n        {\n          return extractPathForTransaction(req, {\n            path: true\n          })[0];\n        }\n      case 'handler':\n        {\n          return req.route && req.route.stack && req.route.stack[0] && req.route.stack[0].name || '<anonymous>';\n        }\n      case 'methodPath':\n      default:\n        {\n          return extractPathForTransaction(req, {\n            path: true,\n            method: true\n          })[0];\n        }\n    }\n  }\n\n  /** JSDoc */\n  function extractUserData(user, keys) {\n    var extractedUser = {};\n    var attributes = Array.isArray(keys) ? keys : DEFAULT_USER_INCLUDES;\n    attributes.forEach(key => {\n      if (user && key in user) {\n        extractedUser[key] = user[key];\n      }\n    });\n    return extractedUser;\n  }\n\n  /**\n   * Normalize data from the request object, accounting for framework differences.\n   *\n   * @param req The request object from which to extract data\n   * @param options.include An optional array of keys to include in the normalized data. Defaults to\n   * DEFAULT_REQUEST_INCLUDES if not provided.\n   * @param options.deps Injected, platform-specific dependencies\n   * @returns An object containing normalized request data\n   */\n  function extractRequestData(req, options) {\n    var _ref = options || {},\n      _ref$include = _ref.include,\n      include = _ref$include === void 0 ? DEFAULT_REQUEST_INCLUDES : _ref$include,\n      deps = _ref.deps;\n    var requestData = {};\n\n    // headers:\n    //   node, express, koa, nextjs: req.headers\n    var headers = req.headers || {};\n    // method:\n    //   node, express, koa, nextjs: req.method\n    var method = req.method;\n    // host:\n    //   express: req.hostname in > 4 and req.host in < 4\n    //   koa: req.host\n    //   node, nextjs: req.headers.host\n    var host = req.hostname || req.host || headers.host || '<no host>';\n    // protocol:\n    //   node, nextjs: <n/a>\n    //   express, koa: req.protocol\n    var protocol = req.protocol === 'https' || req.socket && req.socket.encrypted ? 'https' : 'http';\n    // url (including path and query string):\n    //   node, express: req.originalUrl\n    //   koa, nextjs: req.url\n    var originalUrl = req.originalUrl || req.url || '';\n    // absolute url\n    var absoluteUrl = `${protocol}://${host}${originalUrl}`;\n    include.forEach(key => {\n      switch (key) {\n        case 'headers':\n          {\n            requestData.headers = headers;\n            break;\n          }\n        case 'method':\n          {\n            requestData.method = method;\n            break;\n          }\n        case 'url':\n          {\n            requestData.url = absoluteUrl;\n            break;\n          }\n        case 'cookies':\n          {\n            // cookies:\n            //   node, express, koa: req.headers.cookie\n            //   vercel, sails.js, express (w/ cookie middleware), nextjs: req.cookies\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            requestData.cookies =\n            // TODO (v8 / #5257): We're only sending the empty object for backwards compatibility, so the last bit can\n            // come off in v8\n            req.cookies || headers.cookie && deps && deps.cookie && deps.cookie.parse(headers.cookie) || {};\n            break;\n          }\n        case 'query_string':\n          {\n            // query string:\n            //   node: req.url (raw)\n            //   express, koa, nextjs: req.query\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            requestData.query_string = extractQueryParams(req, deps);\n            break;\n          }\n        case 'data':\n          {\n            if (method === 'GET' || method === 'HEAD') {\n              break;\n            }\n            // body data:\n            //   express, koa, nextjs: req.body\n            //\n            //   when using node by itself, you have to read the incoming stream(see\n            //   https://nodejs.dev/learn/get-http-request-body-data-using-nodejs); if a user is doing that, we can't know\n            //   where they're going to store the final result, so they'll have to capture this data themselves\n            if (req.body !== undefined) {\n              requestData.data = is.isString(req.body) ? req.body : JSON.stringify(normalize.normalize(req.body));\n            }\n            break;\n          }\n        default:\n          {\n            if ({}.hasOwnProperty.call(req, key)) {\n              requestData[key] = req[key];\n            }\n          }\n      }\n    });\n    return requestData;\n  }\n\n  /**\n   * Options deciding what parts of the request to use when enhancing an event\n   */\n\n  /**\n   * Add data from the given request to the given event\n   *\n   * @param event The event to which the request data will be added\n   * @param req Request object\n   * @param options.include Flags to control what data is included\n   * @param options.deps Injected platform-specific dependencies\n   * @hidden\n   */\n  function addRequestDataToEvent(event, req, options) {\n    var include = {\n      ...DEFAULT_INCLUDES,\n      ...(options && options.include)\n    };\n    if (include.request) {\n      var extractedRequestData = Array.isArray(include.request) ? extractRequestData(req, {\n        include: include.request,\n        deps: options && options.deps\n      }) : extractRequestData(req, {\n        deps: options && options.deps\n      });\n      event.request = {\n        ...event.request,\n        ...extractedRequestData\n      };\n    }\n    if (include.user) {\n      var extractedUser = req.user && is.isPlainObject(req.user) ? extractUserData(req.user, include.user) : {};\n      if (Object.keys(extractedUser).length) {\n        event.user = {\n          ...event.user,\n          ...extractedUser\n        };\n      }\n    }\n\n    // client ip:\n    //   node, nextjs: req.socket.remoteAddress\n    //   express, koa: req.ip\n    if (include.ip) {\n      var ip = req.ip || req.socket && req.socket.remoteAddress;\n      if (ip) {\n        event.user = {\n          ...event.user,\n          ip_address: ip\n        };\n      }\n    }\n    if (include.transaction && !event.transaction) {\n      // TODO do we even need this anymore?\n      // TODO make this work for nextjs\n      event.transaction = extractTransaction(req, include.transaction);\n    }\n    return event;\n  }\n  function extractQueryParams(req, deps) {\n    // url (including path and query string):\n    //   node, express: req.originalUrl\n    //   koa, nextjs: req.url\n    var originalUrl = req.originalUrl || req.url || '';\n    if (!originalUrl) {\n      return;\n    }\n\n    // The `URL` constructor can't handle internal URLs of the form `/some/path/here`, so stick a dummy protocol and\n    // hostname on the beginning. Since the point here is just to grab the query string, it doesn't matter what we use.\n    if (originalUrl.startsWith('/')) {\n      originalUrl = `http://dogs.are.great${originalUrl}`;\n    }\n    return req.query || typeof URL !== undefined && new URL(originalUrl).search.replace('?', '') ||\n    // In Node 8, `URL` isn't in the global scope, so we have to use the built-in module from Node\n    deps && deps.url && deps.url.parse(originalUrl).query || undefined;\n  }\n  exports.addRequestDataToEvent = addRequestDataToEvent;\n  exports.addRequestDataToTransaction = addRequestDataToTransaction;\n  exports.extractPathForTransaction = extractPathForTransaction;\n  exports.extractRequestData = extractRequestData;\n});","lineCount":299,"map":[[2,2,1,0,"Object"],[2,8,1,6],[2,9,1,7,"defineProperty"],[2,23,1,21],[2,24,1,22,"exports"],[2,31,1,29],[2,33,1,31],[2,45,1,43],[2,47,1,45],[3,4,1,47,"value"],[3,9,1,52],[3,11,1,54],[4,2,1,59],[4,3,1,60],[4,4,1,61],[5,2,3,0],[5,6,3,6,"is"],[5,8,3,8],[5,11,3,11,"require"],[5,18,3,18],[5,19,3,18,"_dependencyMap"],[5,33,3,18],[5,47,3,28],[5,48,3,29],[6,2,4,0],[6,6,4,6,"normalize"],[6,15,4,15],[6,18,4,18,"require"],[6,25,4,25],[6,26,4,25,"_dependencyMap"],[6,40,4,25],[6,61,4,42],[6,62,4,43],[7,2,5,0],[7,6,5,6,"url"],[7,9,5,9],[7,12,5,12,"require"],[7,19,5,19],[7,20,5,19,"_dependencyMap"],[7,34,5,19],[7,49,5,30],[7,50,5,31],[8,2,7,0],[8,6,7,6,"DEFAULT_INCLUDES"],[8,22,7,22],[8,25,7,25],[9,4,8,2,"ip"],[9,6,8,4],[9,8,8,6],[9,13,8,11],[10,4,9,2,"request"],[10,11,9,9],[10,13,9,11],[10,17,9,15],[11,4,10,2,"transaction"],[11,15,10,13],[11,17,10,15],[11,21,10,19],[12,4,11,2,"user"],[12,8,11,6],[12,10,11,8],[13,2,12,0],[13,3,12,1],[14,2,13,0],[14,6,13,6,"DEFAULT_REQUEST_INCLUDES"],[14,30,13,30],[14,33,13,33],[14,34,13,34],[14,43,13,43],[14,45,13,45],[14,51,13,51],[14,53,13,53],[14,62,13,62],[14,64,13,64],[14,72,13,72],[14,74,13,74],[14,88,13,88],[14,90,13,90],[14,95,13,95],[14,96,13,96],[15,2,14,0],[15,6,14,6,"DEFAULT_USER_INCLUDES"],[15,27,14,27],[15,30,14,30],[15,31,14,31],[15,35,14,35],[15,37,14,37],[15,47,14,47],[15,49,14,49],[15,56,14,56],[15,57,14,57],[17,2,16,0],[18,0,17,0],[19,0,18,0],[20,0,19,0],[21,2,20,0],[21,11,20,9,"addRequestDataToTransaction"],[21,38,20,36,"addRequestDataToTransaction"],[21,39,21,2,"transaction"],[21,50,21,13],[21,52,22,2,"req"],[21,55,22,5],[21,57,23,2,"deps"],[21,61,23,6],[21,63,24,2],[22,4,25,2],[22,8,25,6],[22,9,25,7,"transaction"],[22,20,25,18],[22,22,25,20],[23,4,26,2],[23,8,26,6],[23,9,26,7,"transaction"],[23,20,26,18],[23,21,26,19,"metadata"],[23,29,26,27],[23,30,26,28,"source"],[23,36,26,34],[23,40,26,38,"transaction"],[23,51,26,49],[23,52,26,50,"metadata"],[23,60,26,58],[23,61,26,59,"source"],[23,67,26,65],[23,72,26,70],[23,77,26,75],[23,79,26,77],[24,6,27,4],[25,6,28,4,"transaction"],[25,17,28,15],[25,18,28,16,"setName"],[25,25,28,23],[25,26,28,24],[25,29,28,27,"extractPathForTransaction"],[25,54,28,52],[25,55,28,53,"req"],[25,58,28,56],[25,60,28,58],[26,8,28,60,"path"],[26,12,28,64],[26,14,28,66],[26,18,28,70],[27,8,28,72,"method"],[27,14,28,78],[27,16,28,80],[28,6,28,85],[28,7,28,86],[28,8,28,87],[28,9,28,88],[29,4,29,2],[30,4,30,2,"transaction"],[30,15,30,13],[30,16,30,14,"setData"],[30,23,30,21],[30,24,30,22],[30,29,30,27],[30,31,30,29,"req"],[30,34,30,32],[30,35,30,33,"originalUrl"],[30,46,30,44],[30,50,30,48,"req"],[30,53,30,51],[30,54,30,52,"url"],[30,57,30,55],[30,58,30,56],[31,4,31,2],[31,8,31,6,"req"],[31,11,31,9],[31,12,31,10,"baseUrl"],[31,19,31,17],[31,21,31,19],[32,6,32,4,"transaction"],[32,17,32,15],[32,18,32,16,"setData"],[32,25,32,23],[32,26,32,24],[32,35,32,33],[32,37,32,35,"req"],[32,40,32,38],[32,41,32,39,"baseUrl"],[32,48,32,46],[32,49,32,47],[33,4,33,2],[34,4,34,2,"transaction"],[34,15,34,13],[34,16,34,14,"setData"],[34,23,34,21],[34,24,34,22],[34,31,34,29],[34,33,34,31,"extractQueryParams"],[34,51,34,49],[34,52,34,50,"req"],[34,55,34,53],[34,57,34,55,"deps"],[34,61,34,59],[34,62,34,60],[34,63,34,61],[35,2,35,0],[37,2,37,0],[38,0,38,0],[39,0,39,0],[40,0,40,0],[41,0,41,0],[42,0,42,0],[43,0,43,0],[44,0,44,0],[45,0,45,0],[46,0,46,0],[47,0,47,0],[48,0,48,0],[49,0,49,0],[50,0,50,0],[51,2,51,0],[51,11,51,9,"extractPathForTransaction"],[51,36,51,34,"extractPathForTransaction"],[51,37,52,2,"req"],[51,40,52,5],[51,42,54,2],[52,4,54,2],[52,8,53,2,"options"],[52,15,53,9],[52,18,53,9,"arguments"],[52,27,53,9],[52,28,53,9,"length"],[52,34,53,9],[52,42,53,9,"arguments"],[52,51,53,9],[52,59,53,9,"undefined"],[52,68,53,9],[52,71,53,9,"arguments"],[52,80,53,9],[52,86,53,12],[52,87,53,13],[52,88,53,14],[53,4,55,2],[53,8,55,8,"method"],[53,14,55,14],[53,17,55,17,"req"],[53,20,55,20],[53,21,55,21,"method"],[53,27,55,27],[53,31,55,31,"req"],[53,34,55,34],[53,35,55,35,"method"],[53,41,55,41],[53,42,55,42,"toUpperCase"],[53,53,55,53],[53,54,55,54],[53,55,55,55],[54,4,57,2],[54,8,57,6,"path"],[54,12,57,10],[54,15,57,13],[54,17,57,15],[55,4,58,2],[55,8,58,6,"source"],[55,14,58,12],[55,17,58,15],[55,22,58,20],[57,4,60,2],[58,4,61,2],[58,8,61,6,"options"],[58,15,61,13],[58,16,61,14,"customRoute"],[58,27,61,25],[58,31,61,29,"req"],[58,34,61,32],[58,35,61,33,"route"],[58,40,61,38],[58,42,61,40],[59,6,62,4,"path"],[59,10,62,8],[59,13,62,11,"options"],[59,20,62,18],[59,21,62,19,"customRoute"],[59,32,62,30],[59,36,62,34],[59,39,62,37,"req"],[59,42,62,40],[59,43,62,41,"baseUrl"],[59,50,62,48],[59,54,62,52],[59,56,62,54],[59,59,62,57,"req"],[59,62,62,60],[59,63,62,61,"route"],[59,68,62,66],[59,72,62,70,"req"],[59,75,62,73],[59,76,62,74,"route"],[59,81,62,79],[59,82,62,80,"path"],[59,86,62,84],[59,88,62,86],[60,6,63,4,"source"],[60,12,63,10],[60,15,63,13],[60,22,63,20],[61,4,64,2],[63,4,66,2],[64,4,66,2],[64,9,67,7],[64,13,67,11,"req"],[64,16,67,14],[64,17,67,15,"originalUrl"],[64,28,67,26],[64,32,67,30,"req"],[64,35,67,33],[64,36,67,34,"url"],[64,39,67,37],[64,41,67,39],[65,6,68,4,"path"],[65,10,68,8],[65,13,68,11,"url"],[65,16,68,14],[65,17,68,15,"stripUrlQueryAndFragment"],[65,41,68,39],[65,42,68,40,"req"],[65,45,68,43],[65,46,68,44,"originalUrl"],[65,57,68,55],[65,61,68,59,"req"],[65,64,68,62],[65,65,68,63,"url"],[65,68,68,66],[65,72,68,70],[65,74,68,72],[65,75,68,73],[66,4,69,2],[67,4,71,2],[67,8,71,6,"name"],[67,12,71,10],[67,15,71,13],[67,17,71,15],[68,4,72,2],[68,8,72,6,"options"],[68,15,72,13],[68,16,72,14,"method"],[68,22,72,20],[68,26,72,24,"method"],[68,32,72,30],[68,34,72,32],[69,6,73,4,"name"],[69,10,73,8],[69,14,73,12,"method"],[69,20,73,18],[70,4,74,2],[71,4,75,2],[71,8,75,6,"options"],[71,15,75,13],[71,16,75,14,"method"],[71,22,75,20],[71,26,75,24,"options"],[71,33,75,31],[71,34,75,32,"path"],[71,38,75,36],[71,40,75,38],[72,6,76,4,"name"],[72,10,76,8],[72,14,76,12],[72,17,76,15],[73,4,77,2],[74,4,78,2],[74,8,78,6,"options"],[74,15,78,13],[74,16,78,14,"path"],[74,20,78,18],[74,24,78,22,"path"],[74,28,78,26],[74,30,78,28],[75,6,79,4,"name"],[75,10,79,8],[75,14,79,12,"path"],[75,18,79,16],[76,4,80,2],[77,4,82,2],[77,11,82,9],[77,12,82,10,"name"],[77,16,82,14],[77,18,82,16,"source"],[77,24,82,22],[77,25,82,23],[78,2,83,0],[80,2,85,0],[81,2,86,0],[81,11,86,9,"extractTransaction"],[81,29,86,27,"extractTransaction"],[81,30,86,28,"req"],[81,33,86,31],[81,35,86,33,"type"],[81,39,86,37],[81,41,86,39],[82,4,87,2],[82,12,87,10,"type"],[82,16,87,14],[83,6,88,4],[83,11,88,9],[83,17,88,15],[84,8,88,17],[85,10,89,6],[85,17,89,13,"extractPathForTransaction"],[85,42,89,38],[85,43,89,39,"req"],[85,46,89,42],[85,48,89,44],[86,12,89,46,"path"],[86,16,89,50],[86,18,89,52],[87,10,89,57],[87,11,89,58],[87,12,89,59],[87,13,89,60],[87,14,89,61],[87,15,89,62],[88,8,90,4],[89,6,91,4],[89,11,91,9],[89,20,91,18],[90,8,91,20],[91,10,92,6],[91,17,92,14,"req"],[91,20,92,17],[91,21,92,18,"route"],[91,26,92,23],[91,30,92,27,"req"],[91,33,92,30],[91,34,92,31,"route"],[91,39,92,36],[91,40,92,37,"stack"],[91,45,92,42],[91,49,92,46,"req"],[91,52,92,49],[91,53,92,50,"route"],[91,58,92,55],[91,59,92,56,"stack"],[91,64,92,61],[91,65,92,62],[91,66,92,63],[91,67,92,64],[91,71,92,68,"req"],[91,74,92,71],[91,75,92,72,"route"],[91,80,92,77],[91,81,92,78,"stack"],[91,86,92,83],[91,87,92,84],[91,88,92,85],[91,89,92,86],[91,90,92,87,"name"],[91,94,92,91],[91,98,92,96],[91,111,92,109],[92,8,93,4],[93,6,94,4],[93,11,94,9],[93,23,94,21],[94,6,95,4],[95,8,95,13],[96,10,96,6],[96,17,96,13,"extractPathForTransaction"],[96,42,96,38],[96,43,96,39,"req"],[96,46,96,42],[96,48,96,44],[97,12,96,46,"path"],[97,16,96,50],[97,18,96,52],[97,22,96,56],[98,12,96,58,"method"],[98,18,96,64],[98,20,96,66],[99,10,96,71],[99,11,96,72],[99,12,96,73],[99,13,96,74],[99,14,96,75],[99,15,96,76],[100,8,97,4],[101,4,98,2],[102,2,99,0],[104,2,101,0],[105,2,102,0],[105,11,102,9,"extractUserData"],[105,26,102,24,"extractUserData"],[105,27,103,2,"user"],[105,31,103,6],[105,33,106,2,"keys"],[105,37,106,6],[105,39,107,2],[106,4,108,2],[106,8,108,8,"extractedUser"],[106,21,108,21],[106,24,108,24],[106,25,108,25],[106,26,108,26],[107,4,109,2],[107,8,109,8,"attributes"],[107,18,109,18],[107,21,109,21,"Array"],[107,26,109,26],[107,27,109,27,"isArray"],[107,34,109,34],[107,35,109,35,"keys"],[107,39,109,39],[107,40,109,40],[107,43,109,43,"keys"],[107,47,109,47],[107,50,109,50,"DEFAULT_USER_INCLUDES"],[107,71,109,71],[108,4,111,2,"attributes"],[108,14,111,12],[108,15,111,13,"forEach"],[108,22,111,20],[108,23,111,21,"key"],[108,26,111,24],[108,30,111,28],[109,6,112,4],[109,10,112,8,"user"],[109,14,112,12],[109,18,112,16,"key"],[109,21,112,19],[109,25,112,23,"user"],[109,29,112,27],[109,31,112,29],[110,8,113,6,"extractedUser"],[110,21,113,19],[110,22,113,20,"key"],[110,25,113,23],[110,26,113,24],[110,29,113,27,"user"],[110,33,113,31],[110,34,113,32,"key"],[110,37,113,35],[110,38,113,36],[111,6,114,4],[112,4,115,2],[112,5,115,3],[112,6,115,4],[113,4,117,2],[113,11,117,9,"extractedUser"],[113,24,117,22],[114,2,118,0],[116,2,120,0],[117,0,121,0],[118,0,122,0],[119,0,123,0],[120,0,124,0],[121,0,125,0],[122,0,126,0],[123,0,127,0],[124,0,128,0],[125,2,129,0],[125,11,129,9,"extractRequestData"],[125,29,129,27,"extractRequestData"],[125,30,130,2,"req"],[125,33,130,5],[125,35,131,2,"options"],[125,42,131,9],[125,44,134,2],[126,4,135,2],[126,8,135,2,"_ref"],[126,12,135,2],[126,15,135,55,"options"],[126,22,135,62],[126,26,135,66],[126,27,135,67],[126,28,135,68],[127,6,135,68,"_ref$include"],[127,18,135,68],[127,21,135,68,"_ref"],[127,25,135,68],[127,26,135,10,"include"],[127,33,135,17],[128,6,135,10,"include"],[128,13,135,17],[128,16,135,17,"_ref$include"],[128,28,135,17],[128,42,135,20,"DEFAULT_REQUEST_INCLUDES"],[128,66,135,44],[128,69,135,44,"_ref$include"],[128,81,135,44],[129,6,135,46,"deps"],[129,10,135,50],[129,13,135,50,"_ref"],[129,17,135,50],[129,18,135,46,"deps"],[129,22,135,50],[130,4,136,2],[130,8,136,8,"requestData"],[130,19,136,19],[130,22,136,22],[130,23,136,23],[130,24,136,24],[132,4,138,2],[133,4,139,2],[134,4,140,2],[134,8,140,8,"headers"],[134,15,140,15],[134,18,140,19,"req"],[134,21,140,22],[134,22,140,23,"headers"],[134,29,140,30],[134,33,140,34],[134,34,140,35],[134,35,140,37],[135,4,143,2],[136,4,144,2],[137,4,145,2],[137,8,145,8,"method"],[137,14,145,14],[137,17,145,17,"req"],[137,20,145,20],[137,21,145,21,"method"],[137,27,145,27],[138,4,146,2],[139,4,147,2],[140,4,148,2],[141,4,149,2],[142,4,150,2],[142,8,150,8,"host"],[142,12,150,12],[142,15,150,15,"req"],[142,18,150,18],[142,19,150,19,"hostname"],[142,27,150,27],[142,31,150,31,"req"],[142,34,150,34],[142,35,150,35,"host"],[142,39,150,39],[142,43,150,43,"headers"],[142,50,150,50],[142,51,150,51,"host"],[142,55,150,55],[142,59,150,59],[142,70,150,70],[143,4,151,2],[144,4,152,2],[145,4,153,2],[146,4,154,2],[146,8,154,8,"protocol"],[146,16,154,16],[146,19,154,19,"req"],[146,22,154,22],[146,23,154,23,"protocol"],[146,31,154,31],[146,36,154,36],[146,43,154,43],[146,47,154,48,"req"],[146,50,154,51],[146,51,154,52,"socket"],[146,57,154,58],[146,61,154,62,"req"],[146,64,154,65],[146,65,154,66,"socket"],[146,71,154,72],[146,72,154,73,"encrypted"],[146,81,154,83],[146,84,154,86],[146,91,154,93],[146,94,154,96],[146,100,154,102],[147,4,155,2],[148,4,156,2],[149,4,157,2],[150,4,158,2],[150,8,158,8,"originalUrl"],[150,19,158,19],[150,22,158,22,"req"],[150,25,158,25],[150,26,158,26,"originalUrl"],[150,37,158,37],[150,41,158,41,"req"],[150,44,158,44],[150,45,158,45,"url"],[150,48,158,48],[150,52,158,52],[150,54,158,54],[151,4,159,2],[152,4,160,2],[152,8,160,8,"absoluteUrl"],[152,19,160,19],[152,22,160,22],[152,25,160,25,"protocol"],[152,33,160,33],[152,39,160,39,"host"],[152,43,160,43],[152,46,160,46,"originalUrl"],[152,57,160,57],[152,59,160,59],[153,4,161,2,"include"],[153,11,161,9],[153,12,161,10,"forEach"],[153,19,161,17],[153,20,161,18,"key"],[153,23,161,21],[153,27,161,25],[154,6,162,4],[154,14,162,12,"key"],[154,17,162,15],[155,8,163,6],[155,13,163,11],[155,22,163,20],[156,10,163,22],[157,12,164,8,"requestData"],[157,23,164,19],[157,24,164,20,"headers"],[157,31,164,27],[157,34,164,30,"headers"],[157,41,164,37],[158,12,165,8],[159,10,166,6],[160,8,167,6],[160,13,167,11],[160,21,167,19],[161,10,167,21],[162,12,168,8,"requestData"],[162,23,168,19],[162,24,168,20,"method"],[162,30,168,26],[162,33,168,29,"method"],[162,39,168,35],[163,12,169,8],[164,10,170,6],[165,8,171,6],[165,13,171,11],[165,18,171,16],[166,10,171,18],[167,12,172,8,"requestData"],[167,23,172,19],[167,24,172,20,"url"],[167,27,172,23],[167,30,172,26,"absoluteUrl"],[167,41,172,37],[168,12,173,8],[169,10,174,6],[170,8,175,6],[170,13,175,11],[170,22,175,20],[171,10,175,22],[172,12,176,8],[173,12,177,8],[174,12,178,8],[175,12,179,8],[176,12,180,8,"requestData"],[176,23,180,19],[176,24,180,20,"cookies"],[176,31,180,27],[177,12,181,10],[178,12,182,10],[179,12,183,10,"req"],[179,15,183,13],[179,16,183,14,"cookies"],[179,23,183,21],[179,27,183,26,"headers"],[179,34,183,33],[179,35,183,34,"cookie"],[179,41,183,40],[179,45,183,44,"deps"],[179,49,183,48],[179,53,183,52,"deps"],[179,57,183,56],[179,58,183,57,"cookie"],[179,64,183,63],[179,68,183,67,"deps"],[179,72,183,71],[179,73,183,72,"cookie"],[179,79,183,78],[179,80,183,79,"parse"],[179,85,183,84],[179,86,183,85,"headers"],[179,93,183,92],[179,94,183,93,"cookie"],[179,100,183,99],[179,101,183,101],[179,105,183,105],[179,106,183,106],[179,107,183,107],[180,12,184,8],[181,10,185,6],[182,8,186,6],[182,13,186,11],[182,27,186,25],[183,10,186,27],[184,12,187,8],[185,12,188,8],[186,12,189,8],[187,12,190,8],[188,12,191,8,"requestData"],[188,23,191,19],[188,24,191,20,"query_string"],[188,36,191,32],[188,39,191,35,"extractQueryParams"],[188,57,191,53],[188,58,191,54,"req"],[188,61,191,57],[188,63,191,59,"deps"],[188,67,191,63],[188,68,191,64],[189,12,192,8],[190,10,193,6],[191,8,194,6],[191,13,194,11],[191,19,194,17],[192,10,194,19],[193,12,195,8],[193,16,195,12,"method"],[193,22,195,18],[193,27,195,23],[193,32,195,28],[193,36,195,32,"method"],[193,42,195,38],[193,47,195,43],[193,53,195,49],[193,55,195,51],[194,14,196,10],[195,12,197,8],[196,12,198,8],[197,12,199,8],[198,12,200,8],[199,12,201,8],[200,12,202,8],[201,12,203,8],[202,12,204,8],[202,16,204,12,"req"],[202,19,204,15],[202,20,204,16,"body"],[202,24,204,20],[202,29,204,25,"undefined"],[202,38,204,34],[202,40,204,36],[203,14,205,10,"requestData"],[203,25,205,21],[203,26,205,22,"data"],[203,30,205,26],[203,33,205,29,"is"],[203,35,205,31],[203,36,205,32,"isString"],[203,44,205,40],[203,45,205,41,"req"],[203,48,205,44],[203,49,205,45,"body"],[203,53,205,49],[203,54,205,50],[203,57,205,53,"req"],[203,60,205,56],[203,61,205,57,"body"],[203,65,205,61],[203,68,205,64,"JSON"],[203,72,205,68],[203,73,205,69,"stringify"],[203,82,205,78],[203,83,205,79,"normalize"],[203,92,205,88],[203,93,205,89,"normalize"],[203,102,205,98],[203,103,205,99,"req"],[203,106,205,102],[203,107,205,103,"body"],[203,111,205,107],[203,112,205,108],[203,113,205,109],[204,12,206,8],[205,12,207,8],[206,10,208,6],[207,8,209,6],[208,10,209,15],[209,12,210,8],[209,16,210,12],[209,17,210,13],[209,18,210,14],[209,19,210,15,"hasOwnProperty"],[209,33,210,29],[209,34,210,30,"call"],[209,38,210,34],[209,39,210,35,"req"],[209,42,210,38],[209,44,210,40,"key"],[209,47,210,43],[209,48,210,44],[209,50,210,46],[210,14,211,10,"requestData"],[210,25,211,21],[210,26,211,22,"key"],[210,29,211,25],[210,30,211,26],[210,33,211,30,"req"],[210,36,211,33],[210,37,211,36,"key"],[210,40,211,39],[210,41,211,40],[211,12,212,8],[212,10,213,6],[213,6,214,4],[214,4,215,2],[214,5,215,3],[214,6,215,4],[215,4,217,2],[215,11,217,9,"requestData"],[215,22,217,20],[216,2,218,0],[218,2,220,0],[219,0,221,0],[220,0,222,0],[222,2,224,0],[223,0,225,0],[224,0,226,0],[225,0,227,0],[226,0,228,0],[227,0,229,0],[228,0,230,0],[229,0,231,0],[230,0,232,0],[231,2,233,0],[231,11,233,9,"addRequestDataToEvent"],[231,32,233,30,"addRequestDataToEvent"],[231,33,234,2,"event"],[231,38,234,7],[231,40,235,2,"req"],[231,43,235,5],[231,45,236,2,"options"],[231,52,236,9],[231,54,237,2],[232,4,238,2],[232,8,238,8,"include"],[232,15,238,15],[232,18,238,18],[233,6,239,4],[233,9,239,7,"DEFAULT_INCLUDES"],[233,25,239,23],[234,6,240,4],[234,10,240,8,"options"],[234,17,240,15],[234,21,240,19,"options"],[234,28,240,26],[234,29,240,27,"include"],[234,36,240,34],[235,4,241,2],[235,5,241,3],[236,4,243,2],[236,8,243,6,"include"],[236,15,243,13],[236,16,243,14,"request"],[236,23,243,21],[236,25,243,23],[237,6,244,4],[237,10,244,10,"extractedRequestData"],[237,30,244,30],[237,33,244,33,"Array"],[237,38,244,38],[237,39,244,39,"isArray"],[237,46,244,46],[237,47,244,47,"include"],[237,54,244,54],[237,55,244,55,"request"],[237,62,244,62],[237,63,244,63],[237,66,245,8,"extractRequestData"],[237,84,245,26],[237,85,245,27,"req"],[237,88,245,30],[237,90,245,32],[238,8,245,34,"include"],[238,15,245,41],[238,17,245,43,"include"],[238,24,245,50],[238,25,245,51,"request"],[238,32,245,58],[239,8,245,60,"deps"],[239,12,245,64],[239,14,245,66,"options"],[239,21,245,73],[239,25,245,77,"options"],[239,32,245,84],[239,33,245,85,"deps"],[240,6,245,90],[240,7,245,91],[240,8,245,92],[240,11,246,8,"extractRequestData"],[240,29,246,26],[240,30,246,27,"req"],[240,33,246,30],[240,35,246,32],[241,8,246,34,"deps"],[241,12,246,38],[241,14,246,40,"options"],[241,21,246,47],[241,25,246,51,"options"],[241,32,246,58],[241,33,246,59,"deps"],[242,6,246,64],[242,7,246,65],[242,8,246,66],[243,6,248,4,"event"],[243,11,248,9],[243,12,248,10,"request"],[243,19,248,17],[243,22,248,20],[244,8,249,6],[244,11,249,9,"event"],[244,16,249,14],[244,17,249,15,"request"],[244,24,249,22],[245,8,250,6],[245,11,250,9,"extractedRequestData"],[246,6,251,4],[246,7,251,5],[247,4,252,2],[248,4,254,2],[248,8,254,6,"include"],[248,15,254,13],[248,16,254,14,"user"],[248,20,254,18],[248,22,254,20],[249,6,255,4],[249,10,255,10,"extractedUser"],[249,23,255,23],[249,26,255,26,"req"],[249,29,255,29],[249,30,255,30,"user"],[249,34,255,34],[249,38,255,38,"is"],[249,40,255,40],[249,41,255,41,"isPlainObject"],[249,54,255,54],[249,55,255,55,"req"],[249,58,255,58],[249,59,255,59,"user"],[249,63,255,63],[249,64,255,64],[249,67,255,67,"extractUserData"],[249,82,255,82],[249,83,255,83,"req"],[249,86,255,86],[249,87,255,87,"user"],[249,91,255,91],[249,93,255,93,"include"],[249,100,255,100],[249,101,255,101,"user"],[249,105,255,105],[249,106,255,106],[249,109,255,109],[249,110,255,110],[249,111,255,111],[250,6,257,4],[250,10,257,8,"Object"],[250,16,257,14],[250,17,257,15,"keys"],[250,21,257,19],[250,22,257,20,"extractedUser"],[250,35,257,33],[250,36,257,34],[250,37,257,35,"length"],[250,43,257,41],[250,45,257,43],[251,8,258,6,"event"],[251,13,258,11],[251,14,258,12,"user"],[251,18,258,16],[251,21,258,19],[252,10,259,8],[252,13,259,11,"event"],[252,18,259,16],[252,19,259,17,"user"],[252,23,259,21],[253,10,260,8],[253,13,260,11,"extractedUser"],[254,8,261,6],[254,9,261,7],[255,6,262,4],[256,4,263,2],[258,4,265,2],[259,4,266,2],[260,4,267,2],[261,4,268,2],[261,8,268,6,"include"],[261,15,268,13],[261,16,268,14,"ip"],[261,18,268,16],[261,20,268,18],[262,6,269,4],[262,10,269,10,"ip"],[262,12,269,12],[262,15,269,15,"req"],[262,18,269,18],[262,19,269,19,"ip"],[262,21,269,21],[262,25,269,26,"req"],[262,28,269,29],[262,29,269,30,"socket"],[262,35,269,36],[262,39,269,40,"req"],[262,42,269,43],[262,43,269,44,"socket"],[262,49,269,50],[262,50,269,51,"remoteAddress"],[262,63,269,65],[263,6,270,4],[263,10,270,8,"ip"],[263,12,270,10],[263,14,270,12],[264,8,271,6,"event"],[264,13,271,11],[264,14,271,12,"user"],[264,18,271,16],[264,21,271,19],[265,10,272,8],[265,13,272,11,"event"],[265,18,272,16],[265,19,272,17,"user"],[265,23,272,21],[266,10,273,8,"ip_address"],[266,20,273,18],[266,22,273,20,"ip"],[267,8,274,6],[267,9,274,7],[268,6,275,4],[269,4,276,2],[270,4,278,2],[270,8,278,6,"include"],[270,15,278,13],[270,16,278,14,"transaction"],[270,27,278,25],[270,31,278,29],[270,32,278,30,"event"],[270,37,278,35],[270,38,278,36,"transaction"],[270,49,278,47],[270,51,278,49],[271,6,279,4],[272,6,280,4],[273,6,281,4,"event"],[273,11,281,9],[273,12,281,10,"transaction"],[273,23,281,21],[273,26,281,24,"extractTransaction"],[273,44,281,42],[273,45,281,43,"req"],[273,48,281,46],[273,50,281,48,"include"],[273,57,281,55],[273,58,281,56,"transaction"],[273,69,281,67],[273,70,281,68],[274,4,282,2],[275,4,284,2],[275,11,284,9,"event"],[275,16,284,14],[276,2,285,0],[277,2,287,0],[277,11,287,9,"extractQueryParams"],[277,29,287,27,"extractQueryParams"],[277,30,288,2,"req"],[277,33,288,5],[277,35,289,2,"deps"],[277,39,289,6],[277,41,290,2],[278,4,291,2],[279,4,292,2],[280,4,293,2],[281,4,294,2],[281,8,294,6,"originalUrl"],[281,19,294,17],[281,22,294,20,"req"],[281,25,294,23],[281,26,294,24,"originalUrl"],[281,37,294,35],[281,41,294,39,"req"],[281,44,294,42],[281,45,294,43,"url"],[281,48,294,46],[281,52,294,50],[281,54,294,52],[282,4,296,2],[282,8,296,6],[282,9,296,7,"originalUrl"],[282,20,296,18],[282,22,296,20],[283,6,297,4],[284,4,298,2],[286,4,300,2],[287,4,301,2],[288,4,302,2],[288,8,302,6,"originalUrl"],[288,19,302,17],[288,20,302,18,"startsWith"],[288,30,302,28],[288,31,302,29],[288,34,302,32],[288,35,302,33],[288,37,302,35],[289,6,303,4,"originalUrl"],[289,17,303,15],[289,20,303,18],[289,44,303,42,"originalUrl"],[289,55,303,53],[289,57,303,55],[290,4,304,2],[291,4,306,2],[291,11,307,4,"req"],[291,14,307,7],[291,15,307,8,"query"],[291,20,307,13],[291,24,308,5],[291,31,308,12,"URL"],[291,34,308,15],[291,39,308,20,"undefined"],[291,48,308,29],[291,52,308,33],[291,56,308,37,"URL"],[291,59,308,40],[291,60,308,41,"originalUrl"],[291,71,308,52],[291,72,308,53],[291,73,308,54,"search"],[291,79,308,60],[291,80,308,61,"replace"],[291,87,308,68],[291,88,308,69],[291,91,308,72],[291,93,308,74],[291,95,308,76],[291,96,308,78],[292,4,309,4],[293,4,310,5,"deps"],[293,8,310,9],[293,12,310,13,"deps"],[293,16,310,17],[293,17,310,18,"url"],[293,20,310,21],[293,24,310,25,"deps"],[293,28,310,29],[293,29,310,30,"url"],[293,32,310,33],[293,33,310,34,"parse"],[293,38,310,39],[293,39,310,40,"originalUrl"],[293,50,310,51],[293,51,310,52],[293,52,310,53,"query"],[293,57,310,59],[293,61,311,4,"undefined"],[293,70,311,13],[294,2,313,0],[295,2,315,0,"exports"],[295,9,315,7],[295,10,315,8,"addRequestDataToEvent"],[295,31,315,29],[295,34,315,32,"addRequestDataToEvent"],[295,55,315,53],[296,2,316,0,"exports"],[296,9,316,7],[296,10,316,8,"addRequestDataToTransaction"],[296,37,316,35],[296,40,316,38,"addRequestDataToTransaction"],[296,67,316,65],[297,2,317,0,"exports"],[297,9,317,7],[297,10,317,8,"extractPathForTransaction"],[297,35,317,33],[297,38,317,36,"extractPathForTransaction"],[297,63,317,61],[298,2,318,0,"exports"],[298,9,318,7],[298,10,318,8,"extractRequestData"],[298,28,318,26],[298,31,318,29,"extractRequestData"],[298,49,318,47],[299,0,318,48],[299,3]],"functionMap":{"names":["<global>","addRequestDataToTransaction","extractPathForTransaction","extractTransaction","extractUserData","attributes.forEach$argument_0","extractRequestData","include.forEach$argument_0","addRequestDataToEvent","extractQueryParams"],"mappings":"AAA;ACmB;CDe;AEgB;CFgC;AGG;CHa;AIG;qBCS;GDI;CJG;AMW;kBCgC;GDsD;CNG;AQe;CRoD;ASE;CT0B"},"hasCjsExports":true},"type":"js/module"}]}