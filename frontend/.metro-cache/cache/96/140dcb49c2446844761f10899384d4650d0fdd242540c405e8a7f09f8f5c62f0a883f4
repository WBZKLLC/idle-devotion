{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"tslib","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":34,"index":34}}],"key":"8R25577gwLd3n1hFG9VYnRLV9eE=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":52,"index":87}}],"key":"m+kcirlwHAgMIuUoyR2vCxbhWD4=","exportNames":["*"],"imports":1}},{"name":"../wrapper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":88},"end":{"line":3,"column":36,"index":124}}],"key":"3qo6tWpJLamBuMFs5ex6CktRJQ4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"Screenshot\", {\n    enumerable: true,\n    get: function () {\n      return Screenshot;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _tslib = require(_dependencyMap[2], \"tslib\");\n  var _sentryUtils = require(_dependencyMap[3], \"@sentry/utils\");\n  var _wrapper = require(_dependencyMap[4], \"../wrapper\");\n  /** Adds screenshots to error events */\n  var Screenshot = /*#__PURE__*/function () {\n    function Screenshot() {\n      (0, _classCallCheck.default)(this, Screenshot);\n      /**\n       * @inheritDoc\n       */\n      this.name = Screenshot.id;\n    }\n    /**\n     * If enabled attaches a screenshot to the event hint.\n     *\n     * @deprecated Screenshots are now added in global event processor.\n     */\n    return (0, _createClass.default)(Screenshot, [{\n      key: \"setupOnce\",\n      value:\n      /**\n       * @inheritDoc\n       */\n      function setupOnce(addGlobalEventProcessor) {\n        addGlobalEventProcessor((event, hint) => (0, _tslib.__awaiter)(this, void 0, void 0, function* () {\n          var hasException = event.exception && event.exception.values && event.exception.values.length > 0;\n          if (!hasException) {\n            return event;\n          }\n          var screenshots = yield _wrapper.NATIVE.captureScreenshot();\n          if (screenshots && screenshots.length > 0) {\n            hint.attachments = [...screenshots, ...((hint === null || hint === void 0 ? void 0 : hint.attachments) || [])];\n          }\n          return event;\n        }));\n      }\n    }], [{\n      key: \"attachScreenshotToEventHint\",\n      value: function attachScreenshotToEventHint(hint, _ref) {\n        var attachScreenshot = _ref.attachScreenshot;\n        if (!attachScreenshot) {\n          return (0, _sentryUtils.resolvedSyncPromise)(hint);\n        }\n        return _wrapper.NATIVE.captureScreenshot().then(screenshots => {\n          if (screenshots !== null && screenshots.length > 0) {\n            hint.attachments = [...screenshots, ...((hint === null || hint === void 0 ? void 0 : hint.attachments) || [])];\n          }\n          return hint;\n        });\n      }\n    }]);\n  }();\n  /**\n   * @inheritDoc\n   */\n  Screenshot.id = 'Screenshot';\n});","lineCount":78,"map":[[12,2,5,0,"Object"],[12,8,5,0],[12,9,5,0,"defineProperty"],[12,23,5,0],[12,24,5,0,"exports"],[12,31,5,0],[13,4,5,0,"enumerable"],[13,14,5,0],[14,4,5,0,"get"],[14,7,5,0],[14,18,5,0,"get"],[14,19,5,0],[15,6,5,0],[15,13,5,0,"Screenshot"],[15,23,5,0],[16,4,5,0],[17,2,5,0],[18,2,44,1],[18,6,44,1,"_babelRuntimeHelpersClassCallCheck"],[18,40,44,1],[18,43,44,1,"require"],[18,50,44,1],[18,51,44,1,"_dependencyMap"],[18,65,44,1],[19,2,44,1],[19,6,44,1,"_classCallCheck"],[19,21,44,1],[19,24,44,1,"_interopDefault"],[19,39,44,1],[19,40,44,1,"_babelRuntimeHelpersClassCallCheck"],[19,74,44,1],[20,2,44,1],[20,6,44,1,"_babelRuntimeHelpersCreateClass"],[20,37,44,1],[20,40,44,1,"require"],[20,47,44,1],[20,48,44,1,"_dependencyMap"],[20,62,44,1],[21,2,44,1],[21,6,44,1,"_createClass"],[21,18,44,1],[21,21,44,1,"_interopDefault"],[21,36,44,1],[21,37,44,1,"_babelRuntimeHelpersCreateClass"],[21,68,44,1],[22,2,1,0],[22,6,1,0,"_tslib"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_sentryUtils"],[23,18,2,0],[23,21,2,0,"require"],[23,28,2,0],[23,29,2,0,"_dependencyMap"],[23,43,2,0],[24,2,3,0],[24,6,3,0,"_wrapper"],[24,14,3,0],[24,17,3,0,"require"],[24,24,3,0],[24,25,3,0,"_dependencyMap"],[24,39,3,0],[25,2,4,0],[26,2,4,0],[26,6,5,13,"Screenshot"],[26,16,5,23],[27,4,6,4],[27,13,6,4,"Screenshot"],[27,24,6,4],[27,26,6,18],[28,6,6,18],[28,10,6,18,"_classCallCheck"],[28,25,6,18],[28,26,6,18,"default"],[28,33,6,18],[28,41,6,18,"Screenshot"],[28,51,6,18],[29,6,7,8],[30,0,8,0],[31,0,9,0],[32,6,10,8],[32,10,10,12],[32,11,10,13,"name"],[32,15,10,17],[32,18,10,20,"Screenshot"],[32,28,10,30],[32,29,10,31,"id"],[32,31,10,33],[33,4,11,4],[34,4,12,4],[35,0,13,0],[36,0,14,0],[37,0,15,0],[38,0,16,0],[39,4,12,4],[39,15,12,4,"_createClass"],[39,27,12,4],[39,28,12,4,"default"],[39,35,12,4],[39,37,12,4,"Screenshot"],[39,47,12,4],[40,6,12,4,"key"],[40,9,12,4],[41,6,12,4,"value"],[41,11,12,4],[42,6,28,4],[43,0,29,0],[44,0,30,0],[45,6,31,4],[45,15,31,4,"setupOnce"],[45,24,31,13,"setupOnce"],[45,25,31,14,"addGlobalEventProcessor"],[45,48,31,37],[45,50,31,39],[46,8,32,8,"addGlobalEventProcessor"],[46,31,32,31],[46,32,32,32],[46,33,32,33,"event"],[46,38,32,38],[46,40,32,40,"hint"],[46,44,32,44],[46,49,32,49],[46,53,32,49,"__awaiter"],[46,59,32,58],[46,60,32,58,"__awaiter"],[46,69,32,58],[46,71,32,59],[46,75,32,63],[46,77,32,65],[46,82,32,70],[46,83,32,71],[46,85,32,73],[46,90,32,78],[46,91,32,79],[46,93,32,81],[46,106,32,94],[47,10,33,12],[47,14,33,18,"hasException"],[47,26,33,30],[47,29,33,33,"event"],[47,34,33,38],[47,35,33,39,"exception"],[47,44,33,48],[47,48,33,52,"event"],[47,53,33,57],[47,54,33,58,"exception"],[47,63,33,67],[47,64,33,68,"values"],[47,70,33,74],[47,74,33,78,"event"],[47,79,33,83],[47,80,33,84,"exception"],[47,89,33,93],[47,90,33,94,"values"],[47,96,33,100],[47,97,33,101,"length"],[47,103,33,107],[47,106,33,110],[47,107,33,111],[48,10,34,12],[48,14,34,16],[48,15,34,17,"hasException"],[48,27,34,29],[48,29,34,31],[49,12,35,16],[49,19,35,23,"event"],[49,24,35,28],[50,10,36,12],[51,10,37,12],[51,14,37,18,"screenshots"],[51,25,37,29],[51,28,37,32],[51,34,37,38,"NATIVE"],[51,42,37,44],[51,43,37,44,"NATIVE"],[51,49,37,44],[51,50,37,45,"captureScreenshot"],[51,67,37,62],[51,68,37,63],[51,69,37,64],[52,10,38,12],[52,14,38,16,"screenshots"],[52,25,38,27],[52,29,38,31,"screenshots"],[52,40,38,42],[52,41,38,43,"length"],[52,47,38,49],[52,50,38,52],[52,51,38,53],[52,53,38,55],[53,12,39,16,"hint"],[53,16,39,20],[53,17,39,21,"attachments"],[53,28,39,32],[53,31,39,35],[53,32,39,36],[53,35,39,39,"screenshots"],[53,46,39,50],[53,48,39,52],[53,52,39,56],[53,53,39,57,"hint"],[53,57,39,61],[53,62,39,66],[53,66,39,70],[53,70,39,74,"hint"],[53,74,39,78],[53,79,39,83],[53,84,39,88],[53,85,39,89],[53,88,39,92],[53,93,39,97],[53,94,39,98],[53,97,39,101,"hint"],[53,101,39,105],[53,102,39,106,"attachments"],[53,113,39,117],[53,118,39,122],[53,120,39,124],[53,121,39,125],[53,122,39,126],[54,10,40,12],[55,10,41,12],[55,17,41,19,"event"],[55,22,41,24],[56,8,42,8],[56,9,42,9],[56,10,42,10],[56,11,42,11],[57,6,43,4],[58,4,43,5],[59,6,43,5,"key"],[59,9,43,5],[60,6,43,5,"value"],[60,11,43,5],[60,13,17,4],[60,22,17,11,"attachScreenshotToEventHint"],[60,49,17,38,"attachScreenshotToEventHint"],[60,50,17,39,"hint"],[60,54,17,43],[60,56,17,43,"_ref"],[60,60,17,43],[60,62,17,67],[61,8,17,67],[61,12,17,47,"attachScreenshot"],[61,28,17,63],[61,31,17,63,"_ref"],[61,35,17,63],[61,36,17,47,"attachScreenshot"],[61,52,17,63],[62,8,18,8],[62,12,18,12],[62,13,18,13,"attachScreenshot"],[62,29,18,29],[62,31,18,31],[63,10,19,12],[63,17,19,19],[63,21,19,19,"resolvedSyncPromise"],[63,33,19,38],[63,34,19,38,"resolvedSyncPromise"],[63,53,19,38],[63,55,19,39,"hint"],[63,59,19,43],[63,60,19,44],[64,8,20,8],[65,8,21,8],[65,15,21,15,"NATIVE"],[65,23,21,21],[65,24,21,21,"NATIVE"],[65,30,21,21],[65,31,21,22,"captureScreenshot"],[65,48,21,39],[65,49,21,40],[65,50,21,41],[65,51,21,42,"then"],[65,55,21,46],[65,56,21,47,"screenshots"],[65,67,21,58],[65,71,21,62],[66,10,22,12],[66,14,22,16,"screenshots"],[66,25,22,27],[66,30,22,32],[66,34,22,36],[66,38,22,40,"screenshots"],[66,49,22,51],[66,50,22,52,"length"],[66,56,22,58],[66,59,22,61],[66,60,22,62],[66,62,22,64],[67,12,23,16,"hint"],[67,16,23,20],[67,17,23,21,"attachments"],[67,28,23,32],[67,31,23,35],[67,32,23,36],[67,35,23,39,"screenshots"],[67,46,23,50],[67,48,23,52],[67,52,23,56],[67,53,23,57,"hint"],[67,57,23,61],[67,62,23,66],[67,66,23,70],[67,70,23,74,"hint"],[67,74,23,78],[67,79,23,83],[67,84,23,88],[67,85,23,89],[67,88,23,92],[67,93,23,97],[67,94,23,98],[67,97,23,101,"hint"],[67,101,23,105],[67,102,23,106,"attachments"],[67,113,23,117],[67,118,23,122],[67,120,23,124],[67,121,23,125],[67,122,23,126],[68,10,24,12],[69,10,25,12],[69,17,25,19,"hint"],[69,21,25,23],[70,8,26,8],[70,9,26,9],[70,10,26,10],[71,6,27,4],[72,4,27,5],[73,2,27,5],[74,2,45,0],[75,0,46,0],[76,0,47,0],[77,2,48,0,"Screenshot"],[77,12,48,10],[77,13,48,11,"id"],[77,15,48,13],[77,18,48,16],[77,30,48,28],[78,0,48,29],[78,3]],"functionMap":{"names":["<global>","Screenshot","Screenshot#constructor","Screenshot.attachScreenshotToEventHint","NATIVE.captureScreenshot.then$argument_0","Screenshot#setupOnce","addGlobalEventProcessor$argument_0","__awaiter$argument_3"],"mappings":"AAA;OCI;ICC;KDK;IEM;+CCI;SDK;KFC;III;gCCC,iDC;SDU,CD;KJC;CDC"},"hasCjsExports":false},"type":"js/module"}]}