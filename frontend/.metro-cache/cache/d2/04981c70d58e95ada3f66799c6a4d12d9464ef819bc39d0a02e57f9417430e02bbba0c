{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":13,"index":77},"end":{"line":3,"column":36,"index":100}}],"key":"CPmndeSLDuCg/s3oFguorTUVcN0=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":14,"index":116},"end":{"line":4,"column":38,"index":140}}],"key":"ud8OE6Lg8Q81+bS6ynZj2uyMPdA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  const core = require(_dependencyMap[0], \"@sentry/core\");\n  const utils = require(_dependencyMap[1], \"@sentry/utils\");\n\n  // 'Store', 'promisifyRequest' and 'createStore' were originally copied from the 'idb-keyval' package before being\n  // modified and simplified: https://github.com/jakearchibald/idb-keyval\n  //\n  // At commit: 0420a704fd6cbb4225429c536b1f61112d012fca\n  // Original licence:\n\n  // Copyright 2016, Jake Archibald\n  //\n  // Licensed under the Apache License, Version 2.0 (the \"License\");\n  // you may not use this file except in compliance with the License.\n  // You may obtain a copy of the License at\n  //\n  //   http://www.apache.org/licenses/LICENSE-2.0\n  //\n  // Unless required by applicable law or agreed to in writing, software\n  // distributed under the License is distributed on an \"AS IS\" BASIS,\n  // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  // See the License for the specific language governing permissions and\n  // limitations under the License.\n\n  function promisifyRequest(request) {\n    return new Promise((resolve, reject) => {\n      // @ts-expect-error - file size hacks\n      request.oncomplete = request.onsuccess = () => resolve(request.result);\n      // @ts-expect-error - file size hacks\n      request.onabort = request.onerror = () => reject(request.error);\n    });\n  }\n\n  /** Create or open an IndexedDb store */\n  function createStore(dbName, storeName) {\n    const request = indexedDB.open(dbName);\n    request.onupgradeneeded = () => request.result.createObjectStore(storeName);\n    const dbp = promisifyRequest(request);\n    return callback => dbp.then(db => callback(db.transaction(storeName, 'readwrite').objectStore(storeName)));\n  }\n  function keys(store) {\n    return promisifyRequest(store.getAllKeys());\n  }\n\n  /** Insert into the store */\n  function insert(store, value, maxQueueSize) {\n    return store(store => {\n      return keys(store).then(keys => {\n        if (keys.length >= maxQueueSize) {\n          return;\n        }\n\n        // We insert with an incremented key so that the entries are popped in order\n        store.put(value, Math.max(...keys, 0) + 1);\n        return promisifyRequest(store.transaction);\n      });\n    });\n  }\n\n  /** Pop the oldest value from the store */\n  function pop(store) {\n    return store(store => {\n      return keys(store).then(keys => {\n        if (keys.length === 0) {\n          return undefined;\n        }\n        return promisifyRequest(store.get(keys[0])).then(value => {\n          store.delete(keys[0]);\n          return promisifyRequest(store.transaction).then(() => value);\n        });\n      });\n    });\n  }\n  function createIndexedDbStore(options) {\n    let store;\n\n    // Lazily create the store only when it's needed\n    function getStore() {\n      if (store == undefined) {\n        store = createStore(options.dbName || 'sentry-offline', options.storeName || 'queue');\n      }\n      return store;\n    }\n    return {\n      insert: async env => {\n        try {\n          const serialized = await utils.serializeEnvelope(env, options.textEncoder);\n          await insert(getStore(), serialized, options.maxQueueSize || 30);\n        } catch (_) {\n          //\n        }\n      },\n      pop: async () => {\n        try {\n          const deserialized = await pop(getStore());\n          if (deserialized) {\n            return utils.parseEnvelope(deserialized, options.textEncoder || new TextEncoder(), options.textDecoder || new TextDecoder());\n          }\n        } catch (_) {\n          //\n        }\n        return undefined;\n      }\n    };\n  }\n  function makeIndexedDbOfflineTransport(createTransport) {\n    return options => createTransport({\n      ...options,\n      createStore: createIndexedDbStore\n    });\n  }\n\n  /**\n   * Creates a transport that uses IndexedDb to store events when offline.\n   */\n  function makeBrowserOfflineTransport(createTransport) {\n    return makeIndexedDbOfflineTransport(core.makeOfflineTransport(createTransport));\n  }\n  exports.createStore = createStore;\n  exports.insert = insert;\n  exports.makeBrowserOfflineTransport = makeBrowserOfflineTransport;\n  exports.pop = pop;\n});","lineCount":126,"map":[[2,2,1,0,"Object"],[2,8,1,6],[2,9,1,7,"defineProperty"],[2,23,1,21],[2,24,1,22,"exports"],[2,31,1,29],[2,33,1,31],[2,45,1,43],[2,47,1,45],[3,4,1,47,"value"],[3,9,1,52],[3,11,1,54],[4,2,1,59],[4,3,1,60],[4,4,1,61],[5,2,3,0],[5,8,3,6,"core"],[5,12,3,10],[5,15,3,13,"require"],[5,22,3,20],[5,23,3,20,"_dependencyMap"],[5,37,3,20],[5,56,3,35],[5,57,3,36],[6,2,4,0],[6,8,4,6,"utils"],[6,13,4,11],[6,16,4,14,"require"],[6,23,4,21],[6,24,4,21,"_dependencyMap"],[6,38,4,21],[6,58,4,37],[6,59,4,38],[8,2,6,0],[9,2,7,0],[10,2,8,0],[11,2,9,0],[12,2,10,0],[14,2,12,0],[15,2,13,0],[16,2,14,0],[17,2,15,0],[18,2,16,0],[19,2,17,0],[20,2,18,0],[21,2,19,0],[22,2,20,0],[23,2,21,0],[24,2,22,0],[25,2,23,0],[26,2,24,0],[28,2,26,0],[28,11,26,9,"promisifyRequest"],[28,27,26,25,"promisifyRequest"],[28,28,26,26,"request"],[28,35,26,33],[28,37,26,35],[29,4,27,2],[29,11,27,9],[29,15,27,13,"Promise"],[29,22,27,20],[29,23,27,21],[29,24,27,22,"resolve"],[29,31,27,29],[29,33,27,31,"reject"],[29,39,27,37],[29,44,27,42],[30,6,28,4],[31,6,29,4,"request"],[31,13,29,11],[31,14,29,12,"oncomplete"],[31,24,29,22],[31,27,29,25,"request"],[31,34,29,32],[31,35,29,33,"onsuccess"],[31,44,29,42],[31,47,29,45],[31,53,29,51,"resolve"],[31,60,29,58],[31,61,29,59,"request"],[31,68,29,66],[31,69,29,67,"result"],[31,75,29,73],[31,76,29,74],[32,6,30,4],[33,6,31,4,"request"],[33,13,31,11],[33,14,31,12,"onabort"],[33,21,31,19],[33,24,31,22,"request"],[33,31,31,29],[33,32,31,30,"onerror"],[33,39,31,37],[33,42,31,40],[33,48,31,46,"reject"],[33,54,31,52],[33,55,31,53,"request"],[33,62,31,60],[33,63,31,61,"error"],[33,68,31,66],[33,69,31,67],[34,4,32,2],[34,5,32,3],[34,6,32,4],[35,2,33,0],[37,2,35,0],[38,2,36,0],[38,11,36,9,"createStore"],[38,22,36,20,"createStore"],[38,23,36,21,"dbName"],[38,29,36,27],[38,31,36,29,"storeName"],[38,40,36,38],[38,42,36,40],[39,4,37,2],[39,10,37,8,"request"],[39,17,37,15],[39,20,37,18,"indexedDB"],[39,29,37,27],[39,30,37,28,"open"],[39,34,37,32],[39,35,37,33,"dbName"],[39,41,37,39],[39,42,37,40],[40,4,38,2,"request"],[40,11,38,9],[40,12,38,10,"onupgradeneeded"],[40,27,38,25],[40,30,38,28],[40,36,38,34,"request"],[40,43,38,41],[40,44,38,42,"result"],[40,50,38,48],[40,51,38,49,"createObjectStore"],[40,68,38,66],[40,69,38,67,"storeName"],[40,78,38,76],[40,79,38,77],[41,4,39,2],[41,10,39,8,"dbp"],[41,13,39,11],[41,16,39,14,"promisifyRequest"],[41,32,39,30],[41,33,39,31,"request"],[41,40,39,38],[41,41,39,39],[42,4,41,2],[42,11,41,9,"callback"],[42,19,41,17],[42,23,41,21,"dbp"],[42,26,41,24],[42,27,41,25,"then"],[42,31,41,29],[42,32,41,30,"db"],[42,34,41,32],[42,38,41,36,"callback"],[42,46,41,44],[42,47,41,45,"db"],[42,49,41,47],[42,50,41,48,"transaction"],[42,61,41,59],[42,62,41,60,"storeName"],[42,71,41,69],[42,73,41,71],[42,84,41,82],[42,85,41,83],[42,86,41,84,"objectStore"],[42,97,41,95],[42,98,41,96,"storeName"],[42,107,41,105],[42,108,41,106],[42,109,41,107],[42,110,41,108],[43,2,42,0],[44,2,44,0],[44,11,44,9,"keys"],[44,15,44,13,"keys"],[44,16,44,14,"store"],[44,21,44,19],[44,23,44,21],[45,4,45,2],[45,11,45,9,"promisifyRequest"],[45,27,45,25],[45,28,45,26,"store"],[45,33,45,31],[45,34,45,32,"getAllKeys"],[45,44,45,42],[45,45,45,43],[45,46,45,45],[45,47,45,46],[46,2,46,0],[48,2,48,0],[49,2,49,0],[49,11,49,9,"insert"],[49,17,49,15,"insert"],[49,18,49,16,"store"],[49,23,49,21],[49,25,49,23,"value"],[49,30,49,28],[49,32,49,30,"maxQueueSize"],[49,44,49,42],[49,46,49,44],[50,4,50,2],[50,11,50,9,"store"],[50,16,50,14],[50,17,50,15,"store"],[50,22,50,20],[50,26,50,24],[51,6,51,4],[51,13,51,11,"keys"],[51,17,51,15],[51,18,51,16,"store"],[51,23,51,21],[51,24,51,22],[51,25,51,23,"then"],[51,29,51,27],[51,30,51,28,"keys"],[51,34,51,32],[51,38,51,36],[52,8,52,6],[52,12,52,10,"keys"],[52,16,52,14],[52,17,52,15,"length"],[52,23,52,21],[52,27,52,25,"maxQueueSize"],[52,39,52,37],[52,41,52,39],[53,10,53,8],[54,8,54,6],[56,8,56,6],[57,8,57,6,"store"],[57,13,57,11],[57,14,57,12,"put"],[57,17,57,15],[57,18,57,16,"value"],[57,23,57,21],[57,25,57,23,"Math"],[57,29,57,27],[57,30,57,28,"max"],[57,33,57,31],[57,34,57,32],[57,37,57,35,"keys"],[57,41,57,39],[57,43,57,41],[57,44,57,42],[57,45,57,43],[57,48,57,46],[57,49,57,47],[57,50,57,48],[58,8,58,6],[58,15,58,13,"promisifyRequest"],[58,31,58,29],[58,32,58,30,"store"],[58,37,58,35],[58,38,58,36,"transaction"],[58,49,58,47],[58,50,58,48],[59,6,59,4],[59,7,59,5],[59,8,59,6],[60,4,60,2],[60,5,60,3],[60,6,60,4],[61,2,61,0],[63,2,63,0],[64,2,64,0],[64,11,64,9,"pop"],[64,14,64,12,"pop"],[64,15,64,13,"store"],[64,20,64,18],[64,22,64,20],[65,4,65,2],[65,11,65,9,"store"],[65,16,65,14],[65,17,65,15,"store"],[65,22,65,20],[65,26,65,24],[66,6,66,4],[66,13,66,11,"keys"],[66,17,66,15],[66,18,66,16,"store"],[66,23,66,21],[66,24,66,22],[66,25,66,23,"then"],[66,29,66,27],[66,30,66,28,"keys"],[66,34,66,32],[66,38,66,36],[67,8,67,6],[67,12,67,10,"keys"],[67,16,67,14],[67,17,67,15,"length"],[67,23,67,21],[67,28,67,26],[67,29,67,27],[67,31,67,29],[68,10,68,8],[68,17,68,15,"undefined"],[68,26,68,24],[69,8,69,6],[70,8,71,6],[70,15,71,13,"promisifyRequest"],[70,31,71,29],[70,32,71,30,"store"],[70,37,71,35],[70,38,71,36,"get"],[70,41,71,39],[70,42,71,40,"keys"],[70,46,71,44],[70,47,71,45],[70,48,71,46],[70,49,71,47],[70,50,71,48],[70,51,71,49],[70,52,71,50,"then"],[70,56,71,54],[70,57,71,55,"value"],[70,62,71,60],[70,66,71,64],[71,10,72,8,"store"],[71,15,72,13],[71,16,72,14,"delete"],[71,22,72,20],[71,23,72,21,"keys"],[71,27,72,25],[71,28,72,26],[71,29,72,27],[71,30,72,28],[71,31,72,29],[72,10,73,8],[72,17,73,15,"promisifyRequest"],[72,33,73,31],[72,34,73,32,"store"],[72,39,73,37],[72,40,73,38,"transaction"],[72,51,73,49],[72,52,73,50],[72,53,73,51,"then"],[72,57,73,55],[72,58,73,56],[72,64,73,62,"value"],[72,69,73,67],[72,70,73,68],[73,8,74,6],[73,9,74,7],[73,10,74,8],[74,6,75,4],[74,7,75,5],[74,8,75,6],[75,4,76,2],[75,5,76,3],[75,6,76,4],[76,2,77,0],[77,2,79,0],[77,11,79,9,"createIndexedDbStore"],[77,31,79,29,"createIndexedDbStore"],[77,32,79,30,"options"],[77,39,79,37],[77,41,79,39],[78,4,80,2],[78,8,80,6,"store"],[78,13,80,11],[80,4,82,2],[81,4,83,2],[81,13,83,11,"getStore"],[81,21,83,19,"getStore"],[81,22,83,19],[81,24,83,22],[82,6,84,4],[82,10,84,8,"store"],[82,15,84,13],[82,19,84,17,"undefined"],[82,28,84,26],[82,30,84,28],[83,8,85,6,"store"],[83,13,85,11],[83,16,85,14,"createStore"],[83,27,85,25],[83,28,85,26,"options"],[83,35,85,33],[83,36,85,34,"dbName"],[83,42,85,40],[83,46,85,44],[83,62,85,60],[83,64,85,62,"options"],[83,71,85,69],[83,72,85,70,"storeName"],[83,81,85,79],[83,85,85,83],[83,92,85,90],[83,93,85,91],[84,6,86,4],[85,6,88,4],[85,13,88,11,"store"],[85,18,88,16],[86,4,89,2],[87,4,91,2],[87,11,91,9],[88,6,92,4,"insert"],[88,12,92,10],[88,14,92,12],[88,20,92,19,"env"],[88,23,92,22],[88,27,92,27],[89,8,93,6],[89,12,93,10],[90,10,94,8],[90,16,94,14,"serialized"],[90,26,94,24],[90,29,94,27],[90,35,94,33,"utils"],[90,40,94,38],[90,41,94,39,"serializeEnvelope"],[90,58,94,56],[90,59,94,57,"env"],[90,62,94,60],[90,64,94,62,"options"],[90,71,94,69],[90,72,94,70,"textEncoder"],[90,83,94,81],[90,84,94,82],[91,10,95,8],[91,16,95,14,"insert"],[91,22,95,20],[91,23,95,21,"getStore"],[91,31,95,29],[91,32,95,30],[91,33,95,31],[91,35,95,33,"serialized"],[91,45,95,43],[91,47,95,45,"options"],[91,54,95,52],[91,55,95,53,"maxQueueSize"],[91,67,95,65],[91,71,95,69],[91,73,95,71],[91,74,95,72],[92,8,96,6],[92,9,96,7],[92,10,96,8],[92,17,96,15,"_"],[92,18,96,16],[92,20,96,18],[93,10,97,8],[94,8,97,8],[95,6,99,4],[95,7,99,5],[96,6,100,4,"pop"],[96,9,100,7],[96,11,100,9],[96,17,100,9,"pop"],[96,18,100,9],[96,23,100,21],[97,8,101,6],[97,12,101,10],[98,10,102,8],[98,16,102,14,"deserialized"],[98,28,102,26],[98,31,102,29],[98,37,102,35,"pop"],[98,40,102,38],[98,41,102,39,"getStore"],[98,49,102,47],[98,50,102,48],[98,51,102,49],[98,52,102,50],[99,10,103,8],[99,14,103,12,"deserialized"],[99,26,103,24],[99,28,103,26],[100,12,104,10],[100,19,104,17,"utils"],[100,24,104,22],[100,25,104,23,"parseEnvelope"],[100,38,104,36],[100,39,105,12,"deserialized"],[100,51,105,24],[100,53,106,12,"options"],[100,60,106,19],[100,61,106,20,"textEncoder"],[100,72,106,31],[100,76,106,35],[100,80,106,39,"TextEncoder"],[100,91,106,50],[100,92,106,51],[100,93,106,52],[100,95,107,12,"options"],[100,102,107,19],[100,103,107,20,"textDecoder"],[100,114,107,31],[100,118,107,35],[100,122,107,39,"TextDecoder"],[100,133,107,50],[100,134,107,51],[100,135,108,10],[100,136,108,11],[101,10,109,8],[102,8,110,6],[102,9,110,7],[102,10,110,8],[102,17,110,15,"_"],[102,18,110,16],[102,20,110,18],[103,10,111,8],[104,8,111,8],[105,8,114,6],[105,15,114,13,"undefined"],[105,24,114,22],[106,6,115,4],[107,4,116,2],[107,5,116,3],[108,2,117,0],[109,2,119,0],[109,11,119,9,"makeIndexedDbOfflineTransport"],[109,40,119,38,"makeIndexedDbOfflineTransport"],[109,41,120,2,"createTransport"],[109,56,120,17],[109,58,121,2],[110,4,122,2],[110,11,122,9,"options"],[110,18,122,16],[110,22,122,20,"createTransport"],[110,37,122,35],[110,38,122,36],[111,6,122,38],[111,9,122,41,"options"],[111,16,122,48],[112,6,122,50,"createStore"],[112,17,122,61],[112,19,122,63,"createIndexedDbStore"],[113,4,122,84],[113,5,122,85],[113,6,122,86],[114,2,123,0],[116,2,125,0],[117,0,126,0],[118,0,127,0],[119,2,128,0],[119,11,128,9,"makeBrowserOfflineTransport"],[119,38,128,36,"makeBrowserOfflineTransport"],[119,39,129,2,"createTransport"],[119,54,129,17],[119,56,130,2],[120,4,131,2],[120,11,131,9,"makeIndexedDbOfflineTransport"],[120,40,131,38],[120,41,131,39,"core"],[120,45,131,43],[120,46,131,44,"makeOfflineTransport"],[120,66,131,64],[120,67,131,65,"createTransport"],[120,82,131,80],[120,83,131,81],[120,84,131,82],[121,2,132,0],[122,2,134,0,"exports"],[122,9,134,7],[122,10,134,8,"createStore"],[122,21,134,19],[122,24,134,22,"createStore"],[122,35,134,33],[123,2,135,0,"exports"],[123,9,135,7],[123,10,135,8,"insert"],[123,16,135,14],[123,19,135,17,"insert"],[123,25,135,23],[124,2,136,0,"exports"],[124,9,136,7],[124,10,136,8,"makeBrowserOfflineTransport"],[124,37,136,35],[124,40,136,38,"makeBrowserOfflineTransport"],[124,67,136,65],[125,2,137,0,"exports"],[125,9,137,7],[125,10,137,8,"pop"],[125,13,137,11],[125,16,137,14,"pop"],[125,19,137,17],[126,0,137,18],[126,3]],"functionMap":{"names":["<global>","promisifyRequest","Promise$argument_0","request.onsuccess","request.onerror","createStore","request.onupgradeneeded","<anonymous>","dbp.then$argument_0","keys","insert","store$argument_0","keys.then$argument_0","pop","promisifyRequest.then$argument_0","createIndexedDbStore","getStore","makeIndexedDbOfflineTransport","makeBrowserOfflineTransport"],"mappings":"AAA;ACyB;qBCC;6CCE,6BD;wCEE,2BF;GDC;CDC;AKG;4BCE,iDD;SEG,qBC,6ED,CF;CLC;ASE;CTE;AUG;eCC;4BCC;KDQ;GDC;CVC;AaG;eFC;4BCC;uDEK;OFG;KDC;GEC;CbC;AeE;ECI;GDM;YLG;KKO;SFC;KEe;CfE;AiBE;SVG,6EU;CjBC;AkBK;ClBI"},"hasCjsExports":true},"type":"js/module"}]}