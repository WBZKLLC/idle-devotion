{"dependencies":[{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":50,"index":50}}],"key":"m+kcirlwHAgMIuUoyR2vCxbhWD4=","exportNames":["*"],"imports":1}},{"name":"../constants.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":51},"end":{"line":2,"column":54,"index":105}}],"key":"w33QN4nlqAZn5CNK6M5HKbLWgBA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"getDynamicSamplingContextFromClient\", {\n    enumerable: true,\n    get: function () {\n      return getDynamicSamplingContextFromClient;\n    }\n  });\n  var _sentryUtils = require(_dependencyMap[0], \"@sentry/utils\");\n  var _constantsJs = require(_dependencyMap[1], \"../constants.js\");\n  /**\n   * Creates a dynamic sampling context from a client.\n   *\n   * Dispatchs the `createDsc` lifecycle hook as a side effect.\n   */\n  function getDynamicSamplingContextFromClient(trace_id, client, scope) {\n    const options = client.getOptions();\n    const {\n      publicKey: public_key\n    } = client.getDsn() || {};\n    const {\n      segment: user_segment\n    } = scope && scope.getUser() || {};\n    const dsc = (0, _sentryUtils.dropUndefinedKeys)({\n      environment: options.environment || _constantsJs.DEFAULT_ENVIRONMENT,\n      release: options.release,\n      user_segment,\n      public_key,\n      trace_id\n    });\n    client.emit && client.emit('createDsc', dsc);\n    return dsc;\n  }\n});","lineCount":38,"map":[[7,2,32,0,"Object"],[7,8,32,0],[7,9,32,0,"defineProperty"],[7,23,32,0],[7,24,32,0,"exports"],[7,31,32,0],[8,4,32,0,"enumerable"],[8,14,32,0],[9,4,32,0,"get"],[9,7,32,0],[9,18,32,0,"get"],[9,19,32,0],[10,6,32,0],[10,13,32,9,"getDynamicSamplingContextFromClient"],[10,48,32,44],[11,4,32,44],[12,2,32,44],[13,2,1,0],[13,6,1,0,"_sentryUtils"],[13,18,1,0],[13,21,1,0,"require"],[13,28,1,0],[13,29,1,0,"_dependencyMap"],[13,43,1,0],[14,2,2,0],[14,6,2,0,"_constantsJs"],[14,18,2,0],[14,21,2,0,"require"],[14,28,2,0],[14,29,2,0,"_dependencyMap"],[14,43,2,0],[15,2,4,0],[16,0,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,2,9,0],[20,11,9,9,"getDynamicSamplingContextFromClient"],[20,46,9,44,"getDynamicSamplingContextFromClient"],[20,47,10,2,"trace_id"],[20,55,10,10],[20,57,11,2,"client"],[20,63,11,8],[20,65,12,2,"scope"],[20,70,12,7],[20,72,13,2],[21,4,14,2],[21,10,14,8,"options"],[21,17,14,15],[21,20,14,18,"client"],[21,26,14,24],[21,27,14,25,"getOptions"],[21,37,14,35],[21,38,14,36],[21,39,14,37],[22,4,16,2],[22,10,16,8],[23,6,16,10,"publicKey"],[23,15,16,19],[23,17,16,21,"public_key"],[24,4,16,32],[24,5,16,33],[24,8,16,36,"client"],[24,14,16,42],[24,15,16,43,"getDsn"],[24,21,16,49],[24,22,16,50],[24,23,16,51],[24,27,16,55],[24,28,16,56],[24,29,16,57],[25,4,17,2],[25,10,17,8],[26,6,17,10,"segment"],[26,13,17,17],[26,15,17,19,"user_segment"],[27,4,17,32],[27,5,17,33],[27,8,17,37,"scope"],[27,13,17,42],[27,17,17,46,"scope"],[27,22,17,51],[27,23,17,52,"getUser"],[27,30,17,59],[27,31,17,60],[27,32,17,61],[27,36,17,66],[27,37,17,67],[27,38,17,68],[28,4,19,2],[28,10,19,8,"dsc"],[28,13,19,11],[28,16,19,14],[28,20,19,14,"dropUndefinedKeys"],[28,32,19,31],[28,33,19,31,"dropUndefinedKeys"],[28,50,19,31],[28,52,19,32],[29,6,20,4,"environment"],[29,17,20,15],[29,19,20,17,"options"],[29,26,20,24],[29,27,20,25,"environment"],[29,38,20,36],[29,42,20,40,"DEFAULT_ENVIRONMENT"],[29,54,20,59],[29,55,20,59,"DEFAULT_ENVIRONMENT"],[29,74,20,59],[30,6,21,4,"release"],[30,13,21,11],[30,15,21,13,"options"],[30,22,21,20],[30,23,21,21,"release"],[30,30,21,28],[31,6,22,4,"user_segment"],[31,18,22,16],[32,6,23,4,"public_key"],[32,16,23,14],[33,6,24,4,"trace_id"],[34,4,25,2],[34,5,25,3],[34,6,25,4],[35,4,27,2,"client"],[35,10,27,8],[35,11,27,9,"emit"],[35,15,27,13],[35,19,27,17,"client"],[35,25,27,23],[35,26,27,24,"emit"],[35,30,27,28],[35,31,27,29],[35,42,27,40],[35,44,27,42,"dsc"],[35,47,27,45],[35,48,27,46],[36,4,29,2],[36,11,29,9,"dsc"],[36,14,29,12],[37,2,30,0],[38,0,30,1],[38,3]],"functionMap":{"names":["<global>","getDynamicSamplingContextFromClient"],"mappings":"AAA;ACQ;CDqB"},"hasCjsExports":false},"type":"js/module"}]}