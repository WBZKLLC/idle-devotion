{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../../stores/purchaseStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":617},"end":{"line":18,"column":86,"index":703}}],"key":"HCpClqcm8dXhLVtHyBs2mXpaTMY=","exportNames":["*"],"imports":1}},{"name":"../../stores/entitlementStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":704},"end":{"line":19,"column":68,"index":772}}],"key":"T9mnBESpZyYD0JmqLo9WlYP7WXA=","exportNames":["*"],"imports":1}},{"name":"../api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":773},"end":{"line":20,"column":68,"index":841}}],"key":"41PldGLahI9T80Mn09nNHYqZZYw=","exportNames":["*"],"imports":1}},{"name":"../telemetry/events","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":842},"end":{"line":21,"column":52,"index":894}}],"key":"k7LZwhoWMWET/ud396YGvDlODrM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.startPurchaseFlow = startPurchaseFlow;\n  exports.verifyAndApplyPurchase = verifyAndApplyPurchase;\n  exports.cancelPurchaseFlow = cancelPurchaseFlow;\n  exports.resetPurchaseFlow = resetPurchaseFlow;\n  exports.getPendingPurchase = getPendingPurchase;\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _storesPurchaseStore = require(_dependencyMap[1], \"../../stores/purchaseStore\");\n  var _storesEntitlementStore = require(_dependencyMap[2], \"../../stores/entitlementStore\");\n  var _api = require(_dependencyMap[3], \"../api\");\n  var _telemetryEvents = require(_dependencyMap[4], \"../telemetry/events\");\n  /**\n   * Purchase Flow Integration\n   * \n   * Connects purchaseStore + entitlementStore + API for complete purchase flow.\n   * This is the ONLY place where purchase verification happens.\n   * \n   * Flow:\n   * 1. Screen calls startPurchaseFlow(productId, entitlementKey)\n   * 2. This generates idempotency key and initiates purchase\n   * 3. After IAP completes, screen calls verifyAndApplyPurchase()\n   * 4. We call /api/purchases/verify with idempotency key\n   * 5. Server returns updated snapshot\n   * 6. We apply snapshot to entitlementStore\n   * 7. purchaseStore transitions to verified/failed\n   */\n\n  /**\n   * Start a purchase flow - call this when user taps \"Buy\" button\n   * Returns the idempotency key for use in verifyAndApplyPurchase\n   */\n  function startPurchaseFlow(productId, entitlementKey) {\n    const purchaseStore = _storesPurchaseStore.usePurchaseStore.getState();\n    if (!purchaseStore.canStartPurchase()) {\n      throw new Error(`Cannot start purchase in state: ${purchaseStore.state}`);\n    }\n    const idempotencyKey = (0, _storesPurchaseStore.generateIdempotencyKey)();\n    purchaseStore.startPurchase(productId, idempotencyKey);\n\n    // Store context for verification\n    _pendingPurchase = {\n      productId,\n      entitlementKey,\n      idempotencyKey,\n      platform: Platform.default.OS\n    };\n    return idempotencyKey;\n  }\n\n  // Internal state for pending purchase\n  let _pendingPurchase = null;\n\n  /**\n   * Call this after IAP SDK confirms purchase is complete\n   * @param transactionId - Transaction ID from IAP SDK (optional but recommended)\n   * @param receiptData - Receipt data from IAP SDK (optional)\n   */\n  async function verifyAndApplyPurchase(transactionId, receiptData) {\n    const purchaseStore = _storesPurchaseStore.usePurchaseStore.getState();\n    const entitlementStore = _storesEntitlementStore.useEntitlementStore.getState();\n    if (!_pendingPurchase) {\n      purchaseStore.setFailed('UNKNOWN', 'No pending purchase to verify');\n      return {\n        success: false,\n        error: 'No pending purchase',\n        shouldRetry: false\n      };\n    }\n\n    // Transition to pending\n    purchaseStore.setPending();\n    const request = {\n      product_id: _pendingPurchase.productId,\n      entitlement_key: _pendingPurchase.entitlementKey,\n      idempotency_key: _pendingPurchase.idempotencyKey,\n      platform: _pendingPurchase.platform,\n      transaction_id: transactionId,\n      receipt_data: receiptData\n    };\n    try {\n      const response = await (0, _api.verifyPurchase)(request);\n      if (response.success && response.entitlements_snapshot) {\n        // Apply the snapshot from server (this is the source of truth)\n        const snap = response.entitlements_snapshot;\n        entitlementStore.applySnapshot(snap);\n\n        // Mark purchase as verified\n        purchaseStore.setVerified();\n\n        // Clear pending\n        _pendingPurchase = null;\n        (0, _telemetryEvents.track)(_telemetryEvents.Events.PURCHASE_SUCCESS, {\n          productId: request.product_id,\n          entitlementKey: request.entitlement_key\n        });\n        return {\n          success: true,\n          message: response.message\n        };\n      } else {\n        purchaseStore.setFailed('VERIFICATION_FAILED', 'Server did not confirm purchase');\n        return {\n          success: false,\n          error: 'Verification failed',\n          shouldRetry: true\n        };\n      }\n    } catch (error) {\n      const errorMessage = error?.response?.data?.detail || error?.message || 'Unknown error';\n\n      // Determine if this is retryable\n      const isNetworkError = !error?.response;\n      const shouldRetry = isNetworkError;\n      if (isNetworkError) {\n        purchaseStore.setFailed('NETWORK_ERROR', errorMessage);\n      } else if (error?.response?.status === 409) {\n        // Conflict - already processed (idempotency)\n        // This is actually success - refresh entitlements\n        await entitlementStore.refreshFromServer('post_purchase');\n        purchaseStore.setVerified();\n        _pendingPurchase = null;\n        return {\n          success: true,\n          message: 'Purchase already processed'\n        };\n      } else {\n        purchaseStore.setFailed('VERIFICATION_FAILED', errorMessage);\n      }\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.PURCHASE_FAILURE, {\n        productId: request.product_id,\n        error: errorMessage\n      });\n      return {\n        success: false,\n        error: errorMessage,\n        shouldRetry\n      };\n    }\n  }\n\n  /**\n   * Cancel the current purchase flow\n   */\n  function cancelPurchaseFlow() {\n    const purchaseStore = _storesPurchaseStore.usePurchaseStore.getState();\n    purchaseStore.setCancelled();\n    _pendingPurchase = null;\n  }\n\n  /**\n   * Reset purchase state (call after showing success/error UI)\n   */\n  function resetPurchaseFlow() {\n    const purchaseStore = _storesPurchaseStore.usePurchaseStore.getState();\n    purchaseStore.reset();\n    _pendingPurchase = null;\n  }\n\n  /**\n   * Get the current pending purchase context (for retry)\n   */\n  function getPendingPurchase() {\n    return _pendingPurchase ? Object.assign({}, _pendingPurchase) : null;\n  }\n});","lineCount":176,"map":[[12,2,31,0,"exports"],[12,9,31,0],[12,10,31,0,"startPurchaseFlow"],[12,27,31,0],[12,30,31,0,"startPurchaseFlow"],[12,47,31,0],[13,2,68,0,"exports"],[13,9,68,0],[13,10,68,0,"verifyAndApplyPurchase"],[13,32,68,0],[13,35,68,0,"verifyAndApplyPurchase"],[13,57,68,0],[14,2,148,0,"exports"],[14,9,148,0],[14,10,148,0,"cancelPurchaseFlow"],[14,28,148,0],[14,31,148,0,"cancelPurchaseFlow"],[14,49,148,0],[15,2,157,0,"exports"],[15,9,157,0],[15,10,157,0,"resetPurchaseFlow"],[15,27,157,0],[15,30,157,0,"resetPurchaseFlow"],[15,47,157,0],[16,2,166,0,"exports"],[16,9,166,0],[16,10,166,0,"getPendingPurchase"],[16,28,166,0],[16,31,166,0,"getPendingPurchase"],[16,49,166,0],[17,2,168,1],[17,6,168,1,"_reactNativeWebDistExportsPlatform"],[17,40,168,1],[17,43,168,1,"require"],[17,50,168,1],[17,51,168,1,"_dependencyMap"],[17,65,168,1],[18,2,168,1],[18,6,168,1,"Platform"],[18,14,168,1],[18,17,168,1,"_interopDefault"],[18,32,168,1],[18,33,168,1,"_reactNativeWebDistExportsPlatform"],[18,67,168,1],[19,2,18,0],[19,6,18,0,"_storesPurchaseStore"],[19,26,18,0],[19,29,18,0,"require"],[19,36,18,0],[19,37,18,0,"_dependencyMap"],[19,51,18,0],[20,2,19,0],[20,6,19,0,"_storesEntitlementStore"],[20,29,19,0],[20,32,19,0,"require"],[20,39,19,0],[20,40,19,0,"_dependencyMap"],[20,54,19,0],[21,2,20,0],[21,6,20,0,"_api"],[21,10,20,0],[21,13,20,0,"require"],[21,20,20,0],[21,21,20,0,"_dependencyMap"],[21,35,20,0],[22,2,21,0],[22,6,21,0,"_telemetryEvents"],[22,22,21,0],[22,25,21,0,"require"],[22,32,21,0],[22,33,21,0,"_dependencyMap"],[22,47,21,0],[23,2,1,0],[24,0,2,0],[25,0,3,0],[26,0,4,0],[27,0,5,0],[28,0,6,0],[29,0,7,0],[30,0,8,0],[31,0,9,0],[32,0,10,0],[33,0,11,0],[34,0,12,0],[35,0,13,0],[36,0,14,0],[37,0,15,0],[39,2,27,0],[40,0,28,0],[41,0,29,0],[42,0,30,0],[43,2,31,7],[43,11,31,16,"startPurchaseFlow"],[43,28,31,33,"startPurchaseFlow"],[43,29,32,2,"productId"],[43,38,32,19],[43,40,33,2,"entitlementKey"],[43,54,33,24],[43,56,34,10],[44,4,35,2],[44,10,35,8,"purchaseStore"],[44,23,35,21],[44,26,35,24,"usePurchaseStore"],[44,46,35,40],[44,47,35,40,"usePurchaseStore"],[44,63,35,40],[44,64,35,41,"getState"],[44,72,35,49],[44,73,35,50],[44,74,35,51],[45,4,37,2],[45,8,37,6],[45,9,37,7,"purchaseStore"],[45,22,37,20],[45,23,37,21,"canStartPurchase"],[45,39,37,37],[45,40,37,38],[45,41,37,39],[45,43,37,41],[46,6,38,4],[46,12,38,10],[46,16,38,14,"Error"],[46,21,38,19],[46,22,38,20],[46,57,38,55,"purchaseStore"],[46,70,38,68],[46,71,38,69,"state"],[46,76,38,74],[46,78,38,76],[46,79,38,77],[47,4,39,2],[48,4,41,2],[48,10,41,8,"idempotencyKey"],[48,24,41,22],[48,27,41,25],[48,31,41,25,"generateIdempotencyKey"],[48,51,41,47],[48,52,41,47,"generateIdempotencyKey"],[48,74,41,47],[48,76,41,48],[48,77,41,49],[49,4,42,2,"purchaseStore"],[49,17,42,15],[49,18,42,16,"startPurchase"],[49,31,42,29],[49,32,42,30,"productId"],[49,41,42,39],[49,43,42,41,"idempotencyKey"],[49,57,42,55],[49,58,42,56],[51,4,44,2],[52,4,45,2,"_pendingPurchase"],[52,20,45,18],[52,23,45,21],[53,6,46,4,"productId"],[53,15,46,13],[54,6,47,4,"entitlementKey"],[54,20,47,18],[55,6,48,4,"idempotencyKey"],[55,20,48,18],[56,6,49,4,"platform"],[56,14,49,12],[56,16,49,14,"Platform"],[56,24,49,22],[56,25,49,22,"default"],[56,32,49,22],[56,33,49,23,"OS"],[57,4,50,2],[57,5,50,3],[58,4,52,2],[58,11,52,9,"idempotencyKey"],[58,25,52,23],[59,2,53,0],[61,2,55,0],[62,2,56,0],[62,6,56,4,"_pendingPurchase"],[62,22,61,8],[62,25,61,11],[62,29,61,15],[64,2,63,0],[65,0,64,0],[66,0,65,0],[67,0,66,0],[68,0,67,0],[69,2,68,7],[69,17,68,22,"verifyAndApplyPurchase"],[69,39,68,44,"verifyAndApplyPurchase"],[69,40,69,2,"transactionId"],[69,53,69,24],[69,55,70,2,"receiptData"],[69,66,70,22],[69,68,71,27],[70,4,72,2],[70,10,72,8,"purchaseStore"],[70,23,72,21],[70,26,72,24,"usePurchaseStore"],[70,46,72,40],[70,47,72,40,"usePurchaseStore"],[70,63,72,40],[70,64,72,41,"getState"],[70,72,72,49],[70,73,72,50],[70,74,72,51],[71,4,73,2],[71,10,73,8,"entitlementStore"],[71,26,73,24],[71,29,73,27,"useEntitlementStore"],[71,52,73,46],[71,53,73,46,"useEntitlementStore"],[71,72,73,46],[71,73,73,47,"getState"],[71,81,73,55],[71,82,73,56],[71,83,73,57],[72,4,75,2],[72,8,75,6],[72,9,75,7,"_pendingPurchase"],[72,25,75,23],[72,27,75,25],[73,6,76,4,"purchaseStore"],[73,19,76,17],[73,20,76,18,"setFailed"],[73,29,76,27],[73,30,76,28],[73,39,76,37],[73,41,76,39],[73,72,76,70],[73,73,76,71],[74,6,77,4],[74,13,77,11],[75,8,77,13,"success"],[75,15,77,20],[75,17,77,22],[75,22,77,27],[76,8,77,29,"error"],[76,13,77,34],[76,15,77,36],[76,36,77,57],[77,8,77,59,"shouldRetry"],[77,19,77,70],[77,21,77,72],[78,6,77,78],[78,7,77,79],[79,4,78,2],[81,4,80,2],[82,4,81,2,"purchaseStore"],[82,17,81,15],[82,18,81,16,"setPending"],[82,28,81,26],[82,29,81,27],[82,30,81,28],[83,4,83,2],[83,10,83,8,"request"],[83,17,83,38],[83,20,83,41],[84,6,84,4,"product_id"],[84,16,84,14],[84,18,84,16,"_pendingPurchase"],[84,34,84,32],[84,35,84,33,"productId"],[84,44,84,42],[85,6,85,4,"entitlement_key"],[85,21,85,19],[85,23,85,21,"_pendingPurchase"],[85,39,85,37],[85,40,85,38,"entitlementKey"],[85,54,85,52],[86,6,86,4,"idempotency_key"],[86,21,86,19],[86,23,86,21,"_pendingPurchase"],[86,39,86,37],[86,40,86,38,"idempotencyKey"],[86,54,86,52],[87,6,87,4,"platform"],[87,14,87,12],[87,16,87,14,"_pendingPurchase"],[87,32,87,30],[87,33,87,31,"platform"],[87,41,87,39],[88,6,88,4,"transaction_id"],[88,20,88,18],[88,22,88,20,"transactionId"],[88,35,88,33],[89,6,89,4,"receipt_data"],[89,18,89,16],[89,20,89,18,"receiptData"],[90,4,90,2],[90,5,90,3],[91,4,92,2],[91,8,92,6],[92,6,93,4],[92,12,93,10,"response"],[92,20,93,18],[92,23,93,21],[92,29,93,27],[92,33,93,27,"verifyPurchase"],[92,37,93,41],[92,38,93,41,"verifyPurchase"],[92,52,93,41],[92,54,93,42,"request"],[92,61,93,49],[92,62,93,50],[93,6,95,4],[93,10,95,8,"response"],[93,18,95,16],[93,19,95,17,"success"],[93,26,95,24],[93,30,95,28,"response"],[93,38,95,36],[93,39,95,37,"entitlements_snapshot"],[93,60,95,58],[93,62,95,60],[94,8,96,6],[95,8,97,6],[95,14,97,12,"snap"],[95,18,97,16],[95,21,97,19,"response"],[95,29,97,27],[95,30,97,28,"entitlements_snapshot"],[95,51,97,49],[96,8,98,6,"entitlementStore"],[96,24,98,22],[96,25,98,23,"applySnapshot"],[96,38,98,36],[96,39,98,37,"snap"],[96,43,98,41],[96,44,98,42],[98,8,100,6],[99,8,101,6,"purchaseStore"],[99,21,101,19],[99,22,101,20,"setVerified"],[99,33,101,31],[99,34,101,32],[99,35,101,33],[101,8,103,6],[102,8,104,6,"_pendingPurchase"],[102,24,104,22],[102,27,104,25],[102,31,104,29],[103,8,106,6],[103,12,106,6,"track"],[103,28,106,11],[103,29,106,11,"track"],[103,34,106,11],[103,36,106,12,"Events"],[103,52,106,18],[103,53,106,18,"Events"],[103,59,106,18],[103,60,106,19,"PURCHASE_SUCCESS"],[103,76,106,35],[103,78,106,37],[104,10,107,8,"productId"],[104,19,107,17],[104,21,107,19,"request"],[104,28,107,26],[104,29,107,27,"product_id"],[104,39,107,37],[105,10,108,8,"entitlementKey"],[105,24,108,22],[105,26,108,24,"request"],[105,33,108,31],[105,34,108,32,"entitlement_key"],[106,8,109,6],[106,9,109,7],[106,10,109,8],[107,8,111,6],[107,15,111,13],[108,10,111,15,"success"],[108,17,111,22],[108,19,111,24],[108,23,111,28],[109,10,111,30,"message"],[109,17,111,37],[109,19,111,39,"response"],[109,27,111,47],[109,28,111,48,"message"],[110,8,111,56],[110,9,111,57],[111,6,112,4],[111,7,112,5],[111,13,112,11],[112,8,113,6,"purchaseStore"],[112,21,113,19],[112,22,113,20,"setFailed"],[112,31,113,29],[112,32,113,30],[112,53,113,51],[112,55,113,53],[112,88,113,86],[112,89,113,87],[113,8,114,6],[113,15,114,13],[114,10,114,15,"success"],[114,17,114,22],[114,19,114,24],[114,24,114,29],[115,10,114,31,"error"],[115,15,114,36],[115,17,114,38],[115,38,114,59],[116,10,114,61,"shouldRetry"],[116,21,114,72],[116,23,114,74],[117,8,114,79],[117,9,114,80],[118,6,115,4],[119,4,116,2],[119,5,116,3],[119,6,116,4],[119,13,116,11,"error"],[119,18,116,21],[119,20,116,23],[120,6,117,4],[120,12,117,10,"errorMessage"],[120,24,117,22],[120,27,117,25,"error"],[120,32,117,30],[120,34,117,32,"response"],[120,42,117,40],[120,44,117,42,"data"],[120,48,117,46],[120,50,117,48,"detail"],[120,56,117,54],[120,60,117,58,"error"],[120,65,117,63],[120,67,117,65,"message"],[120,74,117,72],[120,78,117,76],[120,93,117,91],[122,6,119,4],[123,6,120,4],[123,12,120,10,"isNetworkError"],[123,26,120,24],[123,29,120,27],[123,30,120,28,"error"],[123,35,120,33],[123,37,120,35,"response"],[123,45,120,43],[124,6,121,4],[124,12,121,10,"shouldRetry"],[124,23,121,21],[124,26,121,24,"isNetworkError"],[124,40,121,38],[125,6,123,4],[125,10,123,8,"isNetworkError"],[125,24,123,22],[125,26,123,24],[126,8,124,6,"purchaseStore"],[126,21,124,19],[126,22,124,20,"setFailed"],[126,31,124,29],[126,32,124,30],[126,47,124,45],[126,49,124,47,"errorMessage"],[126,61,124,59],[126,62,124,60],[127,6,125,4],[127,7,125,5],[127,13,125,11],[127,17,125,15,"error"],[127,22,125,20],[127,24,125,22,"response"],[127,32,125,30],[127,34,125,32,"status"],[127,40,125,38],[127,45,125,43],[127,48,125,46],[127,50,125,48],[128,8,126,6],[129,8,127,6],[130,8,128,6],[130,14,128,12,"entitlementStore"],[130,30,128,28],[130,31,128,29,"refreshFromServer"],[130,48,128,46],[130,49,128,47],[130,64,128,62],[130,65,128,63],[131,8,129,6,"purchaseStore"],[131,21,129,19],[131,22,129,20,"setVerified"],[131,33,129,31],[131,34,129,32],[131,35,129,33],[132,8,130,6,"_pendingPurchase"],[132,24,130,22],[132,27,130,25],[132,31,130,29],[133,8,131,6],[133,15,131,13],[134,10,131,15,"success"],[134,17,131,22],[134,19,131,24],[134,23,131,28],[135,10,131,30,"message"],[135,17,131,37],[135,19,131,39],[136,8,131,68],[136,9,131,69],[137,6,132,4],[137,7,132,5],[137,13,132,11],[138,8,133,6,"purchaseStore"],[138,21,133,19],[138,22,133,20,"setFailed"],[138,31,133,29],[138,32,133,30],[138,53,133,51],[138,55,133,53,"errorMessage"],[138,67,133,65],[138,68,133,66],[139,6,134,4],[140,6,136,4],[140,10,136,4,"track"],[140,26,136,9],[140,27,136,9,"track"],[140,32,136,9],[140,34,136,10,"Events"],[140,50,136,16],[140,51,136,16,"Events"],[140,57,136,16],[140,58,136,17,"PURCHASE_FAILURE"],[140,74,136,33],[140,76,136,35],[141,8,137,6,"productId"],[141,17,137,15],[141,19,137,17,"request"],[141,26,137,24],[141,27,137,25,"product_id"],[141,37,137,35],[142,8,138,6,"error"],[142,13,138,11],[142,15,138,13,"errorMessage"],[143,6,139,4],[143,7,139,5],[143,8,139,6],[144,6,141,4],[144,13,141,11],[145,8,141,13,"success"],[145,15,141,20],[145,17,141,22],[145,22,141,27],[146,8,141,29,"error"],[146,13,141,34],[146,15,141,36,"errorMessage"],[146,27,141,48],[147,8,141,50,"shouldRetry"],[148,6,141,62],[148,7,141,63],[149,4,142,2],[150,2,143,0],[152,2,145,0],[153,0,146,0],[154,0,147,0],[155,2,148,7],[155,11,148,16,"cancelPurchaseFlow"],[155,29,148,34,"cancelPurchaseFlow"],[155,30,148,34],[155,32,148,43],[156,4,149,2],[156,10,149,8,"purchaseStore"],[156,23,149,21],[156,26,149,24,"usePurchaseStore"],[156,46,149,40],[156,47,149,40,"usePurchaseStore"],[156,63,149,40],[156,64,149,41,"getState"],[156,72,149,49],[156,73,149,50],[156,74,149,51],[157,4,150,2,"purchaseStore"],[157,17,150,15],[157,18,150,16,"setCancelled"],[157,30,150,28],[157,31,150,29],[157,32,150,30],[158,4,151,2,"_pendingPurchase"],[158,20,151,18],[158,23,151,21],[158,27,151,25],[159,2,152,0],[161,2,154,0],[162,0,155,0],[163,0,156,0],[164,2,157,7],[164,11,157,16,"resetPurchaseFlow"],[164,28,157,33,"resetPurchaseFlow"],[164,29,157,33],[164,31,157,42],[165,4,158,2],[165,10,158,8,"purchaseStore"],[165,23,158,21],[165,26,158,24,"usePurchaseStore"],[165,46,158,40],[165,47,158,40,"usePurchaseStore"],[165,63,158,40],[165,64,158,41,"getState"],[165,72,158,49],[165,73,158,50],[165,74,158,51],[166,4,159,2,"purchaseStore"],[166,17,159,15],[166,18,159,16,"reset"],[166,23,159,21],[166,24,159,22],[166,25,159,23],[167,4,160,2,"_pendingPurchase"],[167,20,160,18],[167,23,160,21],[167,27,160,25],[168,2,161,0],[170,2,163,0],[171,0,164,0],[172,0,165,0],[173,2,166,7],[173,11,166,16,"getPendingPurchase"],[173,29,166,34,"getPendingPurchase"],[173,30,166,34],[173,32,166,37],[174,4,167,2],[174,11,167,9,"_pendingPurchase"],[174,27,167,25],[174,30,167,25,"Object"],[174,36,167,25],[174,37,167,25,"assign"],[174,43,167,25],[174,48,167,33,"_pendingPurchase"],[174,64,167,49],[174,68,167,54],[174,72,167,58],[175,2,168,0],[176,0,168,1],[176,3]],"functionMap":{"names":["<global>","startPurchaseFlow","verifyAndApplyPurchase","cancelPurchaseFlow","resetPurchaseFlow","getPendingPurchase"],"mappings":"AAA;OC8B;CDsB;OEe;CF2E;OGK;CHI;OIK;CJI;OKK;CLE"},"hasCjsExports":false},"type":"js/module"}]}