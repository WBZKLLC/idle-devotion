{"dependencies":[{"name":"../authStorage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":199},"end":{"line":8,"column":47,"index":246}}],"key":"8h7N/7sKemAZqrgZg8dH/jTl5ys=","exportNames":["*"],"imports":1}},{"name":"../telemetry/events","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":247},"end":{"line":9,"column":52,"index":299}}],"key":"k7LZwhoWMWET/ud396YGvDlODrM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getGachaBanners = getGachaBanners;\n  exports.getPityStatus = getPityStatus;\n  exports.summon = summon;\n  exports.generateSourceId = generateSourceId;\n  exports.isInsufficientFundsError = isInsufficientFundsError;\n  exports.getGachaHistory = getGachaHistory;\n  var _authStorage = require(_dependencyMap[0], \"../authStorage\");\n  var _telemetryEvents = require(_dependencyMap[1], \"../telemetry/events\");\n  // /app/frontend/lib/api/gacha.ts\n  // Phase 3.33: Gacha/Summon API wrapper\n  //\n  // All gacha operations go through here.\n  // Uses canonical receipt system.\n  // Server-authoritative - NO client-side RNG.\n\n  const API_BASE = process.env.EXPO_PUBLIC_API_URL || '';\n\n  // Auth header helper\n  async function getAuthHeaders() {\n    const token = await (0, _authStorage.loadAuthToken)();\n    if (!token) {\n      return {\n        'Content-Type': 'application/json'\n      };\n    }\n    return {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    };\n  }\n\n  // =============================================================================\n  // TYPES\n  // =============================================================================\n\n  // =============================================================================\n  // API FUNCTIONS\n  // =============================================================================\n\n  /**\n   * Get all available gacha banners + user pity state\n   */\n  async function getGachaBanners() {\n    const headers = await getAuthHeaders();\n    const res = await fetch(`${API_BASE}/api/gacha/banners`, {\n      headers\n    });\n    if (!res.ok) {\n      throw new Error('Failed to fetch gacha banners');\n    }\n    const data = await res.json();\n\n    // Transform backend response to frontend types\n    const banners = (data.banners || []).map(b => ({\n      id: b.id,\n      name: b.name,\n      description: b.description,\n      currency: b.currency,\n      costSingle: b.cost_single,\n      costMulti: b.cost_multi,\n      rates: b.rates,\n      pityThreshold: b.pity,\n      guaranteedRarity: b.guaranteed,\n      featuredHeroId: b.featured_hero_id,\n      featuredHeroName: b.featured_hero_name,\n      endsAt: b.ends_at\n    }));\n    return {\n      banners,\n      pity: data.pity || {}\n    };\n  }\n\n  /**\n   * Get pity status for all banners\n   */\n  async function getPityStatus() {\n    const headers = await getAuthHeaders();\n    const res = await fetch(`${API_BASE}/api/gacha/pity`, {\n      headers\n    });\n    if (!res.ok) {\n      throw new Error('Failed to fetch pity status');\n    }\n    return await res.json();\n  }\n\n  /**\n   * Perform a gacha summon (canonical receipt)\n   * \n   * @param bannerId - Banner to pull from (standard, premium, divine)\n   * @param count - 1 for single, 10 for multi\n   * @param sourceId - Client-generated unique ID for idempotency (optional)\n   */\n  async function summon(bannerId, count, sourceId) {\n    const headers = await getAuthHeaders();\n\n    // Emit telemetry: summon submitted\n    (0, _telemetryEvents.track)(_telemetryEvents.Events.GACHA_SUMMON_SUBMITTED, {\n      bannerId,\n      count,\n      sourceId\n    });\n    const body = {\n      banner_id: bannerId,\n      count\n    };\n    if (sourceId) {\n      body.source_id = sourceId;\n    }\n    const res = await fetch(`${API_BASE}/api/gacha/summon`, {\n      method: 'POST',\n      headers,\n      body: JSON.stringify(body)\n    });\n    if (!res.ok) {\n      const errorData = await res.json().catch(() => ({}));\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.GACHA_SUMMON_ERROR, {\n        bannerId,\n        count,\n        status: res.status,\n        error: errorData.detail || 'Unknown error'\n      });\n      throw new Error(errorData.detail || 'Summon failed');\n    }\n    const receipt = await res.json();\n\n    // Emit telemetry: summon success\n    (0, _telemetryEvents.track)(_telemetryEvents.Events.GACHA_SUMMON_SUCCESS, {\n      bannerId,\n      count,\n      sourceId: receipt.sourceId,\n      heroCount: receipt.results?.filter(r => !r.isFiller).length || 0,\n      fillerCount: receipt.results?.filter(r => r.isFiller).length || 0,\n      pityTriggered: receipt.pityTriggered\n    });\n\n    // Emit pity telemetry\n    if (receipt.pityTriggered) {\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.GACHA_PITY_TRIGGERED, {\n        bannerId,\n        pityBefore: receipt.pityBefore\n      });\n    } else if (receipt.pityAfter > receipt.pityBefore) {\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.GACHA_PITY_INCREMENTED, {\n        bannerId,\n        pityBefore: receipt.pityBefore,\n        pityAfter: receipt.pityAfter\n      });\n    }\n    return receipt;\n  }\n\n  /**\n   * Generate a client-side source ID for idempotency\n   * Uses timestamp + counter to ensure uniqueness\n   * NOTE: This is NOT used for RNG decisions - only for deduplication\n   */\n  let sourceIdCounter = 0;\n  function generateSourceId() {\n    sourceIdCounter = (sourceIdCounter + 1) % 10000;\n    return `summon_${Date.now()}_${sourceIdCounter.toString().padStart(4, '0')}`;\n  }\n\n  // =============================================================================\n  // PHASE 3.35: INSUFFICIENT FUNDS ERROR TYPE\n  // =============================================================================\n\n  function isInsufficientFundsError(error) {\n    if (!error || typeof error !== 'object') return false;\n    return error.code === 'INSUFFICIENT_FUNDS';\n  }\n\n  // =============================================================================\n  // PHASE 3.35: GACHA HISTORY\n  // =============================================================================\n\n  /**\n   * Get user's gacha summon history (Phase 3.35)\n   */\n  async function getGachaHistory(limit = 50) {\n    const headers = await getAuthHeaders();\n    (0, _telemetryEvents.track)(_telemetryEvents.Events.GACHA_HISTORY_VIEWED, {\n      limit\n    });\n    const res = await fetch(`${API_BASE}/api/gacha/history?limit=${limit}`, {\n      headers\n    });\n    if (!res.ok) {\n      throw new Error('Failed to fetch gacha history');\n    }\n    return await res.json();\n  }\n});","lineCount":200,"map":[[7,2,64,0,"exports"],[7,9,64,0],[7,10,64,0,"getGachaBanners"],[7,25,64,0],[7,28,64,0,"getGachaBanners"],[7,43,64,0],[8,2,99,0,"exports"],[8,9,99,0],[8,10,99,0,"getPityStatus"],[8,23,99,0],[8,26,99,0,"getPityStatus"],[8,39,99,0],[9,2,117,0,"exports"],[9,9,117,0],[9,10,117,0,"summon"],[9,16,117,0],[9,19,117,0,"summon"],[9,25,117,0],[10,2,192,0,"exports"],[10,9,192,0],[10,10,192,0,"generateSourceId"],[10,26,192,0],[10,29,192,0,"generateSourceId"],[10,45,192,0],[11,2,210,0,"exports"],[11,9,210,0],[11,10,210,0,"isInsufficientFundsError"],[11,34,210,0],[11,37,210,0,"isInsufficientFundsError"],[11,61,210,0],[12,2,254,0,"exports"],[12,9,254,0],[12,10,254,0,"getGachaHistory"],[12,25,254,0],[12,28,254,0,"getGachaHistory"],[12,43,254,0],[13,2,8,0],[13,6,8,0,"_authStorage"],[13,18,8,0],[13,21,8,0,"require"],[13,28,8,0],[13,29,8,0,"_dependencyMap"],[13,43,8,0],[14,2,9,0],[14,6,9,0,"_telemetryEvents"],[14,22,9,0],[14,25,9,0,"require"],[14,32,9,0],[14,33,9,0,"_dependencyMap"],[14,47,9,0],[15,2,1,0],[16,2,2,0],[17,2,3,0],[18,2,4,0],[19,2,5,0],[20,2,6,0],[22,2,12,0],[22,8,12,6,"API_BASE"],[22,16,12,14],[22,19,12,17,"process"],[22,26,12,24],[22,27,12,25,"env"],[22,30,12,28],[22,31,12,29,"EXPO_PUBLIC_API_URL"],[22,50,12,48],[22,54,12,52],[22,56,12,54],[24,2,14,0],[25,2,15,0],[25,17,15,15,"getAuthHeaders"],[25,31,15,29,"getAuthHeaders"],[25,32,15,29],[25,34,15,65],[26,4,16,2],[26,10,16,8,"token"],[26,15,16,13],[26,18,16,16],[26,24,16,22],[26,28,16,22,"loadAuthToken"],[26,40,16,35],[26,41,16,35,"loadAuthToken"],[26,54,16,35],[26,56,16,36],[26,57,16,37],[27,4,17,2],[27,8,17,6],[27,9,17,7,"token"],[27,14,17,12],[27,16,17,14],[28,6,18,4],[28,13,18,11],[29,8,18,13],[29,22,18,27],[29,24,18,29],[30,6,18,48],[30,7,18,49],[31,4,19,2],[32,4,20,2],[32,11,20,9],[33,6,21,4],[33,20,21,18],[33,22,21,20],[33,40,21,38],[34,6,22,4],[34,21,22,19],[34,23,22,21],[34,33,22,31,"token"],[34,38,22,36],[35,4,23,2],[35,5,23,3],[36,2,24,0],[38,2,26,0],[39,2,27,0],[40,2,28,0],[42,2,57,0],[43,2,58,0],[44,2,59,0],[46,2,61,0],[47,0,62,0],[48,0,63,0],[49,2,64,7],[49,17,64,22,"getGachaBanners"],[49,32,64,37,"getGachaBanners"],[49,33,64,37],[49,35,64,71],[50,4,65,2],[50,10,65,8,"headers"],[50,17,65,15],[50,20,65,18],[50,26,65,24,"getAuthHeaders"],[50,40,65,38],[50,41,65,39],[50,42,65,40],[51,4,66,2],[51,10,66,8,"res"],[51,13,66,11],[51,16,66,14],[51,22,66,20,"fetch"],[51,27,66,25],[51,28,66,26],[51,31,66,29,"API_BASE"],[51,39,66,37],[51,59,66,57],[51,61,66,59],[52,6,66,61,"headers"],[53,4,66,69],[53,5,66,70],[53,6,66,71],[54,4,68,2],[54,8,68,6],[54,9,68,7,"res"],[54,12,68,10],[54,13,68,11,"ok"],[54,15,68,13],[54,17,68,15],[55,6,69,4],[55,12,69,10],[55,16,69,14,"Error"],[55,21,69,19],[55,22,69,20],[55,53,69,51],[55,54,69,52],[56,4,70,2],[57,4,72,2],[57,10,72,8,"data"],[57,14,72,12],[57,17,72,15],[57,23,72,21,"res"],[57,26,72,24],[57,27,72,25,"json"],[57,31,72,29],[57,32,72,30],[57,33,72,31],[59,4,74,2],[60,4,75,2],[60,10,75,8,"banners"],[60,17,75,29],[60,20,75,32],[60,21,75,33,"data"],[60,25,75,37],[60,26,75,38,"banners"],[60,33,75,45],[60,37,75,49],[60,39,75,51],[60,41,75,53,"map"],[60,44,75,56],[60,45,75,58,"b"],[60,46,75,64],[60,51,75,70],[61,6,76,4,"id"],[61,8,76,6],[61,10,76,8,"b"],[61,11,76,9],[61,12,76,10,"id"],[61,14,76,12],[62,6,77,4,"name"],[62,10,77,8],[62,12,77,10,"b"],[62,13,77,11],[62,14,77,12,"name"],[62,18,77,16],[63,6,78,4,"description"],[63,17,78,15],[63,19,78,17,"b"],[63,20,78,18],[63,21,78,19,"description"],[63,32,78,30],[64,6,79,4,"currency"],[64,14,79,12],[64,16,79,14,"b"],[64,17,79,15],[64,18,79,16,"currency"],[64,26,79,24],[65,6,80,4,"costSingle"],[65,16,80,14],[65,18,80,16,"b"],[65,19,80,17],[65,20,80,18,"cost_single"],[65,31,80,29],[66,6,81,4,"costMulti"],[66,15,81,13],[66,17,81,15,"b"],[66,18,81,16],[66,19,81,17,"cost_multi"],[66,29,81,27],[67,6,82,4,"rates"],[67,11,82,9],[67,13,82,11,"b"],[67,14,82,12],[67,15,82,13,"rates"],[67,20,82,18],[68,6,83,4,"pityThreshold"],[68,19,83,17],[68,21,83,19,"b"],[68,22,83,20],[68,23,83,21,"pity"],[68,27,83,25],[69,6,84,4,"guaranteedRarity"],[69,22,84,20],[69,24,84,22,"b"],[69,25,84,23],[69,26,84,24,"guaranteed"],[69,36,84,34],[70,6,85,4,"featuredHeroId"],[70,20,85,18],[70,22,85,20,"b"],[70,23,85,21],[70,24,85,22,"featured_hero_id"],[70,40,85,38],[71,6,86,4,"featuredHeroName"],[71,22,86,20],[71,24,86,22,"b"],[71,25,86,23],[71,26,86,24,"featured_hero_name"],[71,44,86,42],[72,6,87,4,"endsAt"],[72,12,87,10],[72,14,87,12,"b"],[72,15,87,13],[72,16,87,14,"ends_at"],[73,4,88,2],[73,5,88,3],[73,6,88,4],[73,7,88,5],[74,4,90,2],[74,11,90,9],[75,6,91,4,"banners"],[75,13,91,11],[76,6,92,4,"pity"],[76,10,92,8],[76,12,92,10,"data"],[76,16,92,14],[76,17,92,15,"pity"],[76,21,92,19],[76,25,92,23],[76,26,92,24],[77,4,93,2],[77,5,93,3],[78,2,94,0],[80,2,96,0],[81,0,97,0],[82,0,98,0],[83,2,99,7],[83,17,99,22,"getPityStatus"],[83,30,99,35,"getPityStatus"],[83,31,99,35],[83,33,99,75],[84,4,100,2],[84,10,100,8,"headers"],[84,17,100,15],[84,20,100,18],[84,26,100,24,"getAuthHeaders"],[84,40,100,38],[84,41,100,39],[84,42,100,40],[85,4,101,2],[85,10,101,8,"res"],[85,13,101,11],[85,16,101,14],[85,22,101,20,"fetch"],[85,27,101,25],[85,28,101,26],[85,31,101,29,"API_BASE"],[85,39,101,37],[85,56,101,54],[85,58,101,56],[86,6,101,58,"headers"],[87,4,101,66],[87,5,101,67],[87,6,101,68],[88,4,103,2],[88,8,103,6],[88,9,103,7,"res"],[88,12,103,10],[88,13,103,11,"ok"],[88,15,103,13],[88,17,103,15],[89,6,104,4],[89,12,104,10],[89,16,104,14,"Error"],[89,21,104,19],[89,22,104,20],[89,51,104,49],[89,52,104,50],[90,4,105,2],[91,4,107,2],[91,11,107,9],[91,17,107,15,"res"],[91,20,107,18],[91,21,107,19,"json"],[91,25,107,23],[91,26,107,24],[91,27,107,25],[92,2,108,0],[94,2,110,0],[95,0,111,0],[96,0,112,0],[97,0,113,0],[98,0,114,0],[99,0,115,0],[100,0,116,0],[101,2,117,7],[101,17,117,22,"summon"],[101,23,117,28,"summon"],[101,24,118,2,"bannerId"],[101,32,118,18],[101,34,119,2,"count"],[101,39,119,15],[101,41,120,2,"sourceId"],[101,49,120,19],[101,51,121,25],[102,4,122,2],[102,10,122,8,"headers"],[102,17,122,15],[102,20,122,18],[102,26,122,24,"getAuthHeaders"],[102,40,122,38],[102,41,122,39],[102,42,122,40],[104,4,124,2],[105,4,125,2],[105,8,125,2,"track"],[105,24,125,7],[105,25,125,7,"track"],[105,30,125,7],[105,32,125,8,"Events"],[105,48,125,14],[105,49,125,14,"Events"],[105,55,125,14],[105,56,125,15,"GACHA_SUMMON_SUBMITTED"],[105,78,125,37],[105,80,125,39],[106,6,126,4,"bannerId"],[106,14,126,12],[107,6,127,4,"count"],[107,11,127,9],[108,6,128,4,"sourceId"],[109,4,129,2],[109,5,129,3],[109,6,129,4],[110,4,131,2],[110,10,131,8,"body"],[110,14,131,33],[110,17,131,36],[111,6,132,4,"banner_id"],[111,15,132,13],[111,17,132,15,"bannerId"],[111,25,132,23],[112,6,133,4,"count"],[113,4,134,2],[113,5,134,3],[114,4,136,2],[114,8,136,6,"sourceId"],[114,16,136,14],[114,18,136,16],[115,6,137,4,"body"],[115,10,137,8],[115,11,137,9,"source_id"],[115,20,137,18],[115,23,137,21,"sourceId"],[115,31,137,29],[116,4,138,2],[117,4,140,2],[117,10,140,8,"res"],[117,13,140,11],[117,16,140,14],[117,22,140,20,"fetch"],[117,27,140,25],[117,28,140,26],[117,31,140,29,"API_BASE"],[117,39,140,37],[117,58,140,56],[117,60,140,58],[118,6,141,4,"method"],[118,12,141,10],[118,14,141,12],[118,20,141,18],[119,6,142,4,"headers"],[119,13,142,11],[120,6,143,4,"body"],[120,10,143,8],[120,12,143,10,"JSON"],[120,16,143,14],[120,17,143,15,"stringify"],[120,26,143,24],[120,27,143,25,"body"],[120,31,143,29],[121,4,144,2],[121,5,144,3],[121,6,144,4],[122,4,146,2],[122,8,146,6],[122,9,146,7,"res"],[122,12,146,10],[122,13,146,11,"ok"],[122,15,146,13],[122,17,146,15],[123,6,147,4],[123,12,147,10,"errorData"],[123,21,147,19],[123,24,147,22],[123,30,147,28,"res"],[123,33,147,31],[123,34,147,32,"json"],[123,38,147,36],[123,39,147,37],[123,40,147,38],[123,41,147,39,"catch"],[123,46,147,44],[123,47,147,45],[123,54,147,52],[123,55,147,53],[123,56,147,54],[123,57,147,55],[123,58,147,56],[124,6,148,4],[124,10,148,4,"track"],[124,26,148,9],[124,27,148,9,"track"],[124,32,148,9],[124,34,148,10,"Events"],[124,50,148,16],[124,51,148,16,"Events"],[124,57,148,16],[124,58,148,17,"GACHA_SUMMON_ERROR"],[124,76,148,35],[124,78,148,37],[125,8,149,6,"bannerId"],[125,16,149,14],[126,8,150,6,"count"],[126,13,150,11],[127,8,151,6,"status"],[127,14,151,12],[127,16,151,14,"res"],[127,19,151,17],[127,20,151,18,"status"],[127,26,151,24],[128,8,152,6,"error"],[128,13,152,11],[128,15,152,13,"errorData"],[128,24,152,22],[128,25,152,23,"detail"],[128,31,152,29],[128,35,152,33],[129,6,153,4],[129,7,153,5],[129,8,153,6],[130,6,154,4],[130,12,154,10],[130,16,154,14,"Error"],[130,21,154,19],[130,22,154,20,"errorData"],[130,31,154,29],[130,32,154,30,"detail"],[130,38,154,36],[130,42,154,40],[130,57,154,55],[130,58,154,56],[131,4,155,2],[132,4,157,2],[132,10,157,8,"receipt"],[132,17,157,15],[132,20,157,18],[132,26,157,24,"res"],[132,29,157,27],[132,30,157,28,"json"],[132,34,157,32],[132,35,157,33],[132,36,157,34],[134,4,159,2],[135,4,160,2],[135,8,160,2,"track"],[135,24,160,7],[135,25,160,7,"track"],[135,30,160,7],[135,32,160,8,"Events"],[135,48,160,14],[135,49,160,14,"Events"],[135,55,160,14],[135,56,160,15,"GACHA_SUMMON_SUCCESS"],[135,76,160,35],[135,78,160,37],[136,6,161,4,"bannerId"],[136,14,161,12],[137,6,162,4,"count"],[137,11,162,9],[138,6,163,4,"sourceId"],[138,14,163,12],[138,16,163,14,"receipt"],[138,23,163,21],[138,24,163,22,"sourceId"],[138,32,163,30],[139,6,164,4,"heroCount"],[139,15,164,13],[139,17,164,15,"receipt"],[139,24,164,22],[139,25,164,23,"results"],[139,32,164,30],[139,34,164,32,"filter"],[139,40,164,38],[139,41,164,40,"r"],[139,42,164,46],[139,46,164,51],[139,47,164,52,"r"],[139,48,164,53],[139,49,164,54,"isFiller"],[139,57,164,62],[139,58,164,63],[139,59,164,64,"length"],[139,65,164,70],[139,69,164,74],[139,70,164,75],[140,6,165,4,"fillerCount"],[140,17,165,15],[140,19,165,17,"receipt"],[140,26,165,24],[140,27,165,25,"results"],[140,34,165,32],[140,36,165,34,"filter"],[140,42,165,40],[140,43,165,42,"r"],[140,44,165,48],[140,48,165,53,"r"],[140,49,165,54],[140,50,165,55,"isFiller"],[140,58,165,63],[140,59,165,64],[140,60,165,65,"length"],[140,66,165,71],[140,70,165,75],[140,71,165,76],[141,6,166,4,"pityTriggered"],[141,19,166,17],[141,21,166,19,"receipt"],[141,28,166,26],[141,29,166,27,"pityTriggered"],[142,4,167,2],[142,5,167,3],[142,6,167,4],[144,4,169,2],[145,4,170,2],[145,8,170,6,"receipt"],[145,15,170,13],[145,16,170,14,"pityTriggered"],[145,29,170,27],[145,31,170,29],[146,6,171,4],[146,10,171,4,"track"],[146,26,171,9],[146,27,171,9,"track"],[146,32,171,9],[146,34,171,10,"Events"],[146,50,171,16],[146,51,171,16,"Events"],[146,57,171,16],[146,58,171,17,"GACHA_PITY_TRIGGERED"],[146,78,171,37],[146,80,171,39],[147,8,172,6,"bannerId"],[147,16,172,14],[148,8,173,6,"pityBefore"],[148,18,173,16],[148,20,173,18,"receipt"],[148,27,173,25],[148,28,173,26,"pityBefore"],[149,6,174,4],[149,7,174,5],[149,8,174,6],[150,4,175,2],[150,5,175,3],[150,11,175,9],[150,15,175,13,"receipt"],[150,22,175,20],[150,23,175,21,"pityAfter"],[150,32,175,30],[150,35,175,33,"receipt"],[150,42,175,40],[150,43,175,41,"pityBefore"],[150,53,175,51],[150,55,175,53],[151,6,176,4],[151,10,176,4,"track"],[151,26,176,9],[151,27,176,9,"track"],[151,32,176,9],[151,34,176,10,"Events"],[151,50,176,16],[151,51,176,16,"Events"],[151,57,176,16],[151,58,176,17,"GACHA_PITY_INCREMENTED"],[151,80,176,39],[151,82,176,41],[152,8,177,6,"bannerId"],[152,16,177,14],[153,8,178,6,"pityBefore"],[153,18,178,16],[153,20,178,18,"receipt"],[153,27,178,25],[153,28,178,26,"pityBefore"],[153,38,178,36],[154,8,179,6,"pityAfter"],[154,17,179,15],[154,19,179,17,"receipt"],[154,26,179,24],[154,27,179,25,"pityAfter"],[155,6,180,4],[155,7,180,5],[155,8,180,6],[156,4,181,2],[157,4,183,2],[157,11,183,9,"receipt"],[157,18,183,16],[158,2,184,0],[160,2,186,0],[161,0,187,0],[162,0,188,0],[163,0,189,0],[164,0,190,0],[165,2,191,0],[165,6,191,4,"sourceIdCounter"],[165,21,191,19],[165,24,191,22],[165,25,191,23],[166,2,192,7],[166,11,192,16,"generateSourceId"],[166,27,192,32,"generateSourceId"],[166,28,192,32],[166,30,192,43],[167,4,193,2,"sourceIdCounter"],[167,19,193,17],[167,22,193,20],[167,23,193,21,"sourceIdCounter"],[167,38,193,36],[167,41,193,39],[167,42,193,40],[167,46,193,44],[167,51,193,49],[168,4,194,2],[168,11,194,9],[168,21,194,19,"Date"],[168,25,194,23],[168,26,194,24,"now"],[168,29,194,27],[168,30,194,28],[168,31,194,29],[168,35,194,33,"sourceIdCounter"],[168,50,194,48],[168,51,194,49,"toString"],[168,59,194,57],[168,60,194,58],[168,61,194,59],[168,62,194,60,"padStart"],[168,70,194,68],[168,71,194,69],[168,72,194,70],[168,74,194,72],[168,77,194,75],[168,78,194,76],[168,80,194,78],[169,2,195,0],[171,2,197,0],[172,2,198,0],[173,2,199,0],[175,2,210,7],[175,11,210,16,"isInsufficientFundsError"],[175,35,210,40,"isInsufficientFundsError"],[175,36,210,41,"error"],[175,41,210,55],[175,43,210,90],[176,4,211,2],[176,8,211,6],[176,9,211,7,"error"],[176,14,211,12],[176,18,211,16],[176,25,211,23,"error"],[176,30,211,28],[176,35,211,33],[176,43,211,41],[176,45,211,43],[176,52,211,50],[176,57,211,55],[177,4,212,2],[177,11,212,10,"error"],[177,16,212,15],[177,17,212,44,"code"],[177,21,212,48],[177,26,212,53],[177,46,212,73],[178,2,213,0],[180,2,215,0],[181,2,216,0],[182,2,217,0],[184,2,251,0],[185,0,252,0],[186,0,253,0],[187,2,254,7],[187,17,254,22,"getGachaHistory"],[187,32,254,37,"getGachaHistory"],[187,33,254,38,"limit"],[187,38,254,51],[187,41,254,54],[187,43,254,56],[187,45,254,89],[188,4,255,2],[188,10,255,8,"headers"],[188,17,255,15],[188,20,255,18],[188,26,255,24,"getAuthHeaders"],[188,40,255,38],[188,41,255,39],[188,42,255,40],[189,4,257,2],[189,8,257,2,"track"],[189,24,257,7],[189,25,257,7,"track"],[189,30,257,7],[189,32,257,8,"Events"],[189,48,257,14],[189,49,257,14,"Events"],[189,55,257,14],[189,56,257,15,"GACHA_HISTORY_VIEWED"],[189,76,257,35],[189,78,257,37],[190,6,257,39,"limit"],[191,4,257,45],[191,5,257,46],[191,6,257,47],[192,4,259,2],[192,10,259,8,"res"],[192,13,259,11],[192,16,259,14],[192,22,259,20,"fetch"],[192,27,259,25],[192,28,259,26],[192,31,259,29,"API_BASE"],[192,39,259,37],[192,67,259,65,"limit"],[192,72,259,70],[192,74,259,72],[192,76,259,74],[193,6,259,76,"headers"],[194,4,259,84],[194,5,259,85],[194,6,259,86],[195,4,261,2],[195,8,261,6],[195,9,261,7,"res"],[195,12,261,10],[195,13,261,11,"ok"],[195,15,261,13],[195,17,261,15],[196,6,262,4],[196,12,262,10],[196,16,262,14,"Error"],[196,21,262,19],[196,22,262,20],[196,53,262,51],[196,54,262,52],[197,4,263,2],[198,4,265,2],[198,11,265,9],[198,17,265,15,"res"],[198,20,265,18],[198,21,265,19,"json"],[198,25,265,23],[198,26,265,24],[198,27,265,25],[199,2,266,0],[200,0,266,1],[200,3]],"functionMap":{"names":["<global>","getAuthHeaders","getGachaBanners","map$argument_0","getPityStatus","summon","res.json._catch$argument_0","receipt.results.filter$argument_0","generateSourceId","isInsufficientFundsError","getGachaHistory"],"mappings":"AAA;ACc;CDS;OEwC;yDCW;IDa;CFM;OIK;CJS;OKS;6CC8B,UD;uCEiB,uBF;yCEC,sBF;CLmB;OQQ;CRG;OSe;CTG;OUyC;CVY"},"hasCjsExports":false},"type":"js/module"}]}