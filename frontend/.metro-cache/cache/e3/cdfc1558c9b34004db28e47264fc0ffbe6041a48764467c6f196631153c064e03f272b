{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"tslib","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":34,"index":34}}],"key":"8R25577gwLd3n1hFG9VYnRLV9eE=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":64,"index":99}}],"key":"m+kcirlwHAgMIuUoyR2vCxbhWD4=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":100},"end":{"line":3,"column":40,"index":140}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"../breadcrumb","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":141},"end":{"line":4,"column":53,"index":194}}],"key":"NI8FfCb2SYRO6H2cH5T4Xvd6RaA=","exportNames":["*"],"imports":1}},{"name":"../wrapper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":195},"end":{"line":5,"column":36,"index":231}}],"key":"3qo6tWpJLamBuMFs5ex6CktRJQ4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"DeviceContext\", {\n    enumerable: true,\n    get: function () {\n      return DeviceContext;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _tslib = require(_dependencyMap[2], \"tslib\");\n  var _sentryUtils = require(_dependencyMap[3], \"@sentry/utils\");\n  var _reactNative = require(_dependencyMap[4], \"react-native\");\n  var _breadcrumb = require(_dependencyMap[5], \"../breadcrumb\");\n  var _wrapper = require(_dependencyMap[6], \"../wrapper\");\n  /** Load device context from native. */\n  var DeviceContext = /*#__PURE__*/function () {\n    function DeviceContext() {\n      (0, _classCallCheck.default)(this, DeviceContext);\n      /**\n       * @inheritDoc\n       */\n      this.name = DeviceContext.id;\n    }\n    /**\n     * @inheritDoc\n     */\n    return (0, _createClass.default)(DeviceContext, [{\n      key: \"setupOnce\",\n      value: function setupOnce(addGlobalEventProcessor, getCurrentHub) {\n        addGlobalEventProcessor(event => (0, _tslib.__awaiter)(this, void 0, void 0, function* () {\n          var _a;\n          var self = getCurrentHub().getIntegration(DeviceContext);\n          if (!self) {\n            return event;\n          }\n          var native = null;\n          try {\n            native = yield _wrapper.NATIVE.fetchNativeDeviceContexts();\n          } catch (e) {\n            _sentryUtils.logger.log(`Failed to get device context from native: ${e}`);\n          }\n          if (!native) {\n            return event;\n          }\n          var nativeUser = native.user;\n          if (!event.user && nativeUser) {\n            event.user = nativeUser;\n          }\n          var nativeContexts = native.contexts;\n          if (_reactNative.AppState.currentState !== 'unknown') {\n            nativeContexts = nativeContexts || {};\n            nativeContexts.app = Object.assign(Object.assign({}, nativeContexts.app), {\n              in_foreground: _reactNative.AppState.currentState === 'active'\n            });\n          }\n          if (nativeContexts) {\n            event.contexts = Object.assign(Object.assign({}, nativeContexts), event.contexts);\n            if (nativeContexts.app) {\n              event.contexts.app = Object.assign(Object.assign({}, nativeContexts.app), event.contexts.app);\n            }\n          }\n          var nativeTags = native.tags;\n          if (nativeTags) {\n            event.tags = Object.assign(Object.assign({}, nativeTags), event.tags);\n          }\n          var nativeExtra = native.extra;\n          if (nativeExtra) {\n            event.extra = Object.assign(Object.assign({}, nativeExtra), event.extra);\n          }\n          var nativeFingerprint = native.fingerprint;\n          if (nativeFingerprint) {\n            event.fingerprint = ((_a = event.fingerprint) !== null && _a !== void 0 ? _a : []).concat(nativeFingerprint.filter(item => {\n              var _a;\n              return ((_a = event.fingerprint) !== null && _a !== void 0 ? _a : []).indexOf(item) < 0;\n            }));\n          }\n          var nativeLevel = typeof native['level'] === 'string' ? (0, _sentryUtils.severityLevelFromString)(native['level']) : undefined;\n          if (!event.level && nativeLevel) {\n            event.level = nativeLevel;\n          }\n          var nativeEnvironment = native['environment'];\n          if (!event.environment && nativeEnvironment) {\n            event.environment = nativeEnvironment;\n          }\n          var nativeBreadcrumbs = Array.isArray(native['breadcrumbs']) ? native['breadcrumbs'].map(_breadcrumb.breadcrumbFromObject) : undefined;\n          if (nativeBreadcrumbs) {\n            event.breadcrumbs = nativeBreadcrumbs;\n          }\n          return event;\n        }));\n      }\n    }]);\n  }();\n  /**\n   * @inheritDoc\n   */\n  DeviceContext.id = 'DeviceContext';\n});","lineCount":110,"map":[[12,2,7,0,"Object"],[12,8,7,0],[12,9,7,0,"defineProperty"],[12,23,7,0],[12,24,7,0,"exports"],[12,31,7,0],[13,4,7,0,"enumerable"],[13,14,7,0],[14,4,7,0,"get"],[14,7,7,0],[14,18,7,0,"get"],[14,19,7,0],[15,6,7,0],[15,13,7,0,"DeviceContext"],[15,26,7,0],[16,4,7,0],[17,2,7,0],[18,2,78,1],[18,6,78,1,"_babelRuntimeHelpersClassCallCheck"],[18,40,78,1],[18,43,78,1,"require"],[18,50,78,1],[18,51,78,1,"_dependencyMap"],[18,65,78,1],[19,2,78,1],[19,6,78,1,"_classCallCheck"],[19,21,78,1],[19,24,78,1,"_interopDefault"],[19,39,78,1],[19,40,78,1,"_babelRuntimeHelpersClassCallCheck"],[19,74,78,1],[20,2,78,1],[20,6,78,1,"_babelRuntimeHelpersCreateClass"],[20,37,78,1],[20,40,78,1,"require"],[20,47,78,1],[20,48,78,1,"_dependencyMap"],[20,62,78,1],[21,2,78,1],[21,6,78,1,"_createClass"],[21,18,78,1],[21,21,78,1,"_interopDefault"],[21,36,78,1],[21,37,78,1,"_babelRuntimeHelpersCreateClass"],[21,68,78,1],[22,2,1,0],[22,6,1,0,"_tslib"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_sentryUtils"],[23,18,2,0],[23,21,2,0,"require"],[23,28,2,0],[23,29,2,0,"_dependencyMap"],[23,43,2,0],[24,2,3,0],[24,6,3,0,"_reactNative"],[24,18,3,0],[24,21,3,0,"require"],[24,28,3,0],[24,29,3,0,"_dependencyMap"],[24,43,3,0],[25,2,4,0],[25,6,4,0,"_breadcrumb"],[25,17,4,0],[25,20,4,0,"require"],[25,27,4,0],[25,28,4,0,"_dependencyMap"],[25,42,4,0],[26,2,5,0],[26,6,5,0,"_wrapper"],[26,14,5,0],[26,17,5,0,"require"],[26,24,5,0],[26,25,5,0,"_dependencyMap"],[26,39,5,0],[27,2,6,0],[28,2,6,0],[28,6,7,13,"DeviceContext"],[28,19,7,26],[29,4,8,4],[29,13,8,4,"DeviceContext"],[29,27,8,4],[29,29,8,18],[30,6,8,18],[30,10,8,18,"_classCallCheck"],[30,25,8,18],[30,26,8,18,"default"],[30,33,8,18],[30,41,8,18,"DeviceContext"],[30,54,8,18],[31,6,9,8],[32,0,10,0],[33,0,11,0],[34,6,12,8],[34,10,12,12],[34,11,12,13,"name"],[34,15,12,17],[34,18,12,20,"DeviceContext"],[34,31,12,33],[34,32,12,34,"id"],[34,34,12,36],[35,4,13,4],[36,4,14,4],[37,0,15,0],[38,0,16,0],[39,4,14,4],[39,15,14,4,"_createClass"],[39,27,14,4],[39,28,14,4,"default"],[39,35,14,4],[39,37,14,4,"DeviceContext"],[39,50,14,4],[40,6,14,4,"key"],[40,9,14,4],[41,6,14,4,"value"],[41,11,14,4],[41,13,17,4],[41,22,17,4,"setupOnce"],[41,31,17,13,"setupOnce"],[41,32,17,14,"addGlobalEventProcessor"],[41,55,17,37],[41,57,17,39,"getCurrentHub"],[41,70,17,52],[41,72,17,54],[42,8,18,8,"addGlobalEventProcessor"],[42,31,18,31],[42,32,18,33,"event"],[42,37,18,38],[42,41,18,43],[42,45,18,43,"__awaiter"],[42,51,18,52],[42,52,18,52,"__awaiter"],[42,61,18,52],[42,63,18,53],[42,67,18,57],[42,69,18,59],[42,74,18,64],[42,75,18,65],[42,77,18,67],[42,82,18,72],[42,83,18,73],[42,85,18,75],[42,98,18,88],[43,10,19,12],[43,14,19,16,"_a"],[43,16,19,18],[44,10,20,12],[44,14,20,18,"self"],[44,18,20,22],[44,21,20,25,"getCurrentHub"],[44,34,20,38],[44,35,20,39],[44,36,20,40],[44,37,20,41,"getIntegration"],[44,51,20,55],[44,52,20,56,"DeviceContext"],[44,65,20,69],[44,66,20,70],[45,10,21,12],[45,14,21,16],[45,15,21,17,"self"],[45,19,21,21],[45,21,21,23],[46,12,22,16],[46,19,22,23,"event"],[46,24,22,28],[47,10,23,12],[48,10,24,12],[48,14,24,16,"native"],[48,20,24,22],[48,23,24,25],[48,27,24,29],[49,10,25,12],[49,14,25,16],[50,12,26,16,"native"],[50,18,26,22],[50,21,26,25],[50,27,26,31,"NATIVE"],[50,35,26,37],[50,36,26,37,"NATIVE"],[50,42,26,37],[50,43,26,38,"fetchNativeDeviceContexts"],[50,68,26,63],[50,69,26,64],[50,70,26,65],[51,10,27,12],[51,11,27,13],[51,12,28,12],[51,19,28,19,"e"],[51,20,28,20],[51,22,28,22],[52,12,29,16,"logger"],[52,24,29,22],[52,25,29,22,"logger"],[52,31,29,22],[52,32,29,23,"log"],[52,35,29,26],[52,36,29,27],[52,81,29,72,"e"],[52,82,29,73],[52,84,29,75],[52,85,29,76],[53,10,30,12],[54,10,31,12],[54,14,31,16],[54,15,31,17,"native"],[54,21,31,23],[54,23,31,25],[55,12,32,16],[55,19,32,23,"event"],[55,24,32,28],[56,10,33,12],[57,10,34,12],[57,14,34,18,"nativeUser"],[57,24,34,28],[57,27,34,31,"native"],[57,33,34,37],[57,34,34,38,"user"],[57,38,34,42],[58,10,35,12],[58,14,35,16],[58,15,35,17,"event"],[58,20,35,22],[58,21,35,23,"user"],[58,25,35,27],[58,29,35,31,"nativeUser"],[58,39,35,41],[58,41,35,43],[59,12,36,16,"event"],[59,17,36,21],[59,18,36,22,"user"],[59,22,36,26],[59,25,36,29,"nativeUser"],[59,35,36,39],[60,10,37,12],[61,10,38,12],[61,14,38,16,"nativeContexts"],[61,28,38,30],[61,31,38,33,"native"],[61,37,38,39],[61,38,38,40,"contexts"],[61,46,38,48],[62,10,39,12],[62,14,39,16,"AppState"],[62,26,39,24],[62,27,39,24,"AppState"],[62,35,39,24],[62,36,39,25,"currentState"],[62,48,39,37],[62,53,39,42],[62,62,39,51],[62,64,39,53],[63,12,40,16,"nativeContexts"],[63,26,40,30],[63,29,40,33,"nativeContexts"],[63,43,40,47],[63,47,40,51],[63,48,40,52],[63,49,40,53],[64,12,41,16,"nativeContexts"],[64,26,41,30],[64,27,41,31,"app"],[64,30,41,34],[64,33,41,37,"Object"],[64,39,41,43],[64,40,41,44,"assign"],[64,46,41,50],[64,47,41,51,"Object"],[64,53,41,57],[64,54,41,58,"assign"],[64,60,41,64],[64,61,41,65],[64,62,41,66],[64,63,41,67],[64,65,41,69,"nativeContexts"],[64,79,41,83],[64,80,41,84,"app"],[64,83,41,87],[64,84,41,88],[64,86,41,90],[65,14,41,92,"in_foreground"],[65,27,41,105],[65,29,41,107,"AppState"],[65,41,41,115],[65,42,41,115,"AppState"],[65,50,41,115],[65,51,41,116,"currentState"],[65,63,41,128],[65,68,41,133],[66,12,41,142],[66,13,41,143],[66,14,41,144],[67,10,42,12],[68,10,43,12],[68,14,43,16,"nativeContexts"],[68,28,43,30],[68,30,43,32],[69,12,44,16,"event"],[69,17,44,21],[69,18,44,22,"contexts"],[69,26,44,30],[69,29,44,33,"Object"],[69,35,44,39],[69,36,44,40,"assign"],[69,42,44,46],[69,43,44,47,"Object"],[69,49,44,53],[69,50,44,54,"assign"],[69,56,44,60],[69,57,44,61],[69,58,44,62],[69,59,44,63],[69,61,44,65,"nativeContexts"],[69,75,44,79],[69,76,44,80],[69,78,44,82,"event"],[69,83,44,87],[69,84,44,88,"contexts"],[69,92,44,96],[69,93,44,97],[70,12,45,16],[70,16,45,20,"nativeContexts"],[70,30,45,34],[70,31,45,35,"app"],[70,34,45,38],[70,36,45,40],[71,14,46,20,"event"],[71,19,46,25],[71,20,46,26,"contexts"],[71,28,46,34],[71,29,46,35,"app"],[71,32,46,38],[71,35,46,41,"Object"],[71,41,46,47],[71,42,46,48,"assign"],[71,48,46,54],[71,49,46,55,"Object"],[71,55,46,61],[71,56,46,62,"assign"],[71,62,46,68],[71,63,46,69],[71,64,46,70],[71,65,46,71],[71,67,46,73,"nativeContexts"],[71,81,46,87],[71,82,46,88,"app"],[71,85,46,91],[71,86,46,92],[71,88,46,94,"event"],[71,93,46,99],[71,94,46,100,"contexts"],[71,102,46,108],[71,103,46,109,"app"],[71,106,46,112],[71,107,46,113],[72,12,47,16],[73,10,48,12],[74,10,49,12],[74,14,49,18,"nativeTags"],[74,24,49,28],[74,27,49,31,"native"],[74,33,49,37],[74,34,49,38,"tags"],[74,38,49,42],[75,10,50,12],[75,14,50,16,"nativeTags"],[75,24,50,26],[75,26,50,28],[76,12,51,16,"event"],[76,17,51,21],[76,18,51,22,"tags"],[76,22,51,26],[76,25,51,29,"Object"],[76,31,51,35],[76,32,51,36,"assign"],[76,38,51,42],[76,39,51,43,"Object"],[76,45,51,49],[76,46,51,50,"assign"],[76,52,51,56],[76,53,51,57],[76,54,51,58],[76,55,51,59],[76,57,51,61,"nativeTags"],[76,67,51,71],[76,68,51,72],[76,70,51,74,"event"],[76,75,51,79],[76,76,51,80,"tags"],[76,80,51,84],[76,81,51,85],[77,10,52,12],[78,10,53,12],[78,14,53,18,"nativeExtra"],[78,25,53,29],[78,28,53,32,"native"],[78,34,53,38],[78,35,53,39,"extra"],[78,40,53,44],[79,10,54,12],[79,14,54,16,"nativeExtra"],[79,25,54,27],[79,27,54,29],[80,12,55,16,"event"],[80,17,55,21],[80,18,55,22,"extra"],[80,23,55,27],[80,26,55,30,"Object"],[80,32,55,36],[80,33,55,37,"assign"],[80,39,55,43],[80,40,55,44,"Object"],[80,46,55,50],[80,47,55,51,"assign"],[80,53,55,57],[80,54,55,58],[80,55,55,59],[80,56,55,60],[80,58,55,62,"nativeExtra"],[80,69,55,73],[80,70,55,74],[80,72,55,76,"event"],[80,77,55,81],[80,78,55,82,"extra"],[80,83,55,87],[80,84,55,88],[81,10,56,12],[82,10,57,12],[82,14,57,18,"nativeFingerprint"],[82,31,57,35],[82,34,57,38,"native"],[82,40,57,44],[82,41,57,45,"fingerprint"],[82,52,57,56],[83,10,58,12],[83,14,58,16,"nativeFingerprint"],[83,31,58,33],[83,33,58,35],[84,12,59,16,"event"],[84,17,59,21],[84,18,59,22,"fingerprint"],[84,29,59,33],[84,32,59,36],[84,33,59,37],[84,34,59,38,"_a"],[84,36,59,40],[84,39,59,43,"event"],[84,44,59,48],[84,45,59,49,"fingerprint"],[84,56,59,60],[84,62,59,66],[84,66,59,70],[84,70,59,74,"_a"],[84,72,59,76],[84,77,59,81],[84,82,59,86],[84,83,59,87],[84,86,59,90,"_a"],[84,88,59,92],[84,91,59,95],[84,93,59,97],[84,95,59,99,"concat"],[84,101,59,105],[84,102,59,106,"nativeFingerprint"],[84,119,59,123],[84,120,59,124,"filter"],[84,126,59,130],[84,127,59,131,"item"],[84,131,59,135],[84,135,59,139],[85,14,59,141],[85,18,59,145,"_a"],[85,20,59,147],[86,14,59,149],[86,21,59,156],[86,22,59,157],[86,23,59,158,"_a"],[86,25,59,160],[86,28,59,163,"event"],[86,33,59,168],[86,34,59,169,"fingerprint"],[86,45,59,180],[86,51,59,186],[86,55,59,190],[86,59,59,194,"_a"],[86,61,59,196],[86,66,59,201],[86,71,59,206],[86,72,59,207],[86,75,59,210,"_a"],[86,77,59,212],[86,80,59,215],[86,82,59,217],[86,84,59,219,"indexOf"],[86,91,59,226],[86,92,59,227,"item"],[86,96,59,231],[86,97,59,232],[86,100,59,235],[86,101,59,236],[87,12,59,238],[87,13,59,239],[87,14,59,240],[87,15,59,241],[88,10,60,12],[89,10,61,12],[89,14,61,18,"nativeLevel"],[89,25,61,29],[89,28,61,32],[89,35,61,39,"native"],[89,41,61,45],[89,42,61,46],[89,49,61,53],[89,50,61,54],[89,55,61,59],[89,63,61,67],[89,66,61,70],[89,70,61,70,"severityLevelFromString"],[89,82,61,93],[89,83,61,93,"severityLevelFromString"],[89,106,61,93],[89,108,61,94,"native"],[89,114,61,100],[89,115,61,101],[89,122,61,108],[89,123,61,109],[89,124,61,110],[89,127,61,113,"undefined"],[89,136,61,122],[90,10,62,12],[90,14,62,16],[90,15,62,17,"event"],[90,20,62,22],[90,21,62,23,"level"],[90,26,62,28],[90,30,62,32,"nativeLevel"],[90,41,62,43],[90,43,62,45],[91,12,63,16,"event"],[91,17,63,21],[91,18,63,22,"level"],[91,23,63,27],[91,26,63,30,"nativeLevel"],[91,37,63,41],[92,10,64,12],[93,10,65,12],[93,14,65,18,"nativeEnvironment"],[93,31,65,35],[93,34,65,38,"native"],[93,40,65,44],[93,41,65,45],[93,54,65,58],[93,55,65,59],[94,10,66,12],[94,14,66,16],[94,15,66,17,"event"],[94,20,66,22],[94,21,66,23,"environment"],[94,32,66,34],[94,36,66,38,"nativeEnvironment"],[94,53,66,55],[94,55,66,57],[95,12,67,16,"event"],[95,17,67,21],[95,18,67,22,"environment"],[95,29,67,33],[95,32,67,36,"nativeEnvironment"],[95,49,67,53],[96,10,68,12],[97,10,69,12],[97,14,69,18,"nativeBreadcrumbs"],[97,31,69,35],[97,34,69,38,"Array"],[97,39,69,43],[97,40,69,44,"isArray"],[97,47,69,51],[97,48,69,52,"native"],[97,54,69,58],[97,55,69,59],[97,68,69,72],[97,69,69,73],[97,70,69,74],[97,73,70,18,"native"],[97,79,70,24],[97,80,70,25],[97,93,70,38],[97,94,70,39],[97,95,70,40,"map"],[97,98,70,43],[97,99,70,44,"breadcrumbFromObject"],[97,110,70,64],[97,111,70,64,"breadcrumbFromObject"],[97,131,70,64],[97,132,70,65],[97,135,71,18,"undefined"],[97,144,71,27],[98,10,72,12],[98,14,72,16,"nativeBreadcrumbs"],[98,31,72,33],[98,33,72,35],[99,12,73,16,"event"],[99,17,73,21],[99,18,73,22,"breadcrumbs"],[99,29,73,33],[99,32,73,36,"nativeBreadcrumbs"],[99,49,73,53],[100,10,74,12],[101,10,75,12],[101,17,75,19,"event"],[101,22,75,24],[102,8,76,8],[102,9,76,9],[102,10,76,10],[102,11,76,11],[103,6,77,4],[104,4,77,5],[105,2,77,5],[106,2,79,0],[107,0,80,0],[108,0,81,0],[109,2,82,0,"DeviceContext"],[109,15,82,13],[109,16,82,14,"id"],[109,18,82,16],[109,21,82,19],[109,36,82,34],[110,0,82,35],[110,3]],"functionMap":{"names":["<global>","DeviceContext","DeviceContext#constructor","DeviceContext#setupOnce","addGlobalEventProcessor$argument_0","__awaiter$argument_3","nativeFingerprint.filter$argument_0"],"mappings":"AAA;OCM;ICC;KDK;IEI;gCCC,2CC;mICyC,4GD;SDiB,CD;KFC;CDC"},"hasCjsExports":false},"type":"js/module"}]}