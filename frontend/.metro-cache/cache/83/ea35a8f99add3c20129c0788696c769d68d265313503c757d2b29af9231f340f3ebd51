{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":50,"index":50}}],"key":"m+kcirlwHAgMIuUoyR2vCxbhWD4=","exportNames":["*"],"imports":1}},{"name":"../wrapper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":51},"end":{"line":2,"column":36,"index":87}}],"key":"3qo6tWpJLamBuMFs5ex6CktRJQ4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"DEFAULT_BUFFER_SIZE\", {\n    enumerable: true,\n    get: function () {\n      return DEFAULT_BUFFER_SIZE;\n    }\n  });\n  Object.defineProperty(exports, \"NativeTransport\", {\n    enumerable: true,\n    get: function () {\n      return NativeTransport;\n    }\n  });\n  exports.makeNativeTransport = makeNativeTransport;\n  exports.makeNativeTransportFactory = makeNativeTransportFactory;\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _sentryUtils = require(_dependencyMap[2], \"@sentry/utils\");\n  var _wrapper = require(_dependencyMap[3], \"../wrapper\");\n  var DEFAULT_BUFFER_SIZE = 30;\n  /** Native Transport class implementation */\n  var NativeTransport = /*#__PURE__*/function () {\n    function NativeTransport() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      (0, _classCallCheck.default)(this, NativeTransport);\n      this._buffer = (0, _sentryUtils.makePromiseBuffer)(options.bufferSize || DEFAULT_BUFFER_SIZE);\n    }\n    /**\n     * Sends the envelope to the Store endpoint in Sentry.\n     *\n     * @param envelope Envelope that should be sent to Sentry.\n     */\n    return (0, _createClass.default)(NativeTransport, [{\n      key: \"send\",\n      value: function send(envelope) {\n        return this._buffer.add(() => _wrapper.NATIVE.sendEnvelope(envelope));\n      }\n      /**\n       * Wait for all envelopes to be sent or the timeout to expire, whichever comes first.\n       *\n       * @param timeout Maximum time in ms the transport should wait for envelopes to be flushed. Omitting this parameter will\n       *   cause the transport to wait until all events are sent before resolving the promise.\n       * @returns A promise that will resolve with `true` if all events are sent before the timeout, or `false` if there are\n       * still events in the queue when the timeout is reached.\n       */\n    }, {\n      key: \"flush\",\n      value: function flush(timeout) {\n        return this._buffer.drain(timeout);\n      }\n    }]);\n  }();\n  /**\n   * Creates a Native Transport.\n   */\n  function makeNativeTransport() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return new NativeTransport(options);\n  }\n  /**\n   * Creates a Native Transport factory if the native transport is available.\n   */\n  function makeNativeTransportFactory(_ref) {\n    var enableNative = _ref.enableNative;\n    if (enableNative && _wrapper.NATIVE.isNativeAvailable()) {\n      return makeNativeTransport;\n    }\n    return null;\n  }\n});","lineCount":82,"map":[[12,2,3,0,"Object"],[12,8,3,0],[12,9,3,0,"defineProperty"],[12,23,3,0],[12,24,3,0,"exports"],[12,31,3,0],[13,4,3,0,"enumerable"],[13,14,3,0],[14,4,3,0,"get"],[14,7,3,0],[14,18,3,0,"get"],[14,19,3,0],[15,6,3,0],[15,13,3,0,"DEFAULT_BUFFER_SIZE"],[15,32,3,0],[16,4,3,0],[17,2,3,0],[18,2,5,0,"Object"],[18,8,5,0],[18,9,5,0,"defineProperty"],[18,23,5,0],[18,24,5,0,"exports"],[18,31,5,0],[19,4,5,0,"enumerable"],[19,14,5,0],[20,4,5,0,"get"],[20,7,5,0],[20,18,5,0,"get"],[20,19,5,0],[21,6,5,0],[21,13,5,0,"NativeTransport"],[21,28,5,0],[22,4,5,0],[23,2,5,0],[24,2,32,0,"exports"],[24,9,32,0],[24,10,32,0,"makeNativeTransport"],[24,29,32,0],[24,32,32,0,"makeNativeTransport"],[24,51,32,0],[25,2,38,0,"exports"],[25,9,38,0],[25,10,38,0,"makeNativeTransportFactory"],[25,36,38,0],[25,39,38,0,"makeNativeTransportFactory"],[25,65,38,0],[26,2,43,1],[26,6,43,1,"_babelRuntimeHelpersClassCallCheck"],[26,40,43,1],[26,43,43,1,"require"],[26,50,43,1],[26,51,43,1,"_dependencyMap"],[26,65,43,1],[27,2,43,1],[27,6,43,1,"_classCallCheck"],[27,21,43,1],[27,24,43,1,"_interopDefault"],[27,39,43,1],[27,40,43,1,"_babelRuntimeHelpersClassCallCheck"],[27,74,43,1],[28,2,43,1],[28,6,43,1,"_babelRuntimeHelpersCreateClass"],[28,37,43,1],[28,40,43,1,"require"],[28,47,43,1],[28,48,43,1,"_dependencyMap"],[28,62,43,1],[29,2,43,1],[29,6,43,1,"_createClass"],[29,18,43,1],[29,21,43,1,"_interopDefault"],[29,36,43,1],[29,37,43,1,"_babelRuntimeHelpersCreateClass"],[29,68,43,1],[30,2,1,0],[30,6,1,0,"_sentryUtils"],[30,18,1,0],[30,21,1,0,"require"],[30,28,1,0],[30,29,1,0,"_dependencyMap"],[30,43,1,0],[31,2,2,0],[31,6,2,0,"_wrapper"],[31,14,2,0],[31,17,2,0,"require"],[31,24,2,0],[31,25,2,0,"_dependencyMap"],[31,39,2,0],[32,2,3,7],[32,6,3,13,"DEFAULT_BUFFER_SIZE"],[32,25,3,32],[32,28,3,35],[32,30,3,37],[33,2,4,0],[34,2,4,0],[34,6,5,13,"NativeTransport"],[34,21,5,28],[35,4,6,4],[35,13,6,4,"NativeTransport"],[35,29,6,4],[35,31,6,30],[36,6,6,30],[36,10,6,16,"options"],[36,17,6,23],[36,20,6,23,"arguments"],[36,29,6,23],[36,30,6,23,"length"],[36,36,6,23],[36,44,6,23,"arguments"],[36,53,6,23],[36,61,6,23,"undefined"],[36,70,6,23],[36,73,6,23,"arguments"],[36,82,6,23],[36,88,6,26],[36,89,6,27],[36,90,6,28],[37,6,6,28],[37,10,6,28,"_classCallCheck"],[37,25,6,28],[37,26,6,28,"default"],[37,33,6,28],[37,41,6,28,"NativeTransport"],[37,56,6,28],[38,6,7,8],[38,10,7,12],[38,11,7,13,"_buffer"],[38,18,7,20],[38,21,7,23],[38,25,7,23,"makePromiseBuffer"],[38,37,7,40],[38,38,7,40,"makePromiseBuffer"],[38,55,7,40],[38,57,7,41,"options"],[38,64,7,48],[38,65,7,49,"bufferSize"],[38,75,7,59],[38,79,7,63,"DEFAULT_BUFFER_SIZE"],[38,98,7,82],[38,99,7,83],[39,4,8,4],[40,4,9,4],[41,0,10,0],[42,0,11,0],[43,0,12,0],[44,0,13,0],[45,4,9,4],[45,15,9,4,"_createClass"],[45,27,9,4],[45,28,9,4,"default"],[45,35,9,4],[45,37,9,4,"NativeTransport"],[45,52,9,4],[46,6,9,4,"key"],[46,9,9,4],[47,6,9,4,"value"],[47,11,9,4],[47,13,14,4],[47,22,14,4,"send"],[47,26,14,8,"send"],[47,27,14,9,"envelope"],[47,35,14,17],[47,37,14,19],[48,8,15,8],[48,15,15,15],[48,19,15,19],[48,20,15,20,"_buffer"],[48,27,15,27],[48,28,15,28,"add"],[48,31,15,31],[48,32,15,32],[48,38,15,38,"NATIVE"],[48,46,15,44],[48,47,15,44,"NATIVE"],[48,53,15,44],[48,54,15,45,"sendEnvelope"],[48,66,15,57],[48,67,15,58,"envelope"],[48,75,15,66],[48,76,15,67],[48,77,15,68],[49,6,16,4],[50,6,17,4],[51,0,18,0],[52,0,19,0],[53,0,20,0],[54,0,21,0],[55,0,22,0],[56,0,23,0],[57,0,24,0],[58,4,17,4],[59,6,17,4,"key"],[59,9,17,4],[60,6,17,4,"value"],[60,11,17,4],[60,13,25,4],[60,22,25,4,"flush"],[60,27,25,9,"flush"],[60,28,25,10,"timeout"],[60,35,25,17],[60,37,25,19],[61,8,26,8],[61,15,26,15],[61,19,26,19],[61,20,26,20,"_buffer"],[61,27,26,27],[61,28,26,28,"drain"],[61,33,26,33],[61,34,26,34,"timeout"],[61,41,26,41],[61,42,26,42],[62,6,27,4],[63,4,27,5],[64,2,27,5],[65,2,29,0],[66,0,30,0],[67,0,31,0],[68,2,32,7],[68,11,32,16,"makeNativeTransport"],[68,30,32,35,"makeNativeTransport"],[68,31,32,35],[68,33,32,50],[69,4,32,50],[69,8,32,36,"options"],[69,15,32,43],[69,18,32,43,"arguments"],[69,27,32,43],[69,28,32,43,"length"],[69,34,32,43],[69,42,32,43,"arguments"],[69,51,32,43],[69,59,32,43,"undefined"],[69,68,32,43],[69,71,32,43,"arguments"],[69,80,32,43],[69,86,32,46],[69,87,32,47],[69,88,32,48],[70,4,33,4],[70,11,33,11],[70,15,33,15,"NativeTransport"],[70,30,33,30],[70,31,33,31,"options"],[70,38,33,38],[70,39,33,39],[71,2,34,0],[72,2,35,0],[73,0,36,0],[74,0,37,0],[75,2,38,7],[75,11,38,16,"makeNativeTransportFactory"],[75,37,38,42,"makeNativeTransportFactory"],[75,38,38,42,"_ref"],[75,42,38,42],[75,44,38,62],[76,4,38,62],[76,8,38,45,"enableNative"],[76,20,38,57],[76,23,38,57,"_ref"],[76,27,38,57],[76,28,38,45,"enableNative"],[76,40,38,57],[77,4,39,4],[77,8,39,8,"enableNative"],[77,20,39,20],[77,24,39,24,"NATIVE"],[77,32,39,30],[77,33,39,30,"NATIVE"],[77,39,39,30],[77,40,39,31,"isNativeAvailable"],[77,57,39,48],[77,58,39,49],[77,59,39,50],[77,61,39,52],[78,6,40,8],[78,13,40,15,"makeNativeTransport"],[78,32,40,34],[79,4,41,4],[80,4,42,4],[80,11,42,11],[80,15,42,15],[81,2,43,0],[82,0,43,1],[82,3]],"functionMap":{"names":["<global>","NativeTransport","NativeTransport#constructor","NativeTransport#send","_buffer.add$argument_0","NativeTransport#flush","makeNativeTransport","makeNativeTransportFactory"],"mappings":"AAA;OCI;ICC;KDE;IEM;gCCC,mCD;KFC;IIS;KJE;CDC;OMI;CNE;OOI;CPK"},"hasCjsExports":false},"type":"js/module"}]}