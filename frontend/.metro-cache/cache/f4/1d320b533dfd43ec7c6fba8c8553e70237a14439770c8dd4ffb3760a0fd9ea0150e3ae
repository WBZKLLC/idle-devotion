{"dependencies":[{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":4,"index":27},"end":{"line":3,"column":28,"index":51}},{"start":{"line":7,"column":14,"index":132},"end":{"line":7,"column":38,"index":156}}],"key":"ud8OE6Lg8Q81+bS6ynZj2uyMPdA=","exportNames":["*"],"imports":2}},{"name":"./utils/node-utils.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":18,"index":176},"end":{"line":8,"column":50,"index":208}}],"key":"nAIWt1BOOZ86MvoHpjeMwr97UUM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var {\n    _optionalChain\n  } = require(_dependencyMap[0], \"@sentry/utils\");\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  const utils = require(_dependencyMap[0], \"@sentry/utils\");\n  const nodeUtils = require(_dependencyMap[1], \"./utils/node-utils.js\");\n\n  // This allows us to use the same array for both defaults options and the type itself.\n  // (note `as const` at the end to make it a union of string literal types (i.e. \"a\" | \"b\" | ... )\n  // and not just a string[])\n\n  const OPERATIONS = ['aggregate',\n  // aggregate(pipeline, options, callback)\n  'bulkWrite',\n  // bulkWrite(operations, options, callback)\n  'countDocuments',\n  // countDocuments(query, options, callback)\n  'createIndex',\n  // createIndex(fieldOrSpec, options, callback)\n  'createIndexes',\n  // createIndexes(indexSpecs, options, callback)\n  'deleteMany',\n  // deleteMany(filter, options, callback)\n  'deleteOne',\n  // deleteOne(filter, options, callback)\n  'distinct',\n  // distinct(key, query, options, callback)\n  'drop',\n  // drop(options, callback)\n  'dropIndex',\n  // dropIndex(indexName, options, callback)\n  'dropIndexes',\n  // dropIndexes(options, callback)\n  'estimatedDocumentCount',\n  // estimatedDocumentCount(options, callback)\n  'find',\n  // find(query, options, callback)\n  'findOne',\n  // findOne(query, options, callback)\n  'findOneAndDelete',\n  // findOneAndDelete(filter, options, callback)\n  'findOneAndReplace',\n  // findOneAndReplace(filter, replacement, options, callback)\n  'findOneAndUpdate',\n  // findOneAndUpdate(filter, update, options, callback)\n  'indexes',\n  // indexes(options, callback)\n  'indexExists',\n  // indexExists(indexes, options, callback)\n  'indexInformation',\n  // indexInformation(options, callback)\n  'initializeOrderedBulkOp',\n  // initializeOrderedBulkOp(options, callback)\n  'insertMany',\n  // insertMany(docs, options, callback)\n  'insertOne',\n  // insertOne(doc, options, callback)\n  'isCapped',\n  // isCapped(options, callback)\n  'mapReduce',\n  // mapReduce(map, reduce, options, callback)\n  'options',\n  // options(options, callback)\n  'parallelCollectionScan',\n  // parallelCollectionScan(options, callback)\n  'rename',\n  // rename(newName, options, callback)\n  'replaceOne',\n  // replaceOne(filter, doc, options, callback)\n  'stats',\n  // stats(options, callback)\n  'updateMany',\n  // updateMany(filter, update, options, callback)\n  'updateOne' // updateOne(filter, update, options, callback)\n  ];\n\n  // All of the operations above take `options` and `callback` as their final parameters, but some of them\n  // take additional parameters as well. For those operations, this is a map of\n  // { <operation name>:  [<names of additional parameters>] }, as a way to know what to call the operation's\n  // positional arguments when we add them to the span's `data` object later\n  const OPERATION_SIGNATURES = {\n    // aggregate intentionally not included because `pipeline` arguments are too complex to serialize well\n    // see https://github.com/getsentry/sentry-javascript/pull/3102\n    bulkWrite: ['operations'],\n    countDocuments: ['query'],\n    createIndex: ['fieldOrSpec'],\n    createIndexes: ['indexSpecs'],\n    deleteMany: ['filter'],\n    deleteOne: ['filter'],\n    distinct: ['key', 'query'],\n    dropIndex: ['indexName'],\n    find: ['query'],\n    findOne: ['query'],\n    findOneAndDelete: ['filter'],\n    findOneAndReplace: ['filter', 'replacement'],\n    findOneAndUpdate: ['filter', 'update'],\n    indexExists: ['indexes'],\n    insertMany: ['docs'],\n    insertOne: ['doc'],\n    mapReduce: ['map', 'reduce'],\n    rename: ['newName'],\n    replaceOne: ['filter', 'doc'],\n    updateMany: ['filter', 'update'],\n    updateOne: ['filter', 'update']\n  };\n  function isCursor(maybeCursor) {\n    return maybeCursor && typeof maybeCursor === 'object' && maybeCursor.once && typeof maybeCursor.once === 'function';\n  }\n\n  /** Tracing integration for mongo package */\n  class Mongo {\n    /**\n     * @inheritDoc\n     */\n    static __initStatic() {\n      this.id = 'Mongo';\n    }\n\n    /**\n     * @inheritDoc\n     */\n\n    /**\n     * @inheritDoc\n     */\n    constructor(options = {}) {\n      this.name = Mongo.id;\n      this._operations = Array.isArray(options.operations) ? options.operations : OPERATIONS;\n      this._describeOperations = 'describeOperations' in options ? options.describeOperations : true;\n      this._useMongoose = !!options.useMongoose;\n    }\n\n    /** @inheritdoc */\n    loadDependency() {\n      const moduleName = this._useMongoose ? 'mongoose' : 'mongodb';\n      return this._module = this._module || utils.loadModule(moduleName);\n    }\n\n    /**\n     * @inheritDoc\n     */\n    setupOnce(_, getCurrentHub) {\n      if (nodeUtils.shouldDisableAutoInstrumentation(getCurrentHub)) {\n        (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && utils.logger.log('Mongo Integration is skipped because of instrumenter configuration.');\n        return;\n      }\n      const pkg = this.loadDependency();\n      if (!pkg) {\n        const moduleName = this._useMongoose ? 'mongoose' : 'mongodb';\n        (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && utils.logger.error(`Mongo Integration was unable to require \\`${moduleName}\\` package.`);\n        return;\n      }\n      this._instrumentOperations(pkg.Collection, this._operations, getCurrentHub);\n    }\n\n    /**\n     * Patches original collection methods\n     */\n    _instrumentOperations(collection, operations, getCurrentHub) {\n      operations.forEach(operation => this._patchOperation(collection, operation, getCurrentHub));\n    }\n\n    /**\n     * Patches original collection to utilize our tracing functionality\n     */\n    _patchOperation(collection, operation, getCurrentHub) {\n      if (!(operation in collection.prototype)) return;\n      const getSpanContext = this._getSpanContextFromOperationArguments.bind(this);\n      utils.fill(collection.prototype, operation, function (orig) {\n        return function (...args) {\n          const lastArg = args[args.length - 1];\n          const scope = getCurrentHub().getScope();\n          const parentSpan = scope.getSpan();\n\n          // Check if the operation was passed a callback. (mapReduce requires a different check, as\n          // its (non-callback) arguments can also be functions.)\n          if (typeof lastArg !== 'function' || operation === 'mapReduce' && args.length === 2) {\n            const span = _optionalChain([parentSpan, 'optionalAccess', _2 => _2.startChild, 'call', _3 => _3(getSpanContext(this, operation, args))]);\n            const maybePromiseOrCursor = orig.call(this, ...args);\n            if (utils.isThenable(maybePromiseOrCursor)) {\n              return maybePromiseOrCursor.then(res => {\n                _optionalChain([span, 'optionalAccess', _4 => _4.finish, 'call', _5 => _5()]);\n                return res;\n              });\n            }\n            // If the operation returns a Cursor\n            // we need to attach a listener to it to finish the span when the cursor is closed.\n            else if (isCursor(maybePromiseOrCursor)) {\n              const cursor = maybePromiseOrCursor;\n              try {\n                cursor.once('close', () => {\n                  _optionalChain([span, 'optionalAccess', _6 => _6.finish, 'call', _7 => _7()]);\n                });\n              } catch (e) {\n                // If the cursor is already closed, `once` will throw an error. In that case, we can\n                // finish the span immediately.\n                _optionalChain([span, 'optionalAccess', _8 => _8.finish, 'call', _9 => _9()]);\n              }\n              return cursor;\n            } else {\n              _optionalChain([span, 'optionalAccess', _10 => _10.finish, 'call', _11 => _11()]);\n              return maybePromiseOrCursor;\n            }\n          }\n          const span = _optionalChain([parentSpan, 'optionalAccess', _12 => _12.startChild, 'call', _13 => _13(getSpanContext(this, operation, args.slice(0, -1)))]);\n          return orig.call(this, ...args.slice(0, -1), function (err, result) {\n            _optionalChain([span, 'optionalAccess', _14 => _14.finish, 'call', _15 => _15()]);\n            lastArg(err, result);\n          });\n        };\n      });\n    }\n\n    /**\n     * Form a SpanContext based on the user input to a given operation.\n     */\n    _getSpanContextFromOperationArguments(collection, operation, args) {\n      const data = {\n        'db.system': 'mongodb',\n        'db.name': collection.dbName,\n        'db.operation': operation,\n        'db.mongodb.collection': collection.collectionName\n      };\n      const spanContext = {\n        op: 'db',\n        // TODO v8: Use `${collection.collectionName}.${operation}`\n        origin: 'auto.db.mongo',\n        description: operation,\n        data\n      };\n\n      // If the operation takes no arguments besides `options` and `callback`, or if argument\n      // collection is disabled for this operation, just return early.\n      const signature = OPERATION_SIGNATURES[operation];\n      const shouldDescribe = Array.isArray(this._describeOperations) ? this._describeOperations.includes(operation) : this._describeOperations;\n      if (!signature || !shouldDescribe) {\n        return spanContext;\n      }\n      try {\n        // Special case for `mapReduce`, as the only one accepting functions as arguments.\n        if (operation === 'mapReduce') {\n          const [map, reduce] = args;\n          data[signature[0]] = typeof map === 'string' ? map : map.name || '<anonymous>';\n          data[signature[1]] = typeof reduce === 'string' ? reduce : reduce.name || '<anonymous>';\n        } else {\n          for (let i = 0; i < signature.length; i++) {\n            data[`db.mongodb.${signature[i]}`] = JSON.stringify(args[i]);\n          }\n        }\n      } catch (_oO) {\n        // no-empty\n      }\n      return spanContext;\n    }\n  }\n  Mongo.__initStatic();\n  exports.Mongo = Mongo;\n});","lineCount":261,"map":[[2,2,1,0],[2,6,1,4],[3,4,2,2,"_optionalChain"],[4,2,3,0],[4,3,3,1],[4,6,3,4,"require"],[4,13,3,11],[4,14,3,11,"_dependencyMap"],[4,28,3,11],[4,48,3,27],[4,49,3,28],[5,2,5,0,"Object"],[5,8,5,6],[5,9,5,7,"defineProperty"],[5,23,5,21],[5,24,5,22,"exports"],[5,31,5,29],[5,33,5,31],[5,45,5,43],[5,47,5,45],[6,4,5,47,"value"],[6,9,5,52],[6,11,5,54],[7,2,5,59],[7,3,5,60],[7,4,5,61],[8,2,7,0],[8,8,7,6,"utils"],[8,13,7,11],[8,16,7,14,"require"],[8,23,7,21],[8,24,7,21,"_dependencyMap"],[8,38,7,21],[8,58,7,37],[8,59,7,38],[9,2,8,0],[9,8,8,6,"nodeUtils"],[9,17,8,15],[9,20,8,18,"require"],[9,27,8,25],[9,28,8,25,"_dependencyMap"],[9,42,8,25],[9,70,8,49],[9,71,8,50],[11,2,10,0],[12,2,11,0],[13,2,12,0],[15,2,14,0],[15,8,14,6,"OPERATIONS"],[15,18,14,16],[15,21,14,19],[15,22,15,2],[15,33,15,13],[16,2,15,15],[17,2,16,2],[17,13,16,13],[18,2,16,15],[19,2,17,2],[19,18,17,18],[20,2,17,20],[21,2,18,2],[21,15,18,15],[22,2,18,17],[23,2,19,2],[23,17,19,17],[24,2,19,19],[25,2,20,2],[25,14,20,14],[26,2,20,16],[27,2,21,2],[27,13,21,13],[28,2,21,15],[29,2,22,2],[29,12,22,12],[30,2,22,14],[31,2,23,2],[31,8,23,8],[32,2,23,10],[33,2,24,2],[33,13,24,13],[34,2,24,15],[35,2,25,2],[35,15,25,15],[36,2,25,17],[37,2,26,2],[37,26,26,26],[38,2,26,28],[39,2,27,2],[39,8,27,8],[40,2,27,10],[41,2,28,2],[41,11,28,11],[42,2,28,13],[43,2,29,2],[43,20,29,20],[44,2,29,22],[45,2,30,2],[45,21,30,21],[46,2,30,23],[47,2,31,2],[47,20,31,20],[48,2,31,22],[49,2,32,2],[49,11,32,11],[50,2,32,13],[51,2,33,2],[51,15,33,15],[52,2,33,17],[53,2,34,2],[53,20,34,20],[54,2,34,22],[55,2,35,2],[55,27,35,27],[56,2,35,29],[57,2,36,2],[57,14,36,14],[58,2,36,16],[59,2,37,2],[59,13,37,13],[60,2,37,15],[61,2,38,2],[61,12,38,12],[62,2,38,14],[63,2,39,2],[63,13,39,13],[64,2,39,15],[65,2,40,2],[65,11,40,11],[66,2,40,13],[67,2,41,2],[67,26,41,26],[68,2,41,28],[69,2,42,2],[69,10,42,10],[70,2,42,12],[71,2,43,2],[71,14,43,14],[72,2,43,16],[73,2,44,2],[73,9,44,9],[74,2,44,11],[75,2,45,2],[75,14,45,14],[76,2,45,16],[77,2,46,2],[77,13,46,13],[77,14,46,15],[78,2,46,15],[78,3,47,1],[80,2,49,0],[81,2,50,0],[82,2,51,0],[83,2,52,0],[84,2,53,0],[84,8,53,6,"OPERATION_SIGNATURES"],[84,28,53,26],[84,31,55,3],[85,4,56,2],[86,4,57,2],[87,4,58,2,"bulkWrite"],[87,13,58,11],[87,15,58,13],[87,16,58,14],[87,28,58,26],[87,29,58,27],[88,4,59,2,"countDocuments"],[88,18,59,16],[88,20,59,18],[88,21,59,19],[88,28,59,26],[88,29,59,27],[89,4,60,2,"createIndex"],[89,15,60,13],[89,17,60,15],[89,18,60,16],[89,31,60,29],[89,32,60,30],[90,4,61,2,"createIndexes"],[90,17,61,15],[90,19,61,17],[90,20,61,18],[90,32,61,30],[90,33,61,31],[91,4,62,2,"deleteMany"],[91,14,62,12],[91,16,62,14],[91,17,62,15],[91,25,62,23],[91,26,62,24],[92,4,63,2,"deleteOne"],[92,13,63,11],[92,15,63,13],[92,16,63,14],[92,24,63,22],[92,25,63,23],[93,4,64,2,"distinct"],[93,12,64,10],[93,14,64,12],[93,15,64,13],[93,20,64,18],[93,22,64,20],[93,29,64,27],[93,30,64,28],[94,4,65,2,"dropIndex"],[94,13,65,11],[94,15,65,13],[94,16,65,14],[94,27,65,25],[94,28,65,26],[95,4,66,2,"find"],[95,8,66,6],[95,10,66,8],[95,11,66,9],[95,18,66,16],[95,19,66,17],[96,4,67,2,"findOne"],[96,11,67,9],[96,13,67,11],[96,14,67,12],[96,21,67,19],[96,22,67,20],[97,4,68,2,"findOneAndDelete"],[97,20,68,18],[97,22,68,20],[97,23,68,21],[97,31,68,29],[97,32,68,30],[98,4,69,2,"findOneAndReplace"],[98,21,69,19],[98,23,69,21],[98,24,69,22],[98,32,69,30],[98,34,69,32],[98,47,69,45],[98,48,69,46],[99,4,70,2,"findOneAndUpdate"],[99,20,70,18],[99,22,70,20],[99,23,70,21],[99,31,70,29],[99,33,70,31],[99,41,70,39],[99,42,70,40],[100,4,71,2,"indexExists"],[100,15,71,13],[100,17,71,15],[100,18,71,16],[100,27,71,25],[100,28,71,26],[101,4,72,2,"insertMany"],[101,14,72,12],[101,16,72,14],[101,17,72,15],[101,23,72,21],[101,24,72,22],[102,4,73,2,"insertOne"],[102,13,73,11],[102,15,73,13],[102,16,73,14],[102,21,73,19],[102,22,73,20],[103,4,74,2,"mapReduce"],[103,13,74,11],[103,15,74,13],[103,16,74,14],[103,21,74,19],[103,23,74,21],[103,31,74,29],[103,32,74,30],[104,4,75,2,"rename"],[104,10,75,8],[104,12,75,10],[104,13,75,11],[104,22,75,20],[104,23,75,21],[105,4,76,2,"replaceOne"],[105,14,76,12],[105,16,76,14],[105,17,76,15],[105,25,76,23],[105,27,76,25],[105,32,76,30],[105,33,76,31],[106,4,77,2,"updateMany"],[106,14,77,12],[106,16,77,14],[106,17,77,15],[106,25,77,23],[106,27,77,25],[106,35,77,33],[106,36,77,34],[107,4,78,2,"updateOne"],[107,13,78,11],[107,15,78,13],[107,16,78,14],[107,24,78,22],[107,26,78,24],[107,34,78,32],[108,2,79,0],[108,3,79,1],[109,2,81,0],[109,11,81,9,"isCursor"],[109,19,81,17,"isCursor"],[109,20,81,18,"maybeCursor"],[109,31,81,29],[109,33,81,31],[110,4,82,2],[110,11,82,9,"maybeCursor"],[110,22,82,20],[110,26,82,24],[110,33,82,31,"maybeCursor"],[110,44,82,42],[110,49,82,47],[110,57,82,55],[110,61,82,59,"maybeCursor"],[110,72,82,70],[110,73,82,71,"once"],[110,77,82,75],[110,81,82,79],[110,88,82,86,"maybeCursor"],[110,99,82,97],[110,100,82,98,"once"],[110,104,82,102],[110,109,82,107],[110,119,82,117],[111,2,83,0],[113,2,85,0],[114,2,86,0],[114,8,86,6,"Mongo"],[114,13,86,11],[114,14,86,13],[115,4,87,2],[116,0,88,0],[117,0,89,0],[118,4,90,3],[118,11,90,10,"__initStatic"],[118,23,90,22,"__initStatic"],[118,24,90,22],[118,26,90,25],[119,6,90,26],[119,10,90,30],[119,11,90,31,"id"],[119,13,90,33],[119,16,90,36],[119,23,90,43],[120,4,90,44],[122,4,92,2],[123,0,93,0],[124,0,94,0],[126,4,96,2],[127,0,97,0],[128,0,98,0],[129,4,99,3,"constructor"],[129,15,99,14,"constructor"],[129,16,99,15,"options"],[129,23,99,22],[129,26,99,25],[129,27,99,26],[129,28,99,27],[129,30,99,29],[130,6,100,4],[130,10,100,8],[130,11,100,9,"name"],[130,15,100,13],[130,18,100,16,"Mongo"],[130,23,100,21],[130,24,100,22,"id"],[130,26,100,24],[131,6,101,4],[131,10,101,8],[131,11,101,9,"_operations"],[131,22,101,20],[131,25,101,23,"Array"],[131,30,101,28],[131,31,101,29,"isArray"],[131,38,101,36],[131,39,101,37,"options"],[131,46,101,44],[131,47,101,45,"operations"],[131,57,101,55],[131,58,101,56],[131,61,101,59,"options"],[131,68,101,66],[131,69,101,67,"operations"],[131,79,101,77],[131,82,101,81,"OPERATIONS"],[131,92,101,93],[132,6,102,4],[132,10,102,8],[132,11,102,9,"_describeOperations"],[132,30,102,28],[132,33,102,31],[132,53,102,51],[132,57,102,55,"options"],[132,64,102,62],[132,67,102,65,"options"],[132,74,102,72],[132,75,102,73,"describeOperations"],[132,93,102,91],[132,96,102,94],[132,100,102,98],[133,6,103,4],[133,10,103,8],[133,11,103,9,"_useMongoose"],[133,23,103,21],[133,26,103,24],[133,27,103,25],[133,28,103,26,"options"],[133,35,103,33],[133,36,103,34,"useMongoose"],[133,47,103,45],[134,4,104,2],[136,4,106,2],[137,4,107,3,"loadDependency"],[137,18,107,17,"loadDependency"],[137,19,107,17],[137,21,107,20],[138,6,108,4],[138,12,108,10,"moduleName"],[138,22,108,20],[138,25,108,23],[138,29,108,27],[138,30,108,28,"_useMongoose"],[138,42,108,40],[138,45,108,43],[138,55,108,53],[138,58,108,56],[138,67,108,65],[139,6,109,4],[139,13,109,12],[139,17,109,16],[139,18,109,17,"_module"],[139,25,109,24],[139,28,109,27],[139,32,109,31],[139,33,109,32,"_module"],[139,40,109,39],[139,44,109,43,"utils"],[139,49,109,48],[139,50,109,49,"loadModule"],[139,60,109,59],[139,61,109,60,"moduleName"],[139,71,109,70],[139,72,109,71],[140,4,110,2],[142,4,112,2],[143,0,113,0],[144,0,114,0],[145,4,115,3,"setupOnce"],[145,13,115,12,"setupOnce"],[145,14,115,13,"_"],[145,15,115,14],[145,17,115,16,"getCurrentHub"],[145,30,115,29],[145,32,115,31],[146,6,116,4],[146,10,116,8,"nodeUtils"],[146,19,116,17],[146,20,116,18,"shouldDisableAutoInstrumentation"],[146,52,116,50],[146,53,116,51,"getCurrentHub"],[146,66,116,64],[146,67,116,65],[146,69,116,67],[147,8,117,6],[147,9,117,7],[147,16,117,14,"__SENTRY_DEBUG__"],[147,32,117,30],[147,37,117,35],[147,48,117,46],[147,52,117,50,"__SENTRY_DEBUG__"],[147,68,117,66],[147,73,117,71,"utils"],[147,78,117,76],[147,79,117,77,"logger"],[147,85,117,83],[147,86,117,84,"log"],[147,89,117,87],[147,90,117,88],[147,159,117,157],[147,160,117,158],[148,8,118,6],[149,6,119,4],[150,6,121,4],[150,12,121,10,"pkg"],[150,15,121,13],[150,18,121,16],[150,22,121,20],[150,23,121,21,"loadDependency"],[150,37,121,35],[150,38,121,36],[150,39,121,37],[151,6,123,4],[151,10,123,8],[151,11,123,9,"pkg"],[151,14,123,12],[151,16,123,14],[152,8,124,6],[152,14,124,12,"moduleName"],[152,24,124,22],[152,27,124,25],[152,31,124,29],[152,32,124,30,"_useMongoose"],[152,44,124,42],[152,47,124,45],[152,57,124,55],[152,60,124,58],[152,69,124,67],[153,8,125,6],[153,9,125,7],[153,16,125,14,"__SENTRY_DEBUG__"],[153,32,125,30],[153,37,125,35],[153,48,125,46],[153,52,125,50,"__SENTRY_DEBUG__"],[153,68,125,66],[153,73,125,71,"utils"],[153,78,125,76],[153,79,125,77,"logger"],[153,85,125,83],[153,86,125,84,"error"],[153,91,125,89],[153,92,125,90],[153,137,125,135,"moduleName"],[153,147,125,145],[153,160,125,158],[153,161,125,159],[154,8,126,6],[155,6,127,4],[156,6,129,4],[156,10,129,8],[156,11,129,9,"_instrumentOperations"],[156,32,129,30],[156,33,129,31,"pkg"],[156,36,129,34],[156,37,129,35,"Collection"],[156,47,129,45],[156,49,129,47],[156,53,129,51],[156,54,129,52,"_operations"],[156,65,129,63],[156,67,129,65,"getCurrentHub"],[156,80,129,78],[156,81,129,79],[157,4,130,2],[159,4,132,2],[160,0,133,0],[161,0,134,0],[162,4,135,3,"_instrumentOperations"],[162,25,135,24,"_instrumentOperations"],[162,26,135,25,"collection"],[162,36,135,35],[162,38,135,37,"operations"],[162,48,135,47],[162,50,135,49,"getCurrentHub"],[162,63,135,62],[162,65,135,64],[163,6,136,4,"operations"],[163,16,136,14],[163,17,136,15,"forEach"],[163,24,136,22],[163,25,136,24,"operation"],[163,34,136,33],[163,38,136,38],[163,42,136,42],[163,43,136,43,"_patchOperation"],[163,58,136,58],[163,59,136,59,"collection"],[163,69,136,69],[163,71,136,71,"operation"],[163,80,136,80],[163,82,136,82,"getCurrentHub"],[163,95,136,95],[163,96,136,96],[163,97,136,97],[164,4,137,2],[166,4,139,2],[167,0,140,0],[168,0,141,0],[169,4,142,3,"_patchOperation"],[169,19,142,18,"_patchOperation"],[169,20,142,19,"collection"],[169,30,142,29],[169,32,142,31,"operation"],[169,41,142,40],[169,43,142,42,"getCurrentHub"],[169,56,142,55],[169,58,142,57],[170,6,143,4],[170,10,143,8],[170,12,143,10,"operation"],[170,21,143,19],[170,25,143,23,"collection"],[170,35,143,33],[170,36,143,34,"prototype"],[170,45,143,43],[170,46,143,44],[170,48,143,46],[171,6,145,4],[171,12,145,10,"getSpanContext"],[171,26,145,24],[171,29,145,27],[171,33,145,31],[171,34,145,32,"_getSpanContextFromOperationArguments"],[171,71,145,69],[171,72,145,70,"bind"],[171,76,145,74],[171,77,145,75],[171,81,145,79],[171,82,145,80],[172,6,147,4,"utils"],[172,11,147,9],[172,12,147,10,"fill"],[172,16,147,14],[172,17,147,15,"collection"],[172,27,147,25],[172,28,147,26,"prototype"],[172,37,147,35],[172,39,147,37,"operation"],[172,48,147,46],[172,50,147,48],[172,60,147,58,"orig"],[172,64,147,62],[172,66,147,64],[173,8,148,6],[173,15,148,13],[173,25,148,24],[173,28,148,27,"args"],[173,32,148,31],[173,34,148,33],[174,10,149,8],[174,16,149,14,"lastArg"],[174,23,149,21],[174,26,149,24,"args"],[174,30,149,28],[174,31,149,29,"args"],[174,35,149,33],[174,36,149,34,"length"],[174,42,149,40],[174,45,149,43],[174,46,149,44],[174,47,149,45],[175,10,150,8],[175,16,150,14,"scope"],[175,21,150,19],[175,24,150,22,"getCurrentHub"],[175,37,150,35],[175,38,150,36],[175,39,150,37],[175,40,150,38,"getScope"],[175,48,150,46],[175,49,150,47],[175,50,150,48],[176,10,151,8],[176,16,151,14,"parentSpan"],[176,26,151,24],[176,29,151,27,"scope"],[176,34,151,32],[176,35,151,33,"getSpan"],[176,42,151,40],[176,43,151,41],[176,44,151,42],[178,10,153,8],[179,10,154,8],[180,10,155,8],[180,14,155,12],[180,21,155,19,"lastArg"],[180,28,155,26],[180,33,155,31],[180,43,155,41],[180,47,155,46,"operation"],[180,56,155,55],[180,61,155,60],[180,72,155,71],[180,76,155,75,"args"],[180,80,155,79],[180,81,155,80,"length"],[180,87,155,86],[180,92,155,91],[180,93,155,93],[180,95,155,95],[181,12,156,10],[181,18,156,16,"span"],[181,22,156,20],[181,25,156,23,"_optionalChain"],[181,39,156,37],[181,40,156,38],[181,41,156,39,"parentSpan"],[181,51,156,49],[181,53,156,51],[181,69,156,67],[181,71,156,69,"_2"],[181,73,156,71],[181,77,156,75,"_2"],[181,79,156,77],[181,80,156,78,"startChild"],[181,90,156,88],[181,92,156,90],[181,98,156,96],[181,100,156,98,"_3"],[181,102,156,100],[181,106,156,104,"_3"],[181,108,156,106],[181,109,156,107,"getSpanContext"],[181,123,156,121],[181,124,156,122],[181,128,156,126],[181,130,156,128,"operation"],[181,139,156,137],[181,141,156,139,"args"],[181,145,156,143],[181,146,156,144],[181,147,156,145],[181,148,156,146],[181,149,156,147],[182,12,157,10],[182,18,157,16,"maybePromiseOrCursor"],[182,38,157,36],[182,41,157,39,"orig"],[182,45,157,43],[182,46,157,44,"call"],[182,50,157,48],[182,51,157,49],[182,55,157,53],[182,57,157,55],[182,60,157,58,"args"],[182,64,157,62],[182,65,157,63],[183,12,159,10],[183,16,159,14,"utils"],[183,21,159,19],[183,22,159,20,"isThenable"],[183,32,159,30],[183,33,159,31,"maybePromiseOrCursor"],[183,53,159,51],[183,54,159,52],[183,56,159,54],[184,14,160,12],[184,21,160,19,"maybePromiseOrCursor"],[184,41,160,39],[184,42,160,40,"then"],[184,46,160,44],[184,47,160,46,"res"],[184,50,160,49],[184,54,160,54],[185,16,161,14,"_optionalChain"],[185,30,161,28],[185,31,161,29],[185,32,161,30,"span"],[185,36,161,34],[185,38,161,36],[185,54,161,52],[185,56,161,54,"_4"],[185,58,161,56],[185,62,161,60,"_4"],[185,64,161,62],[185,65,161,63,"finish"],[185,71,161,69],[185,73,161,71],[185,79,161,77],[185,81,161,79,"_5"],[185,83,161,81],[185,87,161,85,"_5"],[185,89,161,87],[185,90,161,88],[185,91,161,89],[185,92,161,90],[185,93,161,91],[186,16,162,14],[186,23,162,21,"res"],[186,26,162,24],[187,14,163,12],[187,15,163,13],[187,16,163,14],[188,12,164,10],[189,12,165,10],[190,12,166,10],[191,12,166,10],[191,17,167,15],[191,21,167,19,"isCursor"],[191,29,167,27],[191,30,167,28,"maybePromiseOrCursor"],[191,50,167,48],[191,51,167,49],[191,53,167,51],[192,14,168,12],[192,20,168,18,"cursor"],[192,26,168,24],[192,29,168,27,"maybePromiseOrCursor"],[192,49,168,47],[193,14,170,12],[193,18,170,16],[194,16,171,14,"cursor"],[194,22,171,20],[194,23,171,21,"once"],[194,27,171,25],[194,28,171,26],[194,35,171,33],[194,37,171,35],[194,43,171,41],[195,18,172,16,"_optionalChain"],[195,32,172,30],[195,33,172,31],[195,34,172,32,"span"],[195,38,172,36],[195,40,172,38],[195,56,172,54],[195,58,172,56,"_6"],[195,60,172,58],[195,64,172,62,"_6"],[195,66,172,64],[195,67,172,65,"finish"],[195,73,172,71],[195,75,172,73],[195,81,172,79],[195,83,172,81,"_7"],[195,85,172,83],[195,89,172,87,"_7"],[195,91,172,89],[195,92,172,90],[195,93,172,91],[195,94,172,92],[195,95,172,93],[196,16,173,14],[196,17,173,15],[196,18,173,16],[197,14,174,12],[197,15,174,13],[197,16,174,14],[197,23,174,21,"e"],[197,24,174,22],[197,26,174,24],[198,16,175,14],[199,16,176,14],[200,16,177,14,"_optionalChain"],[200,30,177,28],[200,31,177,29],[200,32,177,30,"span"],[200,36,177,34],[200,38,177,36],[200,54,177,52],[200,56,177,54,"_8"],[200,58,177,56],[200,62,177,60,"_8"],[200,64,177,62],[200,65,177,63,"finish"],[200,71,177,69],[200,73,177,71],[200,79,177,77],[200,81,177,79,"_9"],[200,83,177,81],[200,87,177,85,"_9"],[200,89,177,87],[200,90,177,88],[200,91,177,89],[200,92,177,90],[200,93,177,91],[201,14,178,12],[202,14,180,12],[202,21,180,19,"cursor"],[202,27,180,25],[203,12,181,10],[203,13,181,11],[203,19,181,17],[204,14,182,12,"_optionalChain"],[204,28,182,26],[204,29,182,27],[204,30,182,28,"span"],[204,34,182,32],[204,36,182,34],[204,52,182,50],[204,54,182,52,"_10"],[204,57,182,55],[204,61,182,59,"_10"],[204,64,182,62],[204,65,182,63,"finish"],[204,71,182,69],[204,73,182,71],[204,79,182,77],[204,81,182,79,"_11"],[204,84,182,82],[204,88,182,86,"_11"],[204,91,182,89],[204,92,182,90],[204,93,182,91],[204,94,182,92],[204,95,182,93],[205,14,183,12],[205,21,183,19,"maybePromiseOrCursor"],[205,41,183,39],[206,12,184,10],[207,10,185,8],[208,10,187,8],[208,16,187,14,"span"],[208,20,187,18],[208,23,187,21,"_optionalChain"],[208,37,187,35],[208,38,187,36],[208,39,187,37,"parentSpan"],[208,49,187,47],[208,51,187,49],[208,67,187,65],[208,69,187,67,"_12"],[208,72,187,70],[208,76,187,74,"_12"],[208,79,187,77],[208,80,187,78,"startChild"],[208,90,187,88],[208,92,187,90],[208,98,187,96],[208,100,187,98,"_13"],[208,103,187,101],[208,107,187,105,"_13"],[208,110,187,108],[208,111,187,109,"getSpanContext"],[208,125,187,123],[208,126,187,124],[208,130,187,128],[208,132,187,130,"operation"],[208,141,187,139],[208,143,187,141,"args"],[208,147,187,145],[208,148,187,146,"slice"],[208,153,187,151],[208,154,187,152],[208,155,187,153],[208,157,187,155],[208,158,187,156],[208,159,187,157],[208,160,187,158],[208,161,187,159],[208,162,187,160],[208,163,187,161],[208,164,187,162],[209,10,189,8],[209,17,189,15,"orig"],[209,21,189,19],[209,22,189,20,"call"],[209,26,189,24],[209,27,189,25],[209,31,189,29],[209,33,189,31],[209,36,189,34,"args"],[209,40,189,38],[209,41,189,39,"slice"],[209,46,189,44],[209,47,189,45],[209,48,189,46],[209,50,189,48],[209,51,189,49],[209,52,189,50],[209,53,189,51],[209,55,189,53],[209,65,189,63,"err"],[209,68,189,66],[209,70,189,68,"result"],[209,76,189,74],[209,78,189,76],[210,12,190,10,"_optionalChain"],[210,26,190,24],[210,27,190,25],[210,28,190,26,"span"],[210,32,190,30],[210,34,190,32],[210,50,190,48],[210,52,190,50,"_14"],[210,55,190,53],[210,59,190,57,"_14"],[210,62,190,60],[210,63,190,61,"finish"],[210,69,190,67],[210,71,190,69],[210,77,190,75],[210,79,190,77,"_15"],[210,82,190,80],[210,86,190,84,"_15"],[210,89,190,87],[210,90,190,88],[210,91,190,89],[210,92,190,90],[210,93,190,91],[211,12,191,10,"lastArg"],[211,19,191,17],[211,20,191,18,"err"],[211,23,191,21],[211,25,191,23,"result"],[211,31,191,29],[211,32,191,30],[212,10,192,8],[212,11,192,9],[212,12,192,10],[213,8,193,6],[213,9,193,7],[214,6,194,4],[214,7,194,5],[214,8,194,6],[215,4,195,2],[217,4,197,2],[218,0,198,0],[219,0,199,0],[220,4,200,3,"_getSpanContextFromOperationArguments"],[220,41,200,40,"_getSpanContextFromOperationArguments"],[220,42,201,4,"collection"],[220,52,201,14],[220,54,202,4,"operation"],[220,63,202,13],[220,65,203,4,"args"],[220,69,203,8],[220,71,204,4],[221,6,205,4],[221,12,205,10,"data"],[221,16,205,14],[221,19,205,17],[222,8,206,6],[222,19,206,17],[222,21,206,19],[222,30,206,28],[223,8,207,6],[223,17,207,15],[223,19,207,17,"collection"],[223,29,207,27],[223,30,207,28,"dbName"],[223,36,207,34],[224,8,208,6],[224,22,208,20],[224,24,208,22,"operation"],[224,33,208,31],[225,8,209,6],[225,31,209,29],[225,33,209,31,"collection"],[225,43,209,41],[225,44,209,42,"collectionName"],[226,6,210,4],[226,7,210,5],[227,6,211,4],[227,12,211,10,"spanContext"],[227,23,211,21],[227,26,211,24],[228,8,212,6,"op"],[228,10,212,8],[228,12,212,10],[228,16,212,14],[229,8,213,6],[230,8,214,6,"origin"],[230,14,214,12],[230,16,214,14],[230,31,214,29],[231,8,215,6,"description"],[231,19,215,17],[231,21,215,19,"operation"],[231,30,215,28],[232,8,216,6,"data"],[233,6,217,4],[233,7,217,5],[235,6,219,4],[236,6,220,4],[237,6,221,4],[237,12,221,10,"signature"],[237,21,221,19],[237,24,221,22,"OPERATION_SIGNATURES"],[237,44,221,42],[237,45,221,43,"operation"],[237,54,221,52],[237,55,221,53],[238,6,222,4],[238,12,222,10,"shouldDescribe"],[238,26,222,24],[238,29,222,27,"Array"],[238,34,222,32],[238,35,222,33,"isArray"],[238,42,222,40],[238,43,222,41],[238,47,222,45],[238,48,222,46,"_describeOperations"],[238,67,222,65],[238,68,222,66],[238,71,223,8],[238,75,223,12],[238,76,223,13,"_describeOperations"],[238,95,223,32],[238,96,223,33,"includes"],[238,104,223,41],[238,105,223,42,"operation"],[238,114,223,51],[238,115,223,52],[238,118,224,8],[238,122,224,12],[238,123,224,13,"_describeOperations"],[238,142,224,32],[239,6,226,4],[239,10,226,8],[239,11,226,9,"signature"],[239,20,226,18],[239,24,226,22],[239,25,226,23,"shouldDescribe"],[239,39,226,37],[239,41,226,39],[240,8,227,6],[240,15,227,13,"spanContext"],[240,26,227,24],[241,6,228,4],[242,6,230,4],[242,10,230,8],[243,8,231,6],[244,8,232,6],[244,12,232,10,"operation"],[244,21,232,19],[244,26,232,24],[244,37,232,35],[244,39,232,37],[245,10,233,8],[245,16,233,14],[245,17,233,15,"map"],[245,20,233,18],[245,22,233,20,"reduce"],[245,28,233,26],[245,29,233,27],[245,32,233,30,"args"],[245,36,233,34],[246,10,234,8,"data"],[246,14,234,12],[246,15,234,13,"signature"],[246,24,234,22],[246,25,234,23],[246,26,234,24],[246,27,234,25],[246,28,234,26],[246,31,234,29],[246,38,234,36,"map"],[246,41,234,39],[246,46,234,44],[246,54,234,52],[246,57,234,55,"map"],[246,60,234,58],[246,63,234,61,"map"],[246,66,234,64],[246,67,234,65,"name"],[246,71,234,69],[246,75,234,73],[246,88,234,86],[247,10,235,8,"data"],[247,14,235,12],[247,15,235,13,"signature"],[247,24,235,22],[247,25,235,23],[247,26,235,24],[247,27,235,25],[247,28,235,26],[247,31,235,29],[247,38,235,36,"reduce"],[247,44,235,42],[247,49,235,47],[247,57,235,55],[247,60,235,58,"reduce"],[247,66,235,64],[247,69,235,67,"reduce"],[247,75,235,73],[247,76,235,74,"name"],[247,80,235,78],[247,84,235,82],[247,97,235,95],[248,8,236,6],[248,9,236,7],[248,15,236,13],[249,10,237,8],[249,15,237,13],[249,19,237,17,"i"],[249,20,237,18],[249,23,237,21],[249,24,237,22],[249,26,237,24,"i"],[249,27,237,25],[249,30,237,28,"signature"],[249,39,237,37],[249,40,237,38,"length"],[249,46,237,44],[249,48,237,46,"i"],[249,49,237,47],[249,51,237,49],[249,53,237,51],[250,12,238,10,"data"],[250,16,238,14],[250,17,238,15],[250,31,238,29,"signature"],[250,40,238,38],[250,41,238,39,"i"],[250,42,238,40],[250,43,238,41],[250,45,238,43],[250,46,238,44],[250,49,238,47,"JSON"],[250,53,238,51],[250,54,238,52,"stringify"],[250,63,238,61],[250,64,238,62,"args"],[250,68,238,66],[250,69,238,67,"i"],[250,70,238,68],[250,71,238,69],[250,72,238,70],[251,10,239,8],[252,8,240,6],[253,6,241,4],[253,7,241,5],[253,8,241,6],[253,15,241,13,"_oO"],[253,18,241,16],[253,20,241,18],[254,8,242,6],[255,6,242,6],[256,6,245,4],[256,13,245,11,"spanContext"],[256,24,245,22],[257,4,246,2],[258,2,247,0],[259,2,247,1,"Mongo"],[259,7,247,6],[259,8,247,7,"__initStatic"],[259,20,247,19],[259,21,247,20],[259,22,247,21],[260,2,249,0,"exports"],[260,9,249,7],[260,10,249,8,"Mongo"],[260,15,249,13],[260,18,249,16,"Mongo"],[260,23,249,21],[261,0,249,22],[261,3]],"functionMap":{"names":["<global>","isCursor","Mongo","Mongo.__initStatic","Mongo#constructor","Mongo#loadDependency","Mongo#setupOnce","Mongo#_instrumentOperations","operations.forEach$argument_0","Mongo#_patchOperation","utils.fill$argument_2","<anonymous>","maybePromiseOrCursor.then$argument_0","cursor.once$argument_1","orig.call$argument_2","Mongo#_getSpanContextFromOperationArguments"],"mappings":"AAA;ACgF;CDE;AEG;GCI,0CD;GES;GFK;GGG;GHG;GIK;GJe;GKK;uBCC,yED;GLC;GOK;gDCK;aCC;6CCY;sDDC,eC,UD,UC;aDE;mCEQ;wDFC,eE,UF,UE;eFC;qDGgB;kDHC,iBG,UH,YG;SHE;ODC;KDC;GPC;GaK;Gb8C;CFC"},"hasCjsExports":true},"type":"js/module"}]}