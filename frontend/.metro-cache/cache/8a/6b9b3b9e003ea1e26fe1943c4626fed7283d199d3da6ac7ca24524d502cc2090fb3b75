{"dependencies":[{"name":"./is.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":35,"index":35}}],"key":"C6fLnEQPNIdj7xXbougAJ0zoinA=","exportNames":["*"],"imports":1}},{"name":"./worldwide.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":36},"end":{"line":2,"column":49,"index":85}}],"key":"LZlrQCVO4H3zUFIdbw1eEy4GKGE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"getDomElement\", {\n    enumerable: true,\n    get: function () {\n      return getDomElement;\n    }\n  });\n  Object.defineProperty(exports, \"getLocationHref\", {\n    enumerable: true,\n    get: function () {\n      return getLocationHref;\n    }\n  });\n  Object.defineProperty(exports, \"htmlTreeAsString\", {\n    enumerable: true,\n    get: function () {\n      return htmlTreeAsString;\n    }\n  });\n  var _isJs = require(_dependencyMap[0], \"./is.js\");\n  var _worldwideJs = require(_dependencyMap[1], \"./worldwide.js\");\n  // eslint-disable-next-line deprecation/deprecation\n  const WINDOW = (0, _worldwideJs.getGlobalObject)();\n  const DEFAULT_MAX_STRING_LENGTH = 80;\n\n  /**\n   * Given a child DOM element, returns a query-selector statement describing that\n   * and its ancestors\n   * e.g. [HTMLElement] => body > div > input#foo.btn[name=baz]\n   * @returns generated DOM path\n   */\n  function htmlTreeAsString(elem, options = {}) {\n    if (!elem) {\n      return '<unknown>';\n    }\n\n    // try/catch both:\n    // - accessing event.target (see getsentry/raven-js#838, #768)\n    // - `htmlTreeAsString` because it's complex, and just accessing the DOM incorrectly\n    // - can throw an exception in some circumstances.\n    try {\n      let currentElem = elem;\n      const MAX_TRAVERSE_HEIGHT = 5;\n      const out = [];\n      let height = 0;\n      let len = 0;\n      const separator = ' > ';\n      const sepLength = separator.length;\n      let nextStr;\n      const keyAttrs = Array.isArray(options) ? options : options.keyAttrs;\n      const maxStringLength = !Array.isArray(options) && options.maxStringLength || DEFAULT_MAX_STRING_LENGTH;\n      while (currentElem && height++ < MAX_TRAVERSE_HEIGHT) {\n        nextStr = _htmlElementAsString(currentElem, keyAttrs);\n        // bail out if\n        // - nextStr is the 'html' element\n        // - the length of the string that would be created exceeds maxStringLength\n        //   (ignore this limit if we are on the first iteration)\n        if (nextStr === 'html' || height > 1 && len + out.length * sepLength + nextStr.length >= maxStringLength) {\n          break;\n        }\n        out.push(nextStr);\n        len += nextStr.length;\n        currentElem = currentElem.parentNode;\n      }\n      return out.reverse().join(separator);\n    } catch (_oO) {\n      return '<unknown>';\n    }\n  }\n\n  /**\n   * Returns a simple, query-selector representation of a DOM element\n   * e.g. [HTMLElement] => input#foo.btn[name=baz]\n   * @returns generated DOM path\n   */\n  function _htmlElementAsString(el, keyAttrs) {\n    const elem = el;\n    const out = [];\n    let className;\n    let classes;\n    let key;\n    let attr;\n    let i;\n    if (!elem || !elem.tagName) {\n      return '';\n    }\n    out.push(elem.tagName.toLowerCase());\n\n    // Pairs of attribute keys defined in `serializeAttribute` and their values on element.\n    const keyAttrPairs = keyAttrs && keyAttrs.length ? keyAttrs.filter(keyAttr => elem.getAttribute(keyAttr)).map(keyAttr => [keyAttr, elem.getAttribute(keyAttr)]) : null;\n    if (keyAttrPairs && keyAttrPairs.length) {\n      keyAttrPairs.forEach(keyAttrPair => {\n        out.push(`[${keyAttrPair[0]}=\"${keyAttrPair[1]}\"]`);\n      });\n    } else {\n      if (elem.id) {\n        out.push(`#${elem.id}`);\n      }\n\n      // eslint-disable-next-line prefer-const\n      className = elem.className;\n      if (className && (0, _isJs.isString)(className)) {\n        classes = className.split(/\\s+/);\n        for (i = 0; i < classes.length; i++) {\n          out.push(`.${classes[i]}`);\n        }\n      }\n    }\n    const allowedAttrs = ['aria-label', 'type', 'name', 'title', 'alt'];\n    for (i = 0; i < allowedAttrs.length; i++) {\n      key = allowedAttrs[i];\n      attr = elem.getAttribute(key);\n      if (attr) {\n        out.push(`[${key}=\"${attr}\"]`);\n      }\n    }\n    return out.join('');\n  }\n\n  /**\n   * A safe form of location.href\n   */\n  function getLocationHref() {\n    try {\n      return WINDOW.document.location.href;\n    } catch (oO) {\n      return '';\n    }\n  }\n\n  /**\n   * Gets a DOM element by using document.querySelector.\n   *\n   * This wrapper will first check for the existance of the function before\n   * actually calling it so that we don't have to take care of this check,\n   * every time we want to access the DOM.\n   *\n   * Reason: DOM/querySelector is not available in all environments.\n   *\n   * We have to cast to any because utils can be consumed by a variety of environments,\n   * and we don't want to break TS users. If you know what element will be selected by\n   * `document.querySelector`, specify it as part of the generic call. For example,\n   * `const element = getDomElement<Element>('selector');`\n   *\n   * @param selector the selector string passed on to document.querySelector\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  function getDomElement(selector) {\n    if (WINDOW.document && WINDOW.document.querySelector) {\n      return WINDOW.document.querySelector(selector);\n    }\n    return null;\n  }\n});","lineCount":159,"map":[[7,2,155,0,"Object"],[7,8,155,0],[7,9,155,0,"defineProperty"],[7,23,155,0],[7,24,155,0,"exports"],[7,31,155,0],[8,4,155,0,"enumerable"],[8,14,155,0],[9,4,155,0,"get"],[9,7,155,0],[9,18,155,0,"get"],[9,19,155,0],[10,6,155,0],[10,13,155,9,"getDomElement"],[10,26,155,22],[11,4,155,22],[12,2,155,22],[13,2,155,0,"Object"],[13,8,155,0],[13,9,155,0,"defineProperty"],[13,23,155,0],[13,24,155,0,"exports"],[13,31,155,0],[14,4,155,0,"enumerable"],[14,14,155,0],[15,4,155,0,"get"],[15,7,155,0],[15,18,155,0,"get"],[15,19,155,0],[16,6,155,0],[16,13,155,24,"getLocationHref"],[16,28,155,39],[17,4,155,39],[18,2,155,39],[19,2,155,0,"Object"],[19,8,155,0],[19,9,155,0,"defineProperty"],[19,23,155,0],[19,24,155,0,"exports"],[19,31,155,0],[20,4,155,0,"enumerable"],[20,14,155,0],[21,4,155,0,"get"],[21,7,155,0],[21,18,155,0,"get"],[21,19,155,0],[22,6,155,0],[22,13,155,41,"htmlTreeAsString"],[22,29,155,57],[23,4,155,57],[24,2,155,57],[25,2,1,0],[25,6,1,0,"_isJs"],[25,11,1,0],[25,14,1,0,"require"],[25,21,1,0],[25,22,1,0,"_dependencyMap"],[25,36,1,0],[26,2,2,0],[26,6,2,0,"_worldwideJs"],[26,18,2,0],[26,21,2,0,"require"],[26,28,2,0],[26,29,2,0,"_dependencyMap"],[26,43,2,0],[27,2,4,0],[28,2,5,0],[28,8,5,6,"WINDOW"],[28,14,5,12],[28,17,5,15],[28,21,5,15,"getGlobalObject"],[28,33,5,30],[28,34,5,30,"getGlobalObject"],[28,49,5,30],[28,51,5,31],[28,52,5,32],[29,2,7,0],[29,8,7,6,"DEFAULT_MAX_STRING_LENGTH"],[29,33,7,31],[29,36,7,34],[29,38,7,36],[31,2,9,0],[32,0,10,0],[33,0,11,0],[34,0,12,0],[35,0,13,0],[36,0,14,0],[37,2,15,0],[37,11,15,9,"htmlTreeAsString"],[37,27,15,25,"htmlTreeAsString"],[37,28,16,2,"elem"],[37,32,16,6],[37,34,17,2,"options"],[37,41,17,9],[37,44,17,12],[37,45,17,13],[37,46,17,14],[37,48,18,2],[38,4,20,2],[38,8,20,6],[38,9,20,7,"elem"],[38,13,20,11],[38,15,20,13],[39,6,21,4],[39,13,21,11],[39,24,21,22],[40,4,22,2],[42,4,24,2],[43,4,25,2],[44,4,26,2],[45,4,27,2],[46,4,28,2],[46,8,28,6],[47,6,29,4],[47,10,29,8,"currentElem"],[47,21,29,19],[47,24,29,22,"elem"],[47,28,29,26],[48,6,30,4],[48,12,30,10,"MAX_TRAVERSE_HEIGHT"],[48,31,30,29],[48,34,30,32],[48,35,30,33],[49,6,31,4],[49,12,31,10,"out"],[49,15,31,13],[49,18,31,16],[49,20,31,18],[50,6,32,4],[50,10,32,8,"height"],[50,16,32,14],[50,19,32,17],[50,20,32,18],[51,6,33,4],[51,10,33,8,"len"],[51,13,33,11],[51,16,33,14],[51,17,33,15],[52,6,34,4],[52,12,34,10,"separator"],[52,21,34,19],[52,24,34,22],[52,29,34,27],[53,6,35,4],[53,12,35,10,"sepLength"],[53,21,35,19],[53,24,35,22,"separator"],[53,33,35,31],[53,34,35,32,"length"],[53,40,35,38],[54,6,36,4],[54,10,36,8,"nextStr"],[54,17,36,15],[55,6,37,4],[55,12,37,10,"keyAttrs"],[55,20,37,18],[55,23,37,21,"Array"],[55,28,37,26],[55,29,37,27,"isArray"],[55,36,37,34],[55,37,37,35,"options"],[55,44,37,42],[55,45,37,43],[55,48,37,46,"options"],[55,55,37,53],[55,58,37,56,"options"],[55,65,37,63],[55,66,37,64,"keyAttrs"],[55,74,37,72],[56,6,38,4],[56,12,38,10,"maxStringLength"],[56,27,38,25],[56,30,38,29],[56,31,38,30,"Array"],[56,36,38,35],[56,37,38,36,"isArray"],[56,44,38,43],[56,45,38,44,"options"],[56,52,38,51],[56,53,38,52],[56,57,38,56,"options"],[56,64,38,63],[56,65,38,64,"maxStringLength"],[56,80,38,79],[56,84,38,84,"DEFAULT_MAX_STRING_LENGTH"],[56,109,38,109],[57,6,40,4],[57,13,40,11,"currentElem"],[57,24,40,22],[57,28,40,26,"height"],[57,34,40,32],[57,36,40,34],[57,39,40,37,"MAX_TRAVERSE_HEIGHT"],[57,58,40,56],[57,60,40,58],[58,8,41,6,"nextStr"],[58,15,41,13],[58,18,41,16,"_htmlElementAsString"],[58,38,41,36],[58,39,41,37,"currentElem"],[58,50,41,48],[58,52,41,50,"keyAttrs"],[58,60,41,58],[58,61,41,59],[59,8,42,6],[60,8,43,6],[61,8,44,6],[62,8,45,6],[63,8,46,6],[63,12,46,10,"nextStr"],[63,19,46,17],[63,24,46,22],[63,30,46,28],[63,34,46,33,"height"],[63,40,46,39],[63,43,46,42],[63,44,46,43],[63,48,46,47,"len"],[63,51,46,50],[63,54,46,53,"out"],[63,57,46,56],[63,58,46,57,"length"],[63,64,46,63],[63,67,46,66,"sepLength"],[63,76,46,75],[63,79,46,78,"nextStr"],[63,86,46,85],[63,87,46,86,"length"],[63,93,46,92],[63,97,46,96,"maxStringLength"],[63,112,46,112],[63,114,46,114],[64,10,47,8],[65,8,48,6],[66,8,50,6,"out"],[66,11,50,9],[66,12,50,10,"push"],[66,16,50,14],[66,17,50,15,"nextStr"],[66,24,50,22],[66,25,50,23],[67,8,52,6,"len"],[67,11,52,9],[67,15,52,13,"nextStr"],[67,22,52,20],[67,23,52,21,"length"],[67,29,52,27],[68,8,53,6,"currentElem"],[68,19,53,17],[68,22,53,20,"currentElem"],[68,33,53,31],[68,34,53,32,"parentNode"],[68,44,53,42],[69,6,54,4],[70,6,56,4],[70,13,56,11,"out"],[70,16,56,14],[70,17,56,15,"reverse"],[70,24,56,22],[70,25,56,23],[70,26,56,24],[70,27,56,25,"join"],[70,31,56,29],[70,32,56,30,"separator"],[70,41,56,39],[70,42,56,40],[71,4,57,2],[71,5,57,3],[71,6,57,4],[71,13,57,11,"_oO"],[71,16,57,14],[71,18,57,16],[72,6,58,4],[72,13,58,11],[72,24,58,22],[73,4,59,2],[74,2,60,0],[76,2,62,0],[77,0,63,0],[78,0,64,0],[79,0,65,0],[80,0,66,0],[81,2,67,0],[81,11,67,9,"_htmlElementAsString"],[81,31,67,29,"_htmlElementAsString"],[81,32,67,30,"el"],[81,34,67,32],[81,36,67,34,"keyAttrs"],[81,44,67,42],[81,46,67,44],[82,4,68,2],[82,10,68,8,"elem"],[82,14,68,12],[82,17,68,15,"el"],[82,19,68,17],[83,4,72,2],[83,10,72,8,"out"],[83,13,72,11],[83,16,72,14],[83,18,72,16],[84,4,73,2],[84,8,73,6,"className"],[84,17,73,15],[85,4,74,2],[85,8,74,6,"classes"],[85,15,74,13],[86,4,75,2],[86,8,75,6,"key"],[86,11,75,9],[87,4,76,2],[87,8,76,6,"attr"],[87,12,76,10],[88,4,77,2],[88,8,77,6,"i"],[88,9,77,7],[89,4,79,2],[89,8,79,6],[89,9,79,7,"elem"],[89,13,79,11],[89,17,79,15],[89,18,79,16,"elem"],[89,22,79,20],[89,23,79,21,"tagName"],[89,30,79,28],[89,32,79,30],[90,6,80,4],[90,13,80,11],[90,15,80,13],[91,4,81,2],[92,4,83,2,"out"],[92,7,83,5],[92,8,83,6,"push"],[92,12,83,10],[92,13,83,11,"elem"],[92,17,83,15],[92,18,83,16,"tagName"],[92,25,83,23],[92,26,83,24,"toLowerCase"],[92,37,83,35],[92,38,83,36],[92,39,83,37],[92,40,83,38],[94,4,85,2],[95,4,86,2],[95,10,86,8,"keyAttrPairs"],[95,22,86,20],[95,25,87,4,"keyAttrs"],[95,33,87,12],[95,37,87,16,"keyAttrs"],[95,45,87,24],[95,46,87,25,"length"],[95,52,87,31],[95,55,88,8,"keyAttrs"],[95,63,88,16],[95,64,88,17,"filter"],[95,70,88,23],[95,71,88,24,"keyAttr"],[95,78,88,31],[95,82,88,35,"elem"],[95,86,88,39],[95,87,88,40,"getAttribute"],[95,99,88,52],[95,100,88,53,"keyAttr"],[95,107,88,60],[95,108,88,61],[95,109,88,62],[95,110,88,63,"map"],[95,113,88,66],[95,114,88,67,"keyAttr"],[95,121,88,74],[95,125,88,78],[95,126,88,79,"keyAttr"],[95,133,88,86],[95,135,88,88,"elem"],[95,139,88,92],[95,140,88,93,"getAttribute"],[95,152,88,105],[95,153,88,106,"keyAttr"],[95,160,88,113],[95,161,88,114],[95,162,88,115],[95,163,88,116],[95,166,89,8],[95,170,89,12],[96,4,91,2],[96,8,91,6,"keyAttrPairs"],[96,20,91,18],[96,24,91,22,"keyAttrPairs"],[96,36,91,34],[96,37,91,35,"length"],[96,43,91,41],[96,45,91,43],[97,6,92,4,"keyAttrPairs"],[97,18,92,16],[97,19,92,17,"forEach"],[97,26,92,24],[97,27,92,25,"keyAttrPair"],[97,38,92,36],[97,42,92,40],[98,8,93,6,"out"],[98,11,93,9],[98,12,93,10,"push"],[98,16,93,14],[98,17,93,15],[98,21,93,19,"keyAttrPair"],[98,32,93,30],[98,33,93,31],[98,34,93,32],[98,35,93,33],[98,40,93,38,"keyAttrPair"],[98,51,93,49],[98,52,93,50],[98,53,93,51],[98,54,93,52],[98,58,93,56],[98,59,93,57],[99,6,94,4],[99,7,94,5],[99,8,94,6],[100,4,95,2],[100,5,95,3],[100,11,95,9],[101,6,96,4],[101,10,96,8,"elem"],[101,14,96,12],[101,15,96,13,"id"],[101,17,96,15],[101,19,96,17],[102,8,97,6,"out"],[102,11,97,9],[102,12,97,10,"push"],[102,16,97,14],[102,17,97,15],[102,21,97,19,"elem"],[102,25,97,23],[102,26,97,24,"id"],[102,28,97,26],[102,30,97,28],[102,31,97,29],[103,6,98,4],[105,6,100,4],[106,6,101,4,"className"],[106,15,101,13],[106,18,101,16,"elem"],[106,22,101,20],[106,23,101,21,"className"],[106,32,101,30],[107,6,102,4],[107,10,102,8,"className"],[107,19,102,17],[107,23,102,21],[107,27,102,21,"isString"],[107,32,102,29],[107,33,102,29,"isString"],[107,41,102,29],[107,43,102,30,"className"],[107,52,102,39],[107,53,102,40],[107,55,102,42],[108,8,103,6,"classes"],[108,15,103,13],[108,18,103,16,"className"],[108,27,103,25],[108,28,103,26,"split"],[108,33,103,31],[108,34,103,32],[108,39,103,37],[108,40,103,38],[109,8,104,6],[109,13,104,11,"i"],[109,14,104,12],[109,17,104,15],[109,18,104,16],[109,20,104,18,"i"],[109,21,104,19],[109,24,104,22,"classes"],[109,31,104,29],[109,32,104,30,"length"],[109,38,104,36],[109,40,104,38,"i"],[109,41,104,39],[109,43,104,41],[109,45,104,43],[110,10,105,8,"out"],[110,13,105,11],[110,14,105,12,"push"],[110,18,105,16],[110,19,105,17],[110,23,105,21,"classes"],[110,30,105,28],[110,31,105,29,"i"],[110,32,105,30],[110,33,105,31],[110,35,105,33],[110,36,105,34],[111,8,106,6],[112,6,107,4],[113,4,108,2],[114,4,109,2],[114,10,109,8,"allowedAttrs"],[114,22,109,20],[114,25,109,23],[114,26,109,24],[114,38,109,36],[114,40,109,38],[114,46,109,44],[114,48,109,46],[114,54,109,52],[114,56,109,54],[114,63,109,61],[114,65,109,63],[114,70,109,68],[114,71,109,69],[115,4,110,2],[115,9,110,7,"i"],[115,10,110,8],[115,13,110,11],[115,14,110,12],[115,16,110,14,"i"],[115,17,110,15],[115,20,110,18,"allowedAttrs"],[115,32,110,30],[115,33,110,31,"length"],[115,39,110,37],[115,41,110,39,"i"],[115,42,110,40],[115,44,110,42],[115,46,110,44],[116,6,111,4,"key"],[116,9,111,7],[116,12,111,10,"allowedAttrs"],[116,24,111,22],[116,25,111,23,"i"],[116,26,111,24],[116,27,111,25],[117,6,112,4,"attr"],[117,10,112,8],[117,13,112,11,"elem"],[117,17,112,15],[117,18,112,16,"getAttribute"],[117,30,112,28],[117,31,112,29,"key"],[117,34,112,32],[117,35,112,33],[118,6,113,4],[118,10,113,8,"attr"],[118,14,113,12],[118,16,113,14],[119,8,114,6,"out"],[119,11,114,9],[119,12,114,10,"push"],[119,16,114,14],[119,17,114,15],[119,21,114,19,"key"],[119,24,114,22],[119,29,114,27,"attr"],[119,33,114,31],[119,37,114,35],[119,38,114,36],[120,6,115,4],[121,4,116,2],[122,4,117,2],[122,11,117,9,"out"],[122,14,117,12],[122,15,117,13,"join"],[122,19,117,17],[122,20,117,18],[122,22,117,20],[122,23,117,21],[123,2,118,0],[125,2,120,0],[126,0,121,0],[127,0,122,0],[128,2,123,0],[128,11,123,9,"getLocationHref"],[128,26,123,24,"getLocationHref"],[128,27,123,24],[128,29,123,27],[129,4,124,2],[129,8,124,6],[130,6,125,4],[130,13,125,11,"WINDOW"],[130,19,125,17],[130,20,125,18,"document"],[130,28,125,26],[130,29,125,27,"location"],[130,37,125,35],[130,38,125,36,"href"],[130,42,125,40],[131,4,126,2],[131,5,126,3],[131,6,126,4],[131,13,126,11,"oO"],[131,15,126,13],[131,17,126,15],[132,6,127,4],[132,13,127,11],[132,15,127,13],[133,4,128,2],[134,2,129,0],[136,2,131,0],[137,0,132,0],[138,0,133,0],[139,0,134,0],[140,0,135,0],[141,0,136,0],[142,0,137,0],[143,0,138,0],[144,0,139,0],[145,0,140,0],[146,0,141,0],[147,0,142,0],[148,0,143,0],[149,0,144,0],[150,0,145,0],[151,0,146,0],[152,2,147,0],[153,2,148,0],[153,11,148,9,"getDomElement"],[153,24,148,22,"getDomElement"],[153,25,148,23,"selector"],[153,33,148,31],[153,35,148,33],[154,4,149,2],[154,8,149,6,"WINDOW"],[154,14,149,12],[154,15,149,13,"document"],[154,23,149,21],[154,27,149,25,"WINDOW"],[154,33,149,31],[154,34,149,32,"document"],[154,42,149,40],[154,43,149,41,"querySelector"],[154,56,149,54],[154,58,149,56],[155,6,150,4],[155,13,150,11,"WINDOW"],[155,19,150,17],[155,20,150,18,"document"],[155,28,150,26],[155,29,150,27,"querySelector"],[155,42,150,40],[155,43,150,41,"selector"],[155,51,150,49],[155,52,150,50],[156,4,151,2],[157,4,152,2],[157,11,152,9],[157,15,152,13],[158,2,153,0],[159,0,153,1],[159,3]],"functionMap":{"names":["<global>","htmlTreeAsString","_htmlElementAsString","keyAttrs.filter$argument_0","keyAttrs.filter.map$argument_0","keyAttrPairs.forEach$argument_0","getLocationHref","getDomElement"],"mappings":"AAA;ACc;CD6C;AEO;wBCqB,qCD,ME,gDF;yBGI;KHE;CFwB;AMK;CNM;AOmB;CPK"},"hasCjsExports":false},"type":"js/module"}]}