{"dependencies":[{"name":"./lib/bindReporter.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":53,"index":53}}],"key":"yZXTUsWh1M46DyxIbZ88NUHRymg=","exportNames":["*"],"imports":1}},{"name":"./lib/getVisibilityWatcher.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":54},"end":{"line":2,"column":69,"index":123}}],"key":"nHtaM9v//YlxGAv+O3W06C++qp8=","exportNames":["*"],"imports":1}},{"name":"./lib/initMetric.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":124},"end":{"line":3,"column":49,"index":173}}],"key":"3h8m+kvAV2o3xN93IHHrmBqzs4s=","exportNames":["*"],"imports":1}},{"name":"./lib/observe.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":174},"end":{"line":4,"column":43,"index":217}}],"key":"Cz2RoRvLyGQyofIDJmcgFo6dicM=","exportNames":["*"],"imports":1}},{"name":"./lib/onHidden.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":218},"end":{"line":5,"column":45,"index":263}}],"key":"Me8dIXVCoQX50hAKyNiBvASIs+8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"onFID\", {\n    enumerable: true,\n    get: function () {\n      return onFID;\n    }\n  });\n  var _libBindReporterJs = require(_dependencyMap[0], \"./lib/bindReporter.js\");\n  var _libGetVisibilityWatcherJs = require(_dependencyMap[1], \"./lib/getVisibilityWatcher.js\");\n  var _libInitMetricJs = require(_dependencyMap[2], \"./lib/initMetric.js\");\n  var _libObserveJs = require(_dependencyMap[3], \"./lib/observe.js\");\n  var _libOnHiddenJs = require(_dependencyMap[4], \"./lib/onHidden.js\");\n  /*\n   * Copyright 2020 Google LLC\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /**\n   * Calculates the [FID](https://web.dev/fid/) value for the current page and\n   * calls the `callback` function once the value is ready, along with the\n   * relevant `first-input` performance entry used to determine the value. The\n   * reported value is a `DOMHighResTimeStamp`.\n   *\n   * _**Important:** since FID is only reported after the user interacts with the\n   * page, it's possible that it will not be reported for some page loads._\n   */\n  const onFID = onReport => {\n    const visibilityWatcher = (0, _libGetVisibilityWatcherJs.getVisibilityWatcher)();\n    const metric = (0, _libInitMetricJs.initMetric)('FID');\n    // eslint-disable-next-line prefer-const\n    let report;\n    const handleEntry = entry => {\n      // Only report if the page wasn't hidden prior to the first input.\n      if (entry.startTime < visibilityWatcher.firstHiddenTime) {\n        metric.value = entry.processingStart - entry.startTime;\n        metric.entries.push(entry);\n        report(true);\n      }\n    };\n    const handleEntries = entries => {\n      entries.forEach(handleEntry);\n    };\n    const po = (0, _libObserveJs.observe)('first-input', handleEntries);\n    report = (0, _libBindReporterJs.bindReporter)(onReport, metric);\n    if (po) {\n      (0, _libOnHiddenJs.onHidden)(() => {\n        handleEntries(po.takeRecords());\n        po.disconnect();\n      }, true);\n    }\n  };\n});","lineCount":68,"map":[[7,2,62,0,"Object"],[7,8,62,0],[7,9,62,0,"defineProperty"],[7,23,62,0],[7,24,62,0,"exports"],[7,31,62,0],[8,4,62,0,"enumerable"],[8,14,62,0],[9,4,62,0,"get"],[9,7,62,0],[9,18,62,0,"get"],[9,19,62,0],[10,6,62,0],[10,13,62,9,"onFID"],[10,18,62,14],[11,4,62,14],[12,2,62,14],[13,2,1,0],[13,6,1,0,"_libBindReporterJs"],[13,24,1,0],[13,27,1,0,"require"],[13,34,1,0],[13,35,1,0,"_dependencyMap"],[13,49,1,0],[14,2,2,0],[14,6,2,0,"_libGetVisibilityWatcherJs"],[14,32,2,0],[14,35,2,0,"require"],[14,42,2,0],[14,43,2,0,"_dependencyMap"],[14,57,2,0],[15,2,3,0],[15,6,3,0,"_libInitMetricJs"],[15,22,3,0],[15,25,3,0,"require"],[15,32,3,0],[15,33,3,0,"_dependencyMap"],[15,47,3,0],[16,2,4,0],[16,6,4,0,"_libObserveJs"],[16,19,4,0],[16,22,4,0,"require"],[16,29,4,0],[16,30,4,0,"_dependencyMap"],[16,44,4,0],[17,2,5,0],[17,6,5,0,"_libOnHiddenJs"],[17,20,5,0],[17,23,5,0,"require"],[17,30,5,0],[17,31,5,0,"_dependencyMap"],[17,45,5,0],[18,2,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,0,13,0],[25,0,14,0],[26,0,15,0],[27,0,16,0],[28,0,17,0],[29,0,18,0],[30,0,19,0],[31,0,20,0],[32,0,21,0],[34,2,23,0],[35,0,24,0],[36,0,25,0],[37,0,26,0],[38,0,27,0],[39,0,28,0],[40,0,29,0],[41,0,30,0],[42,0,31,0],[43,2,32,0],[43,8,32,6,"onFID"],[43,13,32,11],[43,16,32,15,"onReport"],[43,24,32,23],[43,28,32,28],[44,4,33,2],[44,10,33,8,"visibilityWatcher"],[44,27,33,25],[44,30,33,28],[44,34,33,28,"getVisibilityWatcher"],[44,60,33,48],[44,61,33,48,"getVisibilityWatcher"],[44,81,33,48],[44,83,33,49],[44,84,33,50],[45,4,34,2],[45,10,34,8,"metric"],[45,16,34,14],[45,19,34,17],[45,23,34,17,"initMetric"],[45,39,34,27],[45,40,34,27,"initMetric"],[45,50,34,27],[45,52,34,28],[45,57,34,33],[45,58,34,34],[46,4,35,2],[47,4,36,2],[47,8,36,6,"report"],[47,14,36,12],[48,4,38,2],[48,10,38,8,"handleEntry"],[48,21,38,19],[48,24,38,23,"entry"],[48,29,38,28],[48,33,38,33],[49,6,39,4],[50,6,40,4],[50,10,40,8,"entry"],[50,15,40,13],[50,16,40,14,"startTime"],[50,25,40,23],[50,28,40,26,"visibilityWatcher"],[50,45,40,43],[50,46,40,44,"firstHiddenTime"],[50,61,40,59],[50,63,40,61],[51,8,41,6,"metric"],[51,14,41,12],[51,15,41,13,"value"],[51,20,41,18],[51,23,41,21,"entry"],[51,28,41,26],[51,29,41,27,"processingStart"],[51,44,41,42],[51,47,41,45,"entry"],[51,52,41,50],[51,53,41,51,"startTime"],[51,62,41,60],[52,8,42,6,"metric"],[52,14,42,12],[52,15,42,13,"entries"],[52,22,42,20],[52,23,42,21,"push"],[52,27,42,25],[52,28,42,26,"entry"],[52,33,42,31],[52,34,42,32],[53,8,43,6,"report"],[53,14,43,12],[53,15,43,13],[53,19,43,17],[53,20,43,18],[54,6,44,4],[55,4,45,2],[55,5,45,3],[56,4,47,2],[56,10,47,8,"handleEntries"],[56,23,47,21],[56,26,47,25,"entries"],[56,33,47,32],[56,37,47,37],[57,6,48,5,"entries"],[57,13,48,12],[57,14,48,15,"forEach"],[57,21,48,22],[57,22,48,23,"handleEntry"],[57,33,48,34],[57,34,48,35],[58,4,49,2],[58,5,49,3],[59,4,51,2],[59,10,51,8,"po"],[59,12,51,10],[59,15,51,13],[59,19,51,13,"observe"],[59,32,51,20],[59,33,51,20,"observe"],[59,40,51,20],[59,42,51,21],[59,55,51,34],[59,57,51,36,"handleEntries"],[59,70,51,49],[59,71,51,50],[60,4,52,2,"report"],[60,10,52,8],[60,13,52,11],[60,17,52,11,"bindReporter"],[60,35,52,23],[60,36,52,23,"bindReporter"],[60,48,52,23],[60,50,52,24,"onReport"],[60,58,52,32],[60,60,52,34,"metric"],[60,66,52,40],[60,67,52,41],[61,4,54,2],[61,8,54,6,"po"],[61,10,54,8],[61,12,54,10],[62,6,55,4],[62,10,55,4,"onHidden"],[62,24,55,12],[62,25,55,12,"onHidden"],[62,33,55,12],[62,35,55,13],[62,41,55,19],[63,8,56,6,"handleEntries"],[63,21,56,19],[63,22,56,20,"po"],[63,24,56,22],[63,25,56,23,"takeRecords"],[63,36,56,34],[63,37,56,35],[63,38,56,37],[63,39,56,38],[64,8,57,6,"po"],[64,10,57,8],[64,11,57,9,"disconnect"],[64,21,57,19],[64,22,57,20],[64,23,57,21],[65,6,58,4],[65,7,58,5],[65,9,58,7],[65,13,58,11],[65,14,58,12],[66,4,59,2],[67,2,60,0],[67,3,60,1],[68,0,60,2],[68,3]],"functionMap":{"names":["<global>","onFID","handleEntry","handleEntries","onHidden$argument_0"],"mappings":"AAA;cC+B;sBCM;GDO;wBEE;GFE;aGM;KHG;CDE"},"hasCjsExports":false},"type":"js/module"}]}