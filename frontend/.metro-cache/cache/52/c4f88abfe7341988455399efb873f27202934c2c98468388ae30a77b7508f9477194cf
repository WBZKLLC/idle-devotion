{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":139},"end":{"line":5,"column":40,"index":179}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":180},"end":{"line":6,"column":69,"index":249}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"STORAGE_KEYS\", {\n    enumerable: true,\n    get: function () {\n      return STORAGE_KEYS;\n    }\n  });\n  exports.storageGet = storageGet;\n  exports.storageSet = storageSet;\n  exports.storageRemove = storageRemove;\n  exports.clearAuthStorage = clearAuthStorage;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  // /app/frontend/lib/storage.ts\n  // Platform-safe storage utilities for web and native\n  // Uses localStorage on web, AsyncStorage on native\n\n  // Storage keys\n  var STORAGE_KEYS = {\n    AUTH_TOKEN: 'divine_heroes_auth_token',\n    USERNAME: 'divine_heroes_username'\n  };\n\n  /**\n   * Platform-safe storage get\n   * Returns null if key doesn't exist or on error\n   */\n  function storageGet(_x) {\n    return _storageGet.apply(this, arguments);\n  }\n  /**\n   * Platform-safe storage set\n   * Returns true on success, false on error\n   */\n  function _storageGet() {\n    _storageGet = (0, _asyncToGenerator.default)(function* (key) {\n      try {\n        if (_reactNative.Platform.OS === 'web') {\n          // Web: use localStorage directly\n          if (typeof window !== 'undefined' && window.localStorage) {\n            var value = window.localStorage.getItem(key);\n            if (__DEV__) console.log(`[storage.get] web: ${key} = ${value ? '(exists)' : '(null)'}`);\n            return value;\n          }\n          return null;\n        } else {\n          // Native: use AsyncStorage\n          var _value = yield AsyncStorage.default.getItem(key);\n          if (__DEV__) console.log(`[storage.get] native: ${key} = ${_value ? '(exists)' : '(null)'}`);\n          return _value;\n        }\n      } catch (e) {\n        console.error(`[storage.get] Error reading ${key}:`, e);\n        return null;\n      }\n    });\n    return _storageGet.apply(this, arguments);\n  }\n  function storageSet(_x2, _x3) {\n    return _storageSet.apply(this, arguments);\n  }\n  /**\n   * Platform-safe storage remove\n   * Returns true on success, false on error\n   */\n  function _storageSet() {\n    _storageSet = (0, _asyncToGenerator.default)(function* (key, value) {\n      try {\n        if (_reactNative.Platform.OS === 'web') {\n          // Web: use localStorage directly\n          if (typeof window !== 'undefined' && window.localStorage) {\n            window.localStorage.setItem(key, value);\n            if (__DEV__) console.log(`[storage.set] web: ${key} = (saved)`);\n            return true;\n          }\n          console.warn('[storage.set] localStorage not available');\n          return false;\n        } else {\n          // Native: use AsyncStorage\n          yield AsyncStorage.default.setItem(key, value);\n          if (__DEV__) console.log(`[storage.set] native: ${key} = (saved)`);\n          return true;\n        }\n      } catch (e) {\n        console.error(`[storage.set] Error saving ${key}:`, e);\n        return false;\n      }\n    });\n    return _storageSet.apply(this, arguments);\n  }\n  function storageRemove(_x4) {\n    return _storageRemove.apply(this, arguments);\n  }\n  /**\n   * Clear all auth-related storage keys\n   */\n  function _storageRemove() {\n    _storageRemove = (0, _asyncToGenerator.default)(function* (key) {\n      try {\n        if (_reactNative.Platform.OS === 'web') {\n          // Web: use localStorage directly\n          if (typeof window !== 'undefined' && window.localStorage) {\n            window.localStorage.removeItem(key);\n            if (__DEV__) console.log(`[storage.remove] web: ${key} = (removed)`);\n            return true;\n          }\n          return false;\n        } else {\n          // Native: use AsyncStorage\n          yield AsyncStorage.default.removeItem(key);\n          if (__DEV__) console.log(`[storage.remove] native: ${key} = (removed)`);\n          return true;\n        }\n      } catch (e) {\n        console.error(`[storage.remove] Error removing ${key}:`, e);\n        return false;\n      }\n    });\n    return _storageRemove.apply(this, arguments);\n  }\n  function clearAuthStorage() {\n    return _clearAuthStorage.apply(this, arguments);\n  }\n  function _clearAuthStorage() {\n    _clearAuthStorage = (0, _asyncToGenerator.default)(function* () {\n      yield storageRemove(STORAGE_KEYS.AUTH_TOKEN);\n      yield storageRemove(STORAGE_KEYS.USERNAME);\n      if (__DEV__) console.log('[storage] All auth storage cleared');\n    });\n    return _clearAuthStorage.apply(this, arguments);\n  }\n});","lineCount":145,"map":[[12,2,9,0,"Object"],[12,8,9,0],[12,9,9,0,"defineProperty"],[12,23,9,0],[12,24,9,0,"exports"],[12,31,9,0],[13,4,9,0,"enumerable"],[13,14,9,0],[14,4,9,0,"get"],[14,7,9,0],[14,18,9,0,"get"],[14,19,9,0],[15,6,9,0],[15,13,9,0,"STORAGE_KEYS"],[15,25,9,0],[16,4,9,0],[17,2,9,0],[18,2,18,0,"exports"],[18,9,18,0],[18,10,18,0,"storageGet"],[18,20,18,0],[18,23,18,0,"storageGet"],[18,33,18,0],[19,2,44,0,"exports"],[19,9,44,0],[19,10,44,0,"storageSet"],[19,20,44,0],[19,23,44,0,"storageSet"],[19,33,44,0],[20,2,71,0,"exports"],[20,9,71,0],[20,10,71,0,"storageRemove"],[20,23,71,0],[20,26,71,0,"storageRemove"],[20,39,71,0],[21,2,96,0,"exports"],[21,9,96,0],[21,10,96,0,"clearAuthStorage"],[21,26,96,0],[21,29,96,0,"clearAuthStorage"],[21,45,96,0],[22,2,100,1],[22,6,100,1,"_babelRuntimeHelpersAsyncToGenerator"],[22,42,100,1],[22,45,100,1,"require"],[22,52,100,1],[22,53,100,1,"_dependencyMap"],[22,67,100,1],[23,2,100,1],[23,6,100,1,"_asyncToGenerator"],[23,23,100,1],[23,26,100,1,"_interopDefault"],[23,41,100,1],[23,42,100,1,"_babelRuntimeHelpersAsyncToGenerator"],[23,78,100,1],[24,2,5,0],[24,6,5,0,"_reactNative"],[24,18,5,0],[24,21,5,0,"require"],[24,28,5,0],[24,29,5,0,"_dependencyMap"],[24,43,5,0],[25,2,6,0],[25,6,6,0,"_reactNativeAsyncStorageAsyncStorage"],[25,42,6,0],[25,45,6,0,"require"],[25,52,6,0],[25,53,6,0,"_dependencyMap"],[25,67,6,0],[26,2,6,0],[26,6,6,0,"AsyncStorage"],[26,18,6,0],[26,21,6,0,"_interopDefault"],[26,36,6,0],[26,37,6,0,"_reactNativeAsyncStorageAsyncStorage"],[26,73,6,0],[27,2,1,0],[28,2,2,0],[29,2,3,0],[31,2,8,0],[32,2,9,7],[32,6,9,13,"STORAGE_KEYS"],[32,18,9,25],[32,21,9,28],[33,4,10,2,"AUTH_TOKEN"],[33,14,10,12],[33,16,10,14],[33,42,10,40],[34,4,11,2,"USERNAME"],[34,12,11,10],[34,14,11,12],[35,2,12,0],[35,3,12,10],[37,2,14,0],[38,0,15,0],[39,0,16,0],[40,0,17,0],[41,2,14,0],[41,11,18,22,"storageGet"],[41,21,18,32,"storageGet"],[41,22,18,32,"_x"],[41,24,18,32],[42,4,18,32],[42,11,18,32,"_storageGet"],[42,22,18,32],[42,23,18,32,"apply"],[42,28,18,32],[42,35,18,32,"arguments"],[42,44,18,32],[43,2,18,32],[44,2,40,0],[45,0,41,0],[46,0,42,0],[47,0,43,0],[48,2,40,0],[48,11,40,0,"_storageGet"],[48,23,40,0],[49,4,40,0,"_storageGet"],[49,15,40,0],[49,22,40,0,"_asyncToGenerator"],[49,39,40,0],[49,40,40,0,"default"],[49,47,40,0],[49,49,18,7],[49,60,18,33,"key"],[49,63,18,44],[49,65,18,70],[50,6,19,2],[50,10,19,6],[51,8,20,4],[51,12,20,8,"Platform"],[51,24,20,16],[51,25,20,16,"Platform"],[51,33,20,16],[51,34,20,17,"OS"],[51,36,20,19],[51,41,20,24],[51,46,20,29],[51,48,20,31],[52,10,21,6],[53,10,22,6],[53,14,22,10],[53,21,22,17,"window"],[53,27,22,23],[53,32,22,28],[53,43,22,39],[53,47,22,43,"window"],[53,53,22,49],[53,54,22,50,"localStorage"],[53,66,22,62],[53,68,22,64],[54,12,23,8],[54,16,23,14,"value"],[54,21,23,19],[54,24,23,22,"window"],[54,30,23,28],[54,31,23,29,"localStorage"],[54,43,23,41],[54,44,23,42,"getItem"],[54,51,23,49],[54,52,23,50,"key"],[54,55,23,53],[54,56,23,54],[55,12,24,8],[55,16,24,12,"__DEV__"],[55,23,24,19],[55,25,24,21,"console"],[55,32,24,28],[55,33,24,29,"log"],[55,36,24,32],[55,37,24,33],[55,59,24,55,"key"],[55,62,24,58],[55,68,24,64,"value"],[55,73,24,69],[55,76,24,72],[55,86,24,82],[55,89,24,85],[55,97,24,93],[55,99,24,95],[55,100,24,96],[56,12,25,8],[56,19,25,15,"value"],[56,24,25,20],[57,10,26,6],[58,10,27,6],[58,17,27,13],[58,21,27,17],[59,8,28,4],[59,9,28,5],[59,15,28,11],[60,10,29,6],[61,10,30,6],[61,14,30,12,"value"],[61,20,30,17],[61,29,30,26,"AsyncStorage"],[61,41,30,38],[61,42,30,38,"default"],[61,49,30,38],[61,50,30,39,"getItem"],[61,57,30,46],[61,58,30,47,"key"],[61,61,30,50],[61,62,30,51],[62,10,31,6],[62,14,31,10,"__DEV__"],[62,21,31,17],[62,23,31,19,"console"],[62,30,31,26],[62,31,31,27,"log"],[62,34,31,30],[62,35,31,31],[62,60,31,56,"key"],[62,63,31,59],[62,69,31,65,"value"],[62,75,31,70],[62,78,31,73],[62,88,31,83],[62,91,31,86],[62,99,31,94],[62,101,31,96],[62,102,31,97],[63,10,32,6],[63,17,32,13,"value"],[63,23,32,18],[64,8,33,4],[65,6,34,2],[65,7,34,3],[65,8,34,4],[65,15,34,11,"e"],[65,16,34,12],[65,18,34,14],[66,8,35,4,"console"],[66,15,35,11],[66,16,35,12,"error"],[66,21,35,17],[66,22,35,18],[66,53,35,49,"key"],[66,56,35,52],[66,59,35,55],[66,61,35,57,"e"],[66,62,35,58],[66,63,35,59],[67,8,36,4],[67,15,36,11],[67,19,36,15],[68,6,37,2],[69,4,38,0],[69,5,38,1],[70,4,38,1],[70,11,38,1,"_storageGet"],[70,22,38,1],[70,23,38,1,"apply"],[70,28,38,1],[70,35,38,1,"arguments"],[70,44,38,1],[71,2,38,1],[72,2,38,1],[72,11,44,22,"storageSet"],[72,21,44,32,"storageSet"],[72,22,44,32,"_x2"],[72,25,44,32],[72,27,44,32,"_x3"],[72,30,44,32],[73,4,44,32],[73,11,44,32,"_storageSet"],[73,22,44,32],[73,23,44,32,"apply"],[73,28,44,32],[73,35,44,32,"arguments"],[73,44,44,32],[74,2,44,32],[75,2,67,0],[76,0,68,0],[77,0,69,0],[78,0,70,0],[79,2,67,0],[79,11,67,0,"_storageSet"],[79,23,67,0],[80,4,67,0,"_storageSet"],[80,15,67,0],[80,22,67,0,"_asyncToGenerator"],[80,39,67,0],[80,40,67,0,"default"],[80,47,67,0],[80,49,44,7],[80,60,44,33,"key"],[80,63,44,44],[80,65,44,46,"value"],[80,70,44,59],[80,72,44,79],[81,6,45,2],[81,10,45,6],[82,8,46,4],[82,12,46,8,"Platform"],[82,24,46,16],[82,25,46,16,"Platform"],[82,33,46,16],[82,34,46,17,"OS"],[82,36,46,19],[82,41,46,24],[82,46,46,29],[82,48,46,31],[83,10,47,6],[84,10,48,6],[84,14,48,10],[84,21,48,17,"window"],[84,27,48,23],[84,32,48,28],[84,43,48,39],[84,47,48,43,"window"],[84,53,48,49],[84,54,48,50,"localStorage"],[84,66,48,62],[84,68,48,64],[85,12,49,8,"window"],[85,18,49,14],[85,19,49,15,"localStorage"],[85,31,49,27],[85,32,49,28,"setItem"],[85,39,49,35],[85,40,49,36,"key"],[85,43,49,39],[85,45,49,41,"value"],[85,50,49,46],[85,51,49,47],[86,12,50,8],[86,16,50,12,"__DEV__"],[86,23,50,19],[86,25,50,21,"console"],[86,32,50,28],[86,33,50,29,"log"],[86,36,50,32],[86,37,50,33],[86,59,50,55,"key"],[86,62,50,58],[86,74,50,70],[86,75,50,71],[87,12,51,8],[87,19,51,15],[87,23,51,19],[88,10,52,6],[89,10,53,6,"console"],[89,17,53,13],[89,18,53,14,"warn"],[89,22,53,18],[89,23,53,19],[89,65,53,61],[89,66,53,62],[90,10,54,6],[90,17,54,13],[90,22,54,18],[91,8,55,4],[91,9,55,5],[91,15,55,11],[92,10,56,6],[93,10,57,6],[93,16,57,12,"AsyncStorage"],[93,28,57,24],[93,29,57,24,"default"],[93,36,57,24],[93,37,57,25,"setItem"],[93,44,57,32],[93,45,57,33,"key"],[93,48,57,36],[93,50,57,38,"value"],[93,55,57,43],[93,56,57,44],[94,10,58,6],[94,14,58,10,"__DEV__"],[94,21,58,17],[94,23,58,19,"console"],[94,30,58,26],[94,31,58,27,"log"],[94,34,58,30],[94,35,58,31],[94,60,58,56,"key"],[94,63,58,59],[94,75,58,71],[94,76,58,72],[95,10,59,6],[95,17,59,13],[95,21,59,17],[96,8,60,4],[97,6,61,2],[97,7,61,3],[97,8,61,4],[97,15,61,11,"e"],[97,16,61,12],[97,18,61,14],[98,8,62,4,"console"],[98,15,62,11],[98,16,62,12,"error"],[98,21,62,17],[98,22,62,18],[98,52,62,48,"key"],[98,55,62,51],[98,58,62,54],[98,60,62,56,"e"],[98,61,62,57],[98,62,62,58],[99,8,63,4],[99,15,63,11],[99,20,63,16],[100,6,64,2],[101,4,65,0],[101,5,65,1],[102,4,65,1],[102,11,65,1,"_storageSet"],[102,22,65,1],[102,23,65,1,"apply"],[102,28,65,1],[102,35,65,1,"arguments"],[102,44,65,1],[103,2,65,1],[104,2,65,1],[104,11,71,22,"storageRemove"],[104,24,71,35,"storageRemove"],[104,25,71,35,"_x4"],[104,28,71,35],[105,4,71,35],[105,11,71,35,"_storageRemove"],[105,25,71,35],[105,26,71,35,"apply"],[105,31,71,35],[105,38,71,35,"arguments"],[105,47,71,35],[106,2,71,35],[107,2,93,0],[108,0,94,0],[109,0,95,0],[110,2,93,0],[110,11,93,0,"_storageRemove"],[110,26,93,0],[111,4,93,0,"_storageRemove"],[111,18,93,0],[111,25,93,0,"_asyncToGenerator"],[111,42,93,0],[111,43,93,0,"default"],[111,50,93,0],[111,52,71,7],[111,63,71,36,"key"],[111,66,71,47],[111,68,71,67],[112,6,72,2],[112,10,72,6],[113,8,73,4],[113,12,73,8,"Platform"],[113,24,73,16],[113,25,73,16,"Platform"],[113,33,73,16],[113,34,73,17,"OS"],[113,36,73,19],[113,41,73,24],[113,46,73,29],[113,48,73,31],[114,10,74,6],[115,10,75,6],[115,14,75,10],[115,21,75,17,"window"],[115,27,75,23],[115,32,75,28],[115,43,75,39],[115,47,75,43,"window"],[115,53,75,49],[115,54,75,50,"localStorage"],[115,66,75,62],[115,68,75,64],[116,12,76,8,"window"],[116,18,76,14],[116,19,76,15,"localStorage"],[116,31,76,27],[116,32,76,28,"removeItem"],[116,42,76,38],[116,43,76,39,"key"],[116,46,76,42],[116,47,76,43],[117,12,77,8],[117,16,77,12,"__DEV__"],[117,23,77,19],[117,25,77,21,"console"],[117,32,77,28],[117,33,77,29,"log"],[117,36,77,32],[117,37,77,33],[117,62,77,58,"key"],[117,65,77,61],[117,79,77,75],[117,80,77,76],[118,12,78,8],[118,19,78,15],[118,23,78,19],[119,10,79,6],[120,10,80,6],[120,17,80,13],[120,22,80,18],[121,8,81,4],[121,9,81,5],[121,15,81,11],[122,10,82,6],[123,10,83,6],[123,16,83,12,"AsyncStorage"],[123,28,83,24],[123,29,83,24,"default"],[123,36,83,24],[123,37,83,25,"removeItem"],[123,47,83,35],[123,48,83,36,"key"],[123,51,83,39],[123,52,83,40],[124,10,84,6],[124,14,84,10,"__DEV__"],[124,21,84,17],[124,23,84,19,"console"],[124,30,84,26],[124,31,84,27,"log"],[124,34,84,30],[124,35,84,31],[124,63,84,59,"key"],[124,66,84,62],[124,80,84,76],[124,81,84,77],[125,10,85,6],[125,17,85,13],[125,21,85,17],[126,8,86,4],[127,6,87,2],[127,7,87,3],[127,8,87,4],[127,15,87,11,"e"],[127,16,87,12],[127,18,87,14],[128,8,88,4,"console"],[128,15,88,11],[128,16,88,12,"error"],[128,21,88,17],[128,22,88,18],[128,57,88,53,"key"],[128,60,88,56],[128,63,88,59],[128,65,88,61,"e"],[128,66,88,62],[128,67,88,63],[129,8,89,4],[129,15,89,11],[129,20,89,16],[130,6,90,2],[131,4,91,0],[131,5,91,1],[132,4,91,1],[132,11,91,1,"_storageRemove"],[132,25,91,1],[132,26,91,1,"apply"],[132,31,91,1],[132,38,91,1,"arguments"],[132,47,91,1],[133,2,91,1],[134,2,91,1],[134,11,96,22,"clearAuthStorage"],[134,27,96,38,"clearAuthStorage"],[134,28,96,38],[135,4,96,38],[135,11,96,38,"_clearAuthStorage"],[135,28,96,38],[135,29,96,38,"apply"],[135,34,96,38],[135,41,96,38,"arguments"],[135,50,96,38],[136,2,96,38],[137,2,96,38],[137,11,96,38,"_clearAuthStorage"],[137,29,96,38],[138,4,96,38,"_clearAuthStorage"],[138,21,96,38],[138,28,96,38,"_asyncToGenerator"],[138,45,96,38],[138,46,96,38,"default"],[138,53,96,38],[138,55,96,7],[138,68,96,56],[139,6,97,2],[139,12,97,8,"storageRemove"],[139,25,97,21],[139,26,97,22,"STORAGE_KEYS"],[139,38,97,34],[139,39,97,35,"AUTH_TOKEN"],[139,49,97,45],[139,50,97,46],[140,6,98,2],[140,12,98,8,"storageRemove"],[140,25,98,21],[140,26,98,22,"STORAGE_KEYS"],[140,38,98,34],[140,39,98,35,"USERNAME"],[140,47,98,43],[140,48,98,44],[141,6,99,2],[141,10,99,6,"__DEV__"],[141,17,99,13],[141,19,99,15,"console"],[141,26,99,22],[141,27,99,23,"log"],[141,30,99,26],[141,31,99,27],[141,67,99,63],[141,68,99,64],[142,4,100,0],[142,5,100,1],[143,4,100,1],[143,11,100,1,"_clearAuthStorage"],[143,28,100,1],[143,29,100,1,"apply"],[143,34,100,1],[143,41,100,1,"arguments"],[143,50,100,1],[144,2,100,1],[145,0,100,1],[145,3]],"functionMap":{"names":["<global>","storageGet","storageSet","storageRemove","clearAuthStorage"],"mappings":"AAA;OCiB;CDoB;OEM;CFqB;OGM;CHoB;OIK;CJI"},"hasCjsExports":false},"type":"js/module"}]}