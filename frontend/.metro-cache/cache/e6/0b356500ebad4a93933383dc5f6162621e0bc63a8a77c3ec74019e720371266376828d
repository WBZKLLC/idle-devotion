{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"tslib","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":34,"index":34}}],"key":"8R25577gwLd3n1hFG9VYnRLV9eE=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":59,"index":94}}],"key":"m+kcirlwHAgMIuUoyR2vCxbhWD4=","exportNames":["*"],"imports":1}},{"name":"../wrapper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":95},"end":{"line":3,"column":36,"index":131}}],"key":"3qo6tWpJLamBuMFs5ex6CktRJQ4=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":132},"end":{"line":4,"column":52,"index":184}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"NativeFramesInstrumentation\", {\n    enumerable: true,\n    get: function () {\n      return NativeFramesInstrumentation;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _tslib = require(_dependencyMap[2], \"tslib\");\n  var _sentryUtils = require(_dependencyMap[3], \"@sentry/utils\");\n  var _wrapper = require(_dependencyMap[4], \"../wrapper\");\n  var _utils = require(_dependencyMap[5], \"./utils\");\n  /**\n   * A margin of error of 50ms is allowed for the async native bridge call.\n   * Anything larger would reduce the accuracy of our frames measurements.\n   */\n  var MARGIN_OF_ERROR_SECONDS = 0.05;\n  /**\n   * Instrumentation to add native slow/frozen frames measurements onto transactions.\n   */\n  var NativeFramesInstrumentation = /*#__PURE__*/function () {\n    function NativeFramesInstrumentation(addGlobalEventProcessor, doesExist) {\n      (0, _classCallCheck.default)(this, NativeFramesInstrumentation);\n      /** The native frames at the transaction finish time, keyed by traceId. */\n      this._finishFrames = new Map();\n      /** The listeners for each native frames response, keyed by traceId */\n      this._framesListeners = new Map();\n      _sentryUtils.logger.log('[ReactNativeTracing] Native frames instrumentation initialized.');\n      addGlobalEventProcessor(event => this._processEvent(event, doesExist));\n    }\n    /**\n     * To be called when a transaction is started.\n     * Logs the native frames at this start point and instruments child span finishes.\n     */\n    return (0, _createClass.default)(NativeFramesInstrumentation, [{\n      key: \"onTransactionStart\",\n      value: function onTransactionStart(transaction) {\n        void _wrapper.NATIVE.fetchNativeFrames().then(framesMetrics => {\n          if (framesMetrics) {\n            transaction.setData('__startFrames', framesMetrics);\n          }\n        }).then(undefined, error => {\n          _sentryUtils.logger.error(`[ReactNativeTracing] Error while fetching native frames: ${error}`);\n        });\n        (0, _utils.instrumentChildSpanFinish)(transaction, (_, endTimestamp) => {\n          if (!endTimestamp) {\n            this._onSpanFinish();\n          }\n        });\n      }\n      /**\n       * To be called when a transaction is finished\n       */\n    }, {\n      key: \"onTransactionFinish\",\n      value: function onTransactionFinish(transaction) {\n        void this._fetchFramesForTransaction(transaction);\n      }\n      /**\n       * Called on a span finish to fetch native frames to support transactions with trimEnd.\n       * Only to be called when a span does not have an end timestamp.\n       */\n    }, {\n      key: \"_onSpanFinish\",\n      value: function _onSpanFinish() {\n        var timestamp = (0, _sentryUtils.timestampInSeconds)();\n        void _wrapper.NATIVE.fetchNativeFrames().then(nativeFrames => {\n          if (nativeFrames) {\n            this._lastSpanFinishFrames = {\n              timestamp,\n              nativeFrames\n            };\n          }\n        }).then(undefined, error => {\n          _sentryUtils.logger.error(`[ReactNativeTracing] Error while fetching native frames: ${error}`);\n        });\n      }\n      /**\n       * Returns the computed frames measurements and awaits for them if they are not ready yet.\n       */\n    }, {\n      key: \"_getFramesMeasurements\",\n      value: function _getFramesMeasurements(traceId, finalEndTimestamp, startFrames) {\n        return (0, _tslib.__awaiter)(this, void 0, void 0, function* () {\n          if (this._finishFrames.has(traceId)) {\n            return this._prepareMeasurements(traceId, finalEndTimestamp, startFrames);\n          }\n          return new Promise(resolve => {\n            var timeout = setTimeout(() => {\n              this._framesListeners.delete(traceId);\n              resolve(null);\n            }, 2000);\n            this._framesListeners.set(traceId, () => {\n              resolve(this._prepareMeasurements(traceId, finalEndTimestamp, startFrames));\n              clearTimeout(timeout);\n              this._framesListeners.delete(traceId);\n            });\n          });\n        });\n      }\n      /**\n       * Returns the computed frames measurements given ready data\n       */\n    }, {\n      key: \"_prepareMeasurements\",\n      value: function _prepareMeasurements(traceId, finalEndTimestamp,\n      // The actual transaction finish time.\n      startFrames) {\n        var finalFinishFrames;\n        var finish = this._finishFrames.get(traceId);\n        if (finish && finish.nativeFrames &&\n        // Must be in the margin of error of the actual transaction finish time (finalEndTimestamp)\n        Math.abs(finish.timestamp - finalEndTimestamp) < MARGIN_OF_ERROR_SECONDS) {\n          finalFinishFrames = finish.nativeFrames;\n        } else if (this._lastSpanFinishFrames && Math.abs(this._lastSpanFinishFrames.timestamp - finalEndTimestamp) < MARGIN_OF_ERROR_SECONDS) {\n          // Fallback to the last span finish if it is within the margin of error of the actual finish timestamp.\n          // This should be the case for trimEnd.\n          finalFinishFrames = this._lastSpanFinishFrames.nativeFrames;\n        } else {\n          return null;\n        }\n        var measurements = {\n          frames_total: {\n            value: finalFinishFrames.totalFrames - startFrames.totalFrames,\n            unit: 'none'\n          },\n          frames_frozen: {\n            value: finalFinishFrames.frozenFrames - startFrames.frozenFrames,\n            unit: 'none'\n          },\n          frames_slow: {\n            value: finalFinishFrames.slowFrames - startFrames.slowFrames,\n            unit: 'none'\n          }\n        };\n        return measurements;\n      }\n      /**\n       * Fetch finish frames for a transaction at the current time. Calls any awaiting listeners.\n       */\n    }, {\n      key: \"_fetchFramesForTransaction\",\n      value: function _fetchFramesForTransaction(transaction) {\n        var _a;\n        return (0, _tslib.__awaiter)(this, void 0, void 0, function* () {\n          var startFrames = transaction.data.__startFrames;\n          // This timestamp marks when the finish frames were retrieved. It should be pretty close to the transaction finish.\n          var timestamp = (0, _sentryUtils.timestampInSeconds)();\n          var finishFrames = null;\n          if (startFrames) {\n            finishFrames = yield _wrapper.NATIVE.fetchNativeFrames();\n          }\n          this._finishFrames.set(transaction.traceId, {\n            nativeFrames: finishFrames,\n            timestamp\n          });\n          (_a = this._framesListeners.get(transaction.traceId)) === null || _a === void 0 ? void 0 : _a();\n          setTimeout(() => this._cancelFinishFrames(transaction), 2000);\n        });\n      }\n      /**\n       * On a finish frames failure, we cancel the await.\n       */\n    }, {\n      key: \"_cancelFinishFrames\",\n      value: function _cancelFinishFrames(transaction) {\n        if (this._finishFrames.has(transaction.traceId)) {\n          this._finishFrames.delete(transaction.traceId);\n          _sentryUtils.logger.log(`[NativeFrames] Native frames timed out for ${transaction.op} transaction ${transaction.name}. Not adding native frames measurements.`);\n        }\n      }\n      /**\n       * Adds frames measurements to an event. Called from a valid event processor.\n       * Awaits for finish frames if needed.\n       */\n    }, {\n      key: \"_processEvent\",\n      value: function _processEvent(event, doesExist) {\n        var _a, _b;\n        return (0, _tslib.__awaiter)(this, void 0, void 0, function* () {\n          if (!doesExist()) {\n            return event;\n          }\n          if (event.type === 'transaction' && event.transaction && event.contexts && event.contexts.trace) {\n            var traceContext = event.contexts.trace;\n            var traceId = traceContext.trace_id;\n            if (traceId && ((_a = traceContext.data) === null || _a === void 0 ? void 0 : _a.__startFrames) && event.timestamp) {\n              var measurements = yield this._getFramesMeasurements(traceId, event.timestamp, traceContext.data.__startFrames);\n              if (!measurements) {\n                _sentryUtils.logger.log(`[NativeFrames] Could not fetch native frames for ${traceContext.op} transaction ${event.transaction}. Not adding native frames measurements.`);\n              } else {\n                _sentryUtils.logger.log(`[Measurements] Adding measurements to ${traceContext.op} transaction ${event.transaction}: ${JSON.stringify(measurements, undefined, 2)}`);\n                event.measurements = Object.assign(Object.assign({}, (_b = event.measurements) !== null && _b !== void 0 ? _b : {}), measurements);\n                this._finishFrames.delete(traceId);\n              }\n              delete traceContext.data.__startFrames;\n            }\n          }\n          return event;\n        });\n      }\n    }]);\n  }();\n});","lineCount":217,"map":[[12,2,13,0,"Object"],[12,8,13,0],[12,9,13,0,"defineProperty"],[12,23,13,0],[12,24,13,0,"exports"],[12,31,13,0],[13,4,13,0,"enumerable"],[13,14,13,0],[14,4,13,0,"get"],[14,7,13,0],[14,18,13,0,"get"],[14,19,13,0],[15,6,13,0],[15,13,13,0,"NativeFramesInstrumentation"],[15,40,13,0],[16,4,13,0],[17,2,13,0],[18,2,185,1],[18,6,185,1,"_babelRuntimeHelpersClassCallCheck"],[18,40,185,1],[18,43,185,1,"require"],[18,50,185,1],[18,51,185,1,"_dependencyMap"],[18,65,185,1],[19,2,185,1],[19,6,185,1,"_classCallCheck"],[19,21,185,1],[19,24,185,1,"_interopDefault"],[19,39,185,1],[19,40,185,1,"_babelRuntimeHelpersClassCallCheck"],[19,74,185,1],[20,2,185,1],[20,6,185,1,"_babelRuntimeHelpersCreateClass"],[20,37,185,1],[20,40,185,1,"require"],[20,47,185,1],[20,48,185,1,"_dependencyMap"],[20,62,185,1],[21,2,185,1],[21,6,185,1,"_createClass"],[21,18,185,1],[21,21,185,1,"_interopDefault"],[21,36,185,1],[21,37,185,1,"_babelRuntimeHelpersCreateClass"],[21,68,185,1],[22,2,1,0],[22,6,1,0,"_tslib"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_sentryUtils"],[23,18,2,0],[23,21,2,0,"require"],[23,28,2,0],[23,29,2,0,"_dependencyMap"],[23,43,2,0],[24,2,3,0],[24,6,3,0,"_wrapper"],[24,14,3,0],[24,17,3,0,"require"],[24,24,3,0],[24,25,3,0,"_dependencyMap"],[24,39,3,0],[25,2,4,0],[25,6,4,0,"_utils"],[25,12,4,0],[25,15,4,0,"require"],[25,22,4,0],[25,23,4,0,"_dependencyMap"],[25,37,4,0],[26,2,5,0],[27,0,6,0],[28,0,7,0],[29,0,8,0],[30,2,9,0],[30,6,9,6,"MARGIN_OF_ERROR_SECONDS"],[30,29,9,29],[30,32,9,32],[30,36,9,36],[31,2,10,0],[32,0,11,0],[33,0,12,0],[34,2,10,0],[34,6,13,13,"NativeFramesInstrumentation"],[34,33,13,40],[35,4,14,4],[35,13,14,4,"NativeFramesInstrumentation"],[35,41,14,16,"addGlobalEventProcessor"],[35,64,14,39],[35,66,14,41,"doesExist"],[35,75,14,50],[35,77,14,52],[36,6,14,52],[36,10,14,52,"_classCallCheck"],[36,25,14,52],[36,26,14,52,"default"],[36,33,14,52],[36,41,14,52,"NativeFramesInstrumentation"],[36,68,14,52],[37,6,15,8],[38,6,16,8],[38,10,16,12],[38,11,16,13,"_finishFrames"],[38,24,16,26],[38,27,16,29],[38,31,16,33,"Map"],[38,34,16,36],[38,35,16,37],[38,36,16,38],[39,6,17,8],[40,6,18,8],[40,10,18,12],[40,11,18,13,"_framesListeners"],[40,27,18,29],[40,30,18,32],[40,34,18,36,"Map"],[40,37,18,39],[40,38,18,40],[40,39,18,41],[41,6,19,8,"logger"],[41,18,19,14],[41,19,19,14,"logger"],[41,25,19,14],[41,26,19,15,"log"],[41,29,19,18],[41,30,19,19],[41,95,19,84],[41,96,19,85],[42,6,20,8,"addGlobalEventProcessor"],[42,29,20,31],[42,30,20,32,"event"],[42,35,20,37],[42,39,20,41],[42,43,20,45],[42,44,20,46,"_processEvent"],[42,57,20,59],[42,58,20,60,"event"],[42,63,20,65],[42,65,20,67,"doesExist"],[42,74,20,76],[42,75,20,77],[42,76,20,78],[43,4,21,4],[44,4,22,4],[45,0,23,0],[46,0,24,0],[47,0,25,0],[48,4,22,4],[48,15,22,4,"_createClass"],[48,27,22,4],[48,28,22,4,"default"],[48,35,22,4],[48,37,22,4,"NativeFramesInstrumentation"],[48,64,22,4],[49,6,22,4,"key"],[49,9,22,4],[50,6,22,4,"value"],[50,11,22,4],[50,13,26,4],[50,22,26,4,"onTransactionStart"],[50,40,26,22,"onTransactionStart"],[50,41,26,23,"transaction"],[50,52,26,34],[50,54,26,36],[51,8,27,8],[51,13,27,13,"NATIVE"],[51,21,27,19],[51,22,27,19,"NATIVE"],[51,28,27,19],[51,29,27,20,"fetchNativeFrames"],[51,46,27,37],[51,47,27,38],[51,48,27,39],[51,49,28,13,"then"],[51,53,28,17],[51,54,28,18,"framesMetrics"],[51,67,28,31],[51,71,28,35],[52,10,29,12],[52,14,29,16,"framesMetrics"],[52,27,29,29],[52,29,29,31],[53,12,30,16,"transaction"],[53,23,30,27],[53,24,30,28,"setData"],[53,31,30,35],[53,32,30,36],[53,47,30,51],[53,49,30,53,"framesMetrics"],[53,62,30,66],[53,63,30,67],[54,10,31,12],[55,8,32,8],[55,9,32,9],[55,10,32,10],[55,11,33,13,"then"],[55,15,33,17],[55,16,33,18,"undefined"],[55,25,33,27],[55,27,33,29,"error"],[55,32,33,34],[55,36,33,38],[56,10,34,12,"logger"],[56,22,34,18],[56,23,34,18,"logger"],[56,29,34,18],[56,30,34,19,"error"],[56,35,34,24],[56,36,34,25],[56,96,34,85,"error"],[56,101,34,90],[56,103,34,92],[56,104,34,93],[57,8,35,8],[57,9,35,9],[57,10,35,10],[58,8,36,8],[58,12,36,8,"instrumentChildSpanFinish"],[58,18,36,33],[58,19,36,33,"instrumentChildSpanFinish"],[58,44,36,33],[58,46,36,34,"transaction"],[58,57,36,45],[58,59,36,47],[58,60,36,48,"_"],[58,61,36,49],[58,63,36,51,"endTimestamp"],[58,75,36,63],[58,80,36,68],[59,10,37,12],[59,14,37,16],[59,15,37,17,"endTimestamp"],[59,27,37,29],[59,29,37,31],[60,12,38,16],[60,16,38,20],[60,17,38,21,"_onSpanFinish"],[60,30,38,34],[60,31,38,35],[60,32,38,36],[61,10,39,12],[62,8,40,8],[62,9,40,9],[62,10,40,10],[63,6,41,4],[64,6,42,4],[65,0,43,0],[66,0,44,0],[67,4,42,4],[68,6,42,4,"key"],[68,9,42,4],[69,6,42,4,"value"],[69,11,42,4],[69,13,45,4],[69,22,45,4,"onTransactionFinish"],[69,41,45,23,"onTransactionFinish"],[69,42,45,24,"transaction"],[69,53,45,35],[69,55,45,37],[70,8,46,8],[70,13,46,13],[70,17,46,17],[70,18,46,18,"_fetchFramesForTransaction"],[70,44,46,44],[70,45,46,45,"transaction"],[70,56,46,56],[70,57,46,57],[71,6,47,4],[72,6,48,4],[73,0,49,0],[74,0,50,0],[75,0,51,0],[76,4,48,4],[77,6,48,4,"key"],[77,9,48,4],[78,6,48,4,"value"],[78,11,48,4],[78,13,52,4],[78,22,52,4,"_onSpanFinish"],[78,35,52,17,"_onSpanFinish"],[78,36,52,17],[78,38,52,20],[79,8,53,8],[79,12,53,14,"timestamp"],[79,21,53,23],[79,24,53,26],[79,28,53,26,"timestampInSeconds"],[79,40,53,44],[79,41,53,44,"timestampInSeconds"],[79,59,53,44],[79,61,53,45],[79,62,53,46],[80,8,54,8],[80,13,54,13,"NATIVE"],[80,21,54,19],[80,22,54,19,"NATIVE"],[80,28,54,19],[80,29,54,20,"fetchNativeFrames"],[80,46,54,37],[80,47,54,38],[80,48,54,39],[80,49,55,13,"then"],[80,53,55,17],[80,54,55,18,"nativeFrames"],[80,66,55,30],[80,70,55,34],[81,10,56,12],[81,14,56,16,"nativeFrames"],[81,26,56,28],[81,28,56,30],[82,12,57,16],[82,16,57,20],[82,17,57,21,"_lastSpanFinishFrames"],[82,38,57,42],[82,41,57,45],[83,14,58,20,"timestamp"],[83,23,58,29],[84,14,59,20,"nativeFrames"],[85,12,60,16],[85,13,60,17],[86,10,61,12],[87,8,62,8],[87,9,62,9],[87,10,62,10],[87,11,63,13,"then"],[87,15,63,17],[87,16,63,18,"undefined"],[87,25,63,27],[87,27,63,29,"error"],[87,32,63,34],[87,36,63,38],[88,10,64,12,"logger"],[88,22,64,18],[88,23,64,18,"logger"],[88,29,64,18],[88,30,64,19,"error"],[88,35,64,24],[88,36,64,25],[88,96,64,85,"error"],[88,101,64,90],[88,103,64,92],[88,104,64,93],[89,8,65,8],[89,9,65,9],[89,10,65,10],[90,6,66,4],[91,6,67,4],[92,0,68,0],[93,0,69,0],[94,4,67,4],[95,6,67,4,"key"],[95,9,67,4],[96,6,67,4,"value"],[96,11,67,4],[96,13,70,4],[96,22,70,4,"_getFramesMeasurements"],[96,44,70,26,"_getFramesMeasurements"],[96,45,70,27,"traceId"],[96,52,70,34],[96,54,70,36,"finalEndTimestamp"],[96,71,70,53],[96,73,70,55,"startFrames"],[96,84,70,66],[96,86,70,68],[97,8,71,8],[97,15,71,15],[97,19,71,15,"__awaiter"],[97,25,71,24],[97,26,71,24,"__awaiter"],[97,35,71,24],[97,37,71,25],[97,41,71,29],[97,43,71,31],[97,48,71,36],[97,49,71,37],[97,51,71,39],[97,56,71,44],[97,57,71,45],[97,59,71,47],[97,72,71,60],[98,10,72,12],[98,14,72,16],[98,18,72,20],[98,19,72,21,"_finishFrames"],[98,32,72,34],[98,33,72,35,"has"],[98,36,72,38],[98,37,72,39,"traceId"],[98,44,72,46],[98,45,72,47],[98,47,72,49],[99,12,73,16],[99,19,73,23],[99,23,73,27],[99,24,73,28,"_prepareMeasurements"],[99,44,73,48],[99,45,73,49,"traceId"],[99,52,73,56],[99,54,73,58,"finalEndTimestamp"],[99,71,73,75],[99,73,73,77,"startFrames"],[99,84,73,88],[99,85,73,89],[100,10,74,12],[101,10,75,12],[101,17,75,19],[101,21,75,23,"Promise"],[101,28,75,30],[101,29,75,31,"resolve"],[101,36,75,38],[101,40,75,42],[102,12,76,16],[102,16,76,22,"timeout"],[102,23,76,29],[102,26,76,32,"setTimeout"],[102,36,76,42],[102,37,76,43],[102,43,76,49],[103,14,77,20],[103,18,77,24],[103,19,77,25,"_framesListeners"],[103,35,77,41],[103,36,77,42,"delete"],[103,42,77,48],[103,43,77,49,"traceId"],[103,50,77,56],[103,51,77,57],[104,14,78,20,"resolve"],[104,21,78,27],[104,22,78,28],[104,26,78,32],[104,27,78,33],[105,12,79,16],[105,13,79,17],[105,15,79,19],[105,19,79,23],[105,20,79,24],[106,12,80,16],[106,16,80,20],[106,17,80,21,"_framesListeners"],[106,33,80,37],[106,34,80,38,"set"],[106,37,80,41],[106,38,80,42,"traceId"],[106,45,80,49],[106,47,80,51],[106,53,80,57],[107,14,81,20,"resolve"],[107,21,81,27],[107,22,81,28],[107,26,81,32],[107,27,81,33,"_prepareMeasurements"],[107,47,81,53],[107,48,81,54,"traceId"],[107,55,81,61],[107,57,81,63,"finalEndTimestamp"],[107,74,81,80],[107,76,81,82,"startFrames"],[107,87,81,93],[107,88,81,94],[107,89,81,95],[108,14,82,20,"clearTimeout"],[108,26,82,32],[108,27,82,33,"timeout"],[108,34,82,40],[108,35,82,41],[109,14,83,20],[109,18,83,24],[109,19,83,25,"_framesListeners"],[109,35,83,41],[109,36,83,42,"delete"],[109,42,83,48],[109,43,83,49,"traceId"],[109,50,83,56],[109,51,83,57],[110,12,84,16],[110,13,84,17],[110,14,84,18],[111,10,85,12],[111,11,85,13],[111,12,85,14],[112,8,86,8],[112,9,86,9],[112,10,86,10],[113,6,87,4],[114,6,88,4],[115,0,89,0],[116,0,90,0],[117,4,88,4],[118,6,88,4,"key"],[118,9,88,4],[119,6,88,4,"value"],[119,11,88,4],[119,13,91,4],[119,22,91,4,"_prepareMeasurements"],[119,42,91,24,"_prepareMeasurements"],[119,43,91,25,"traceId"],[119,50,91,32],[119,52,91,34,"finalEndTimestamp"],[119,69,91,51],[120,6,91,53],[121,6,92,4,"startFrames"],[121,17,92,15],[121,19,92,17],[122,8,93,8],[122,12,93,12,"finalFinishFrames"],[122,29,93,29],[123,8,94,8],[123,12,94,14,"finish"],[123,18,94,20],[123,21,94,23],[123,25,94,27],[123,26,94,28,"_finishFrames"],[123,39,94,41],[123,40,94,42,"get"],[123,43,94,45],[123,44,94,46,"traceId"],[123,51,94,53],[123,52,94,54],[124,8,95,8],[124,12,95,12,"finish"],[124,18,95,18],[124,22,96,12,"finish"],[124,28,96,18],[124,29,96,19,"nativeFrames"],[124,41,96,31],[125,8,97,12],[126,8,98,12,"Math"],[126,12,98,16],[126,13,98,17,"abs"],[126,16,98,20],[126,17,98,21,"finish"],[126,23,98,27],[126,24,98,28,"timestamp"],[126,33,98,37],[126,36,98,40,"finalEndTimestamp"],[126,53,98,57],[126,54,98,58],[126,57,98,61,"MARGIN_OF_ERROR_SECONDS"],[126,80,98,84],[126,82,98,86],[127,10,99,12,"finalFinishFrames"],[127,27,99,29],[127,30,99,32,"finish"],[127,36,99,38],[127,37,99,39,"nativeFrames"],[127,49,99,51],[128,8,100,8],[128,9,100,9],[128,15,101,13],[128,19,101,17],[128,23,101,21],[128,24,101,22,"_lastSpanFinishFrames"],[128,45,101,43],[128,49,102,12,"Math"],[128,53,102,16],[128,54,102,17,"abs"],[128,57,102,20],[128,58,102,21],[128,62,102,25],[128,63,102,26,"_lastSpanFinishFrames"],[128,84,102,47],[128,85,102,48,"timestamp"],[128,94,102,57],[128,97,102,60,"finalEndTimestamp"],[128,114,102,77],[128,115,102,78],[128,118,102,81,"MARGIN_OF_ERROR_SECONDS"],[128,141,102,104],[128,143,102,106],[129,10,103,12],[130,10,104,12],[131,10,105,12,"finalFinishFrames"],[131,27,105,29],[131,30,105,32],[131,34,105,36],[131,35,105,37,"_lastSpanFinishFrames"],[131,56,105,58],[131,57,105,59,"nativeFrames"],[131,69,105,71],[132,8,106,8],[132,9,106,9],[132,15,107,13],[133,10,108,12],[133,17,108,19],[133,21,108,23],[134,8,109,8],[135,8,110,8],[135,12,110,14,"measurements"],[135,24,110,26],[135,27,110,29],[136,10,111,12,"frames_total"],[136,22,111,24],[136,24,111,26],[137,12,112,16,"value"],[137,17,112,21],[137,19,112,23,"finalFinishFrames"],[137,36,112,40],[137,37,112,41,"totalFrames"],[137,48,112,52],[137,51,112,55,"startFrames"],[137,62,112,66],[137,63,112,67,"totalFrames"],[137,74,112,78],[138,12,113,16,"unit"],[138,16,113,20],[138,18,113,22],[139,10,114,12],[139,11,114,13],[140,10,115,12,"frames_frozen"],[140,23,115,25],[140,25,115,27],[141,12,116,16,"value"],[141,17,116,21],[141,19,116,23,"finalFinishFrames"],[141,36,116,40],[141,37,116,41,"frozenFrames"],[141,49,116,53],[141,52,116,56,"startFrames"],[141,63,116,67],[141,64,116,68,"frozenFrames"],[141,76,116,80],[142,12,117,16,"unit"],[142,16,117,20],[142,18,117,22],[143,10,118,12],[143,11,118,13],[144,10,119,12,"frames_slow"],[144,21,119,23],[144,23,119,25],[145,12,120,16,"value"],[145,17,120,21],[145,19,120,23,"finalFinishFrames"],[145,36,120,40],[145,37,120,41,"slowFrames"],[145,47,120,51],[145,50,120,54,"startFrames"],[145,61,120,65],[145,62,120,66,"slowFrames"],[145,72,120,76],[146,12,121,16,"unit"],[146,16,121,20],[146,18,121,22],[147,10,122,12],[148,8,123,8],[148,9,123,9],[149,8,124,8],[149,15,124,15,"measurements"],[149,27,124,27],[150,6,125,4],[151,6,126,4],[152,0,127,0],[153,0,128,0],[154,4,126,4],[155,6,126,4,"key"],[155,9,126,4],[156,6,126,4,"value"],[156,11,126,4],[156,13,129,4],[156,22,129,4,"_fetchFramesForTransaction"],[156,48,129,30,"_fetchFramesForTransaction"],[156,49,129,31,"transaction"],[156,60,129,42],[156,62,129,44],[157,8,130,8],[157,12,130,12,"_a"],[157,14,130,14],[158,8,131,8],[158,15,131,15],[158,19,131,15,"__awaiter"],[158,25,131,24],[158,26,131,24,"__awaiter"],[158,35,131,24],[158,37,131,25],[158,41,131,29],[158,43,131,31],[158,48,131,36],[158,49,131,37],[158,51,131,39],[158,56,131,44],[158,57,131,45],[158,59,131,47],[158,72,131,60],[159,10,132,12],[159,14,132,18,"startFrames"],[159,25,132,29],[159,28,132,32,"transaction"],[159,39,132,43],[159,40,132,44,"data"],[159,44,132,48],[159,45,132,49,"__startFrames"],[159,58,132,62],[160,10,133,12],[161,10,134,12],[161,14,134,18,"timestamp"],[161,23,134,27],[161,26,134,30],[161,30,134,30,"timestampInSeconds"],[161,42,134,48],[161,43,134,48,"timestampInSeconds"],[161,61,134,48],[161,63,134,49],[161,64,134,50],[162,10,135,12],[162,14,135,16,"finishFrames"],[162,26,135,28],[162,29,135,31],[162,33,135,35],[163,10,136,12],[163,14,136,16,"startFrames"],[163,25,136,27],[163,27,136,29],[164,12,137,16,"finishFrames"],[164,24,137,28],[164,27,137,31],[164,33,137,37,"NATIVE"],[164,41,137,43],[164,42,137,43,"NATIVE"],[164,48,137,43],[164,49,137,44,"fetchNativeFrames"],[164,66,137,61],[164,67,137,62],[164,68,137,63],[165,10,138,12],[166,10,139,12],[166,14,139,16],[166,15,139,17,"_finishFrames"],[166,28,139,30],[166,29,139,31,"set"],[166,32,139,34],[166,33,139,35,"transaction"],[166,44,139,46],[166,45,139,47,"traceId"],[166,52,139,54],[166,54,139,56],[167,12,140,16,"nativeFrames"],[167,24,140,28],[167,26,140,30,"finishFrames"],[167,38,140,42],[168,12,141,16,"timestamp"],[169,10,142,12],[169,11,142,13],[169,12,142,14],[170,10,143,12],[170,11,143,13,"_a"],[170,13,143,15],[170,16,143,18],[170,20,143,22],[170,21,143,23,"_framesListeners"],[170,37,143,39],[170,38,143,40,"get"],[170,41,143,43],[170,42,143,44,"transaction"],[170,53,143,55],[170,54,143,56,"traceId"],[170,61,143,63],[170,62,143,64],[170,68,143,70],[170,72,143,74],[170,76,143,78,"_a"],[170,78,143,80],[170,83,143,85],[170,88,143,90],[170,89,143,91],[170,92,143,94],[170,97,143,99],[170,98,143,100],[170,101,143,103,"_a"],[170,103,143,105],[170,104,143,106],[170,105,143,107],[171,10,144,12,"setTimeout"],[171,20,144,22],[171,21,144,23],[171,27,144,29],[171,31,144,33],[171,32,144,34,"_cancelFinishFrames"],[171,51,144,53],[171,52,144,54,"transaction"],[171,63,144,65],[171,64,144,66],[171,66,144,68],[171,70,144,72],[171,71,144,73],[172,8,145,8],[172,9,145,9],[172,10,145,10],[173,6,146,4],[174,6,147,4],[175,0,148,0],[176,0,149,0],[177,4,147,4],[178,6,147,4,"key"],[178,9,147,4],[179,6,147,4,"value"],[179,11,147,4],[179,13,150,4],[179,22,150,4,"_cancelFinishFrames"],[179,41,150,23,"_cancelFinishFrames"],[179,42,150,24,"transaction"],[179,53,150,35],[179,55,150,37],[180,8,151,8],[180,12,151,12],[180,16,151,16],[180,17,151,17,"_finishFrames"],[180,30,151,30],[180,31,151,31,"has"],[180,34,151,34],[180,35,151,35,"transaction"],[180,46,151,46],[180,47,151,47,"traceId"],[180,54,151,54],[180,55,151,55],[180,57,151,57],[181,10,152,12],[181,14,152,16],[181,15,152,17,"_finishFrames"],[181,28,152,30],[181,29,152,31,"delete"],[181,35,152,37],[181,36,152,38,"transaction"],[181,47,152,49],[181,48,152,50,"traceId"],[181,55,152,57],[181,56,152,58],[182,10,153,12,"logger"],[182,22,153,18],[182,23,153,18,"logger"],[182,29,153,18],[182,30,153,19,"log"],[182,33,153,22],[182,34,153,23],[182,80,153,69,"transaction"],[182,91,153,80],[182,92,153,81,"op"],[182,94,153,83],[182,110,153,99,"transaction"],[182,121,153,110],[182,122,153,111,"name"],[182,126,153,115],[182,168,153,157],[182,169,153,158],[183,8,154,8],[184,6,155,4],[185,6,156,4],[186,0,157,0],[187,0,158,0],[188,0,159,0],[189,4,156,4],[190,6,156,4,"key"],[190,9,156,4],[191,6,156,4,"value"],[191,11,156,4],[191,13,160,4],[191,22,160,4,"_processEvent"],[191,35,160,17,"_processEvent"],[191,36,160,18,"event"],[191,41,160,23],[191,43,160,25,"doesExist"],[191,52,160,34],[191,54,160,36],[192,8,161,8],[192,12,161,12,"_a"],[192,14,161,14],[192,16,161,16,"_b"],[192,18,161,18],[193,8,162,8],[193,15,162,15],[193,19,162,15,"__awaiter"],[193,25,162,24],[193,26,162,24,"__awaiter"],[193,35,162,24],[193,37,162,25],[193,41,162,29],[193,43,162,31],[193,48,162,36],[193,49,162,37],[193,51,162,39],[193,56,162,44],[193,57,162,45],[193,59,162,47],[193,72,162,60],[194,10,163,12],[194,14,163,16],[194,15,163,17,"doesExist"],[194,24,163,26],[194,25,163,27],[194,26,163,28],[194,28,163,30],[195,12,164,16],[195,19,164,23,"event"],[195,24,164,28],[196,10,165,12],[197,10,166,12],[197,14,166,16,"event"],[197,19,166,21],[197,20,166,22,"type"],[197,24,166,26],[197,29,166,31],[197,42,166,44],[197,46,166,48,"event"],[197,51,166,53],[197,52,166,54,"transaction"],[197,63,166,65],[197,67,166,69,"event"],[197,72,166,74],[197,73,166,75,"contexts"],[197,81,166,83],[197,85,166,87,"event"],[197,90,166,92],[197,91,166,93,"contexts"],[197,99,166,101],[197,100,166,102,"trace"],[197,105,166,107],[197,107,166,109],[198,12,167,16],[198,16,167,22,"traceContext"],[198,28,167,34],[198,31,167,37,"event"],[198,36,167,42],[198,37,167,43,"contexts"],[198,45,167,51],[198,46,167,52,"trace"],[198,51,167,57],[199,12,168,16],[199,16,168,22,"traceId"],[199,23,168,29],[199,26,168,32,"traceContext"],[199,38,168,44],[199,39,168,45,"trace_id"],[199,47,168,53],[200,12,169,16],[200,16,169,20,"traceId"],[200,23,169,27],[200,28,169,32],[200,29,169,33,"_a"],[200,31,169,35],[200,34,169,38,"traceContext"],[200,46,169,50],[200,47,169,51,"data"],[200,51,169,55],[200,57,169,61],[200,61,169,65],[200,65,169,69,"_a"],[200,67,169,71],[200,72,169,76],[200,77,169,81],[200,78,169,82],[200,81,169,85],[200,86,169,90],[200,87,169,91],[200,90,169,94,"_a"],[200,92,169,96],[200,93,169,97,"__startFrames"],[200,106,169,110],[200,107,169,111],[200,111,169,115,"event"],[200,116,169,120],[200,117,169,121,"timestamp"],[200,126,169,130],[200,128,169,132],[201,14,170,20],[201,18,170,26,"measurements"],[201,30,170,38],[201,33,170,41],[201,39,170,47],[201,43,170,51],[201,44,170,52,"_getFramesMeasurements"],[201,66,170,74],[201,67,170,75,"traceId"],[201,74,170,82],[201,76,170,84,"event"],[201,81,170,89],[201,82,170,90,"timestamp"],[201,91,170,99],[201,93,170,101,"traceContext"],[201,105,170,113],[201,106,170,114,"data"],[201,110,170,118],[201,111,170,119,"__startFrames"],[201,124,170,132],[201,125,170,133],[202,14,171,20],[202,18,171,24],[202,19,171,25,"measurements"],[202,31,171,37],[202,33,171,39],[203,16,172,24,"logger"],[203,28,172,30],[203,29,172,30,"logger"],[203,35,172,30],[203,36,172,31,"log"],[203,39,172,34],[203,40,172,35],[203,92,172,87,"traceContext"],[203,104,172,99],[203,105,172,100,"op"],[203,107,172,102],[203,123,172,118,"event"],[203,128,172,123],[203,129,172,124,"transaction"],[203,140,172,135],[203,182,172,177],[203,183,172,178],[204,14,173,20],[204,15,173,21],[204,21,174,25],[205,16,175,24,"logger"],[205,28,175,30],[205,29,175,30,"logger"],[205,35,175,30],[205,36,175,31,"log"],[205,39,175,34],[205,40,175,35],[205,81,175,76,"traceContext"],[205,93,175,88],[205,94,175,89,"op"],[205,96,175,91],[205,112,175,107,"event"],[205,117,175,112],[205,118,175,113,"transaction"],[205,129,175,124],[205,134,175,129,"JSON"],[205,138,175,133],[205,139,175,134,"stringify"],[205,148,175,143],[205,149,175,144,"measurements"],[205,161,175,156],[205,163,175,158,"undefined"],[205,172,175,167],[205,174,175,169],[205,175,175,170],[205,176,175,171],[205,178,175,173],[205,179,175,174],[206,16,176,24,"event"],[206,21,176,29],[206,22,176,30,"measurements"],[206,34,176,42],[206,37,176,45,"Object"],[206,43,176,51],[206,44,176,52,"assign"],[206,50,176,58],[206,51,176,59,"Object"],[206,57,176,65],[206,58,176,66,"assign"],[206,64,176,72],[206,65,176,73],[206,66,176,74],[206,67,176,75],[206,69,176,78],[206,70,176,79,"_b"],[206,72,176,81],[206,75,176,84,"event"],[206,80,176,89],[206,81,176,90,"measurements"],[206,93,176,102],[206,99,176,108],[206,103,176,112],[206,107,176,116,"_b"],[206,109,176,118],[206,114,176,123],[206,119,176,128],[206,120,176,129],[206,123,176,132,"_b"],[206,125,176,134],[206,128,176,137],[206,129,176,138],[206,130,176,140],[206,131,176,141],[206,133,176,143,"measurements"],[206,145,176,155],[206,146,176,156],[207,16,177,24],[207,20,177,28],[207,21,177,29,"_finishFrames"],[207,34,177,42],[207,35,177,43,"delete"],[207,41,177,49],[207,42,177,50,"traceId"],[207,49,177,57],[207,50,177,58],[208,14,178,20],[209,14,179,20],[209,21,179,27,"traceContext"],[209,33,179,39],[209,34,179,40,"data"],[209,38,179,44],[209,39,179,45,"__startFrames"],[209,52,179,58],[210,12,180,16],[211,10,181,12],[212,10,182,12],[212,17,182,19,"event"],[212,22,182,24],[213,8,183,8],[213,9,183,9],[213,10,183,10],[214,6,184,4],[215,4,184,5],[216,2,184,5],[217,0,184,5],[217,3]],"functionMap":{"names":["<global>","NativeFramesInstrumentation","NativeFramesInstrumentation#constructor","addGlobalEventProcessor$argument_0","NativeFramesInstrumentation#onTransactionStart","NATIVE.fetchNativeFrames.then$argument_0","NATIVE.fetchNativeFrames.then.then$argument_1","instrumentChildSpanFinish$argument_1","NativeFramesInstrumentation#onTransactionFinish","NativeFramesInstrumentation#_onSpanFinish","NativeFramesInstrumentation#_getFramesMeasurements","__awaiter$argument_3","Promise$argument_0","setTimeout$argument_0","_framesListeners.set$argument_1","NativeFramesInstrumentation#_prepareMeasurements","NativeFramesInstrumentation#_fetchFramesForTransaction","NativeFramesInstrumentation#_cancelFinishFrames","NativeFramesInstrumentation#_processEvent"],"mappings":"AAA;OCY;ICC;gCCM,6CD;KDC;IGK;kBCE;SDI;6BEC;SFE;+CGC;SHI;KHC;IOI;KPE;IQK;kBJG;SIO;6BHC;SGE;KRC;ISI;+CCC;+BCI;2CCC;iBDG;mDEC;iBFI;aDC;SDC;KTC;IcI;KdkC;IeI;+CLE;uBEa,2CF;SKC;KfC;IgBI;KhBK;IiBK;+CPE;SOqB;KjBC;CDC"},"hasCjsExports":false},"type":"js/module"}]}