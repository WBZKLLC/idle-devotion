{"dependencies":[{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":66,"index":66}}],"key":"m+kcirlwHAgMIuUoyR2vCxbhWD4=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":67},"end":{"line":2,"column":50,"index":117}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"registerErrorInstrumentation\", {\n    enumerable: true,\n    get: function () {\n      return registerErrorInstrumentation;\n    }\n  });\n  var _sentryUtils = require(_dependencyMap[0], \"@sentry/utils\");\n  var _utilsJs = require(_dependencyMap[1], \"./utils.js\");\n  let errorsInstrumented = false;\n\n  /**\n   * Configures global error listeners\n   */\n  function registerErrorInstrumentation() {\n    if (errorsInstrumented) {\n      return;\n    }\n    errorsInstrumented = true;\n    (0, _sentryUtils.addInstrumentationHandler)('error', errorCallback);\n    (0, _sentryUtils.addInstrumentationHandler)('unhandledrejection', errorCallback);\n  }\n\n  /**\n   * If an error or unhandled promise occurs, we mark the active transaction as failed\n   */\n  function errorCallback() {\n    const activeTransaction = (0, _utilsJs.getActiveTransaction)();\n    if (activeTransaction) {\n      const status = 'internal_error';\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && _sentryUtils.logger.log(`[Tracing] Transaction: ${status} -> Global error occured`);\n      activeTransaction.setStatus(status);\n    }\n  }\n\n  // The function name will be lost when bundling but we need to be able to identify this listener later to maintain the\n  // node.js default exit behaviour\n  errorCallback.tag = 'sentry_tracingErrorCallback';\n});","lineCount":44,"map":[[7,2,35,0,"Object"],[7,8,35,0],[7,9,35,0,"defineProperty"],[7,23,35,0],[7,24,35,0,"exports"],[7,31,35,0],[8,4,35,0,"enumerable"],[8,14,35,0],[9,4,35,0,"get"],[9,7,35,0],[9,18,35,0,"get"],[9,19,35,0],[10,6,35,0],[10,13,35,9,"registerErrorInstrumentation"],[10,41,35,37],[11,4,35,37],[12,2,35,37],[13,2,1,0],[13,6,1,0,"_sentryUtils"],[13,18,1,0],[13,21,1,0,"require"],[13,28,1,0],[13,29,1,0,"_dependencyMap"],[13,43,1,0],[14,2,2,0],[14,6,2,0,"_utilsJs"],[14,14,2,0],[14,17,2,0,"require"],[14,24,2,0],[14,25,2,0,"_dependencyMap"],[14,39,2,0],[15,2,4,0],[15,6,4,4,"errorsInstrumented"],[15,24,4,22],[15,27,4,25],[15,32,4,30],[17,2,6,0],[18,0,7,0],[19,0,8,0],[20,2,9,0],[20,11,9,9,"registerErrorInstrumentation"],[20,39,9,37,"registerErrorInstrumentation"],[20,40,9,37],[20,42,9,40],[21,4,10,2],[21,8,10,6,"errorsInstrumented"],[21,26,10,24],[21,28,10,26],[22,6,11,4],[23,4,12,2],[24,4,14,2,"errorsInstrumented"],[24,22,14,20],[24,25,14,23],[24,29,14,27],[25,4,15,2],[25,8,15,2,"addInstrumentationHandler"],[25,20,15,27],[25,21,15,27,"addInstrumentationHandler"],[25,46,15,27],[25,48,15,28],[25,55,15,35],[25,57,15,37,"errorCallback"],[25,70,15,50],[25,71,15,51],[26,4,16,2],[26,8,16,2,"addInstrumentationHandler"],[26,20,16,27],[26,21,16,27,"addInstrumentationHandler"],[26,46,16,27],[26,48,16,28],[26,68,16,48],[26,70,16,50,"errorCallback"],[26,83,16,63],[26,84,16,64],[27,2,17,0],[29,2,19,0],[30,0,20,0],[31,0,21,0],[32,2,22,0],[32,11,22,9,"errorCallback"],[32,24,22,22,"errorCallback"],[32,25,22,22],[32,27,22,25],[33,4,23,2],[33,10,23,8,"activeTransaction"],[33,27,23,25],[33,30,23,28],[33,34,23,28,"getActiveTransaction"],[33,42,23,48],[33,43,23,48,"getActiveTransaction"],[33,63,23,48],[33,65,23,49],[33,66,23,50],[34,4,24,2],[34,8,24,6,"activeTransaction"],[34,25,24,23],[34,27,24,25],[35,6,25,4],[35,12,25,10,"status"],[35,18,25,16],[35,21,25,19],[35,37,25,35],[36,6,26,4],[36,7,26,5],[36,14,26,12,"__SENTRY_DEBUG__"],[36,30,26,28],[36,35,26,33],[36,46,26,44],[36,50,26,48,"__SENTRY_DEBUG__"],[36,66,26,64],[36,71,26,69,"logger"],[36,83,26,75],[36,84,26,75,"logger"],[36,90,26,75],[36,91,26,76,"log"],[36,94,26,79],[36,95,26,80],[36,121,26,106,"status"],[36,127,26,112],[36,153,26,138],[36,154,26,139],[37,6,27,4,"activeTransaction"],[37,23,27,21],[37,24,27,22,"setStatus"],[37,33,27,31],[37,34,27,32,"status"],[37,40,27,38],[37,41,27,39],[38,4,28,2],[39,2,29,0],[41,2,31,0],[42,2,32,0],[43,2,33,0,"errorCallback"],[43,15,33,13],[43,16,33,14,"tag"],[43,19,33,17],[43,22,33,20],[43,51,33,49],[44,0,33,50],[44,3]],"functionMap":{"names":["<global>","registerErrorInstrumentation","errorCallback"],"mappings":"AAA;ACQ;CDQ;AEK;CFO"},"hasCjsExports":false},"type":"js/module"}]}