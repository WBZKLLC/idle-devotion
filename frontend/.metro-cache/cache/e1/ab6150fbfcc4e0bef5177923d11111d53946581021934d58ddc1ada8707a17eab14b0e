{"dependencies":[{"name":"@sentry/browser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"v/L5aEun9KHJcPUBAUY+UgyCfuU=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":57,"index":147}}],"key":"m+kcirlwHAgMIuUoyR2vCxbhWD4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createReduxEnhancer\", {\n    enumerable: true,\n    get: function () {\n      return createReduxEnhancer;\n    }\n  });\n  var _sentryBrowser = require(_dependencyMap[0], \"@sentry/browser\");\n  var _sentryUtils = require(_dependencyMap[1], \"@sentry/utils\");\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n\n  const ACTION_BREADCRUMB_CATEGORY = 'redux.action';\n  const ACTION_BREADCRUMB_TYPE = 'info';\n  const defaultOptions = {\n    attachReduxState: true,\n    actionTransformer: action => action,\n    stateTransformer: state => state || null\n  };\n\n  /**\n   * Creates an enhancer that would be passed to Redux's createStore to log actions and the latest state to Sentry.\n   *\n   * @param enhancerOptions Options to pass to the enhancer\n   */\n  function createReduxEnhancer(enhancerOptions) {\n    // Note: We return an any type as to not have type conflicts.\n    const options = Object.assign({}, defaultOptions, enhancerOptions);\n    return next => (reducer, initialState) => {\n      options.attachReduxState && (0, _sentryBrowser.addGlobalEventProcessor)((event, hint) => {\n        try {\n          // @ts-expect-error try catch to reduce bundle size\n          if (event.type === undefined && event.contexts.state.state.type === 'redux') {\n            hint.attachments = [...(hint.attachments || []),\n            // @ts-expect-error try catch to reduce bundle size\n            {\n              filename: 'redux_state.json',\n              data: JSON.stringify(event.contexts.state.state.value)\n            }];\n          }\n        } catch (_) {\n          // empty\n        }\n        return event;\n      });\n      const sentryReducer = (state, action) => {\n        const newState = reducer(state, action);\n        (0, _sentryBrowser.configureScope)(scope => {\n          /* Action breadcrumbs */\n          const transformedAction = options.actionTransformer(action);\n          if (typeof transformedAction !== 'undefined' && transformedAction !== null) {\n            scope.addBreadcrumb({\n              category: ACTION_BREADCRUMB_CATEGORY,\n              data: transformedAction,\n              type: ACTION_BREADCRUMB_TYPE\n            });\n          }\n\n          /* Set latest state to scope */\n          const transformedState = options.stateTransformer(newState);\n          if (typeof transformedState !== 'undefined' && transformedState !== null) {\n            const client = (0, _sentryBrowser.getCurrentHub)().getClient();\n            const options = client && client.getOptions();\n            const normalizationDepth = options && options.normalizeDepth || 3; // default state normalization depth to 3\n\n            // Set the normalization depth of the redux state to the configured `normalizeDepth` option or a sane number as a fallback\n            const newStateContext = {\n              state: {\n                type: 'redux',\n                value: transformedState\n              }\n            };\n            (0, _sentryUtils.addNonEnumerableProperty)(newStateContext, '__sentry_override_normalization_depth__', 3 +\n            // 3 layers for `state.value.transformedState`\n            normalizationDepth // rest for the actual state\n            );\n            scope.setContext('state', newStateContext);\n          } else {\n            scope.setContext('state', null);\n          }\n\n          /* Allow user to configure scope with latest state */\n          const {\n            configureScopeWithState\n          } = options;\n          if (typeof configureScopeWithState === 'function') {\n            configureScopeWithState(scope, newState);\n          }\n        });\n        return newState;\n      };\n      return next(sentryReducer, initialState);\n    };\n  }\n});","lineCount":99,"map":[[7,2,95,0,"Object"],[7,8,95,0],[7,9,95,0,"defineProperty"],[7,23,95,0],[7,24,95,0,"exports"],[7,31,95,0],[8,4,95,0,"enumerable"],[8,14,95,0],[9,4,95,0,"get"],[9,7,95,0],[9,18,95,0,"get"],[9,19,95,0],[10,6,95,0],[10,13,95,9,"createReduxEnhancer"],[10,32,95,28],[11,4,95,28],[12,2,95,28],[13,2,1,0],[13,6,1,0,"_sentryBrowser"],[13,20,1,0],[13,23,1,0,"require"],[13,30,1,0],[13,31,1,0,"_dependencyMap"],[13,45,1,0],[14,2,2,0],[14,6,2,0,"_sentryUtils"],[14,18,2,0],[14,21,2,0,"require"],[14,28,2,0],[14,29,2,0,"_dependencyMap"],[14,43,2,0],[15,2,4,0],[17,2,6,0],[17,8,6,6,"ACTION_BREADCRUMB_CATEGORY"],[17,34,6,32],[17,37,6,35],[17,51,6,49],[18,2,7,0],[18,8,7,6,"ACTION_BREADCRUMB_TYPE"],[18,30,7,28],[18,33,7,31],[18,39,7,37],[19,2,9,0],[19,8,9,6,"defaultOptions"],[19,22,9,20],[19,25,9,23],[20,4,10,2,"attachReduxState"],[20,20,10,18],[20,22,10,20],[20,26,10,24],[21,4,11,2,"actionTransformer"],[21,21,11,19],[21,23,11,21,"action"],[21,29,11,27],[21,33,11,31,"action"],[21,39,11,37],[22,4,12,2,"stateTransformer"],[22,20,12,18],[22,22,12,20,"state"],[22,27,12,25],[22,31,12,29,"state"],[22,36,12,34],[22,40,12,38],[23,2,13,0],[23,3,13,1],[25,2,15,0],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,2,20,0],[30,11,20,9,"createReduxEnhancer"],[30,30,20,28,"createReduxEnhancer"],[30,31,20,29,"enhancerOptions"],[30,46,20,44],[30,48,20,46],[31,4,21,2],[32,4,22,2],[32,10,22,8,"options"],[32,17,22,15],[32,20,22,15,"Object"],[32,26,22,15],[32,27,22,15,"assign"],[32,33,22,15],[32,38,23,7,"defaultOptions"],[32,52,23,21],[32,54,24,7,"enhancerOptions"],[32,69,24,22],[32,70,25,3],[33,4,27,2],[33,11,27,10,"next"],[33,15,27,14],[33,19,28,4],[33,20,28,5,"reducer"],[33,27,28,12],[33,29,28,14,"initialState"],[33,41,28,26],[33,46,28,31],[34,6,29,6,"options"],[34,13,29,13],[34,14,29,14,"attachReduxState"],[34,30,29,30],[34,34,30,8],[34,38,30,8,"addGlobalEventProcessor"],[34,52,30,31],[34,53,30,31,"addGlobalEventProcessor"],[34,76,30,31],[34,78,30,32],[34,79,30,33,"event"],[34,84,30,38],[34,86,30,40,"hint"],[34,90,30,44],[34,95,30,49],[35,8,31,10],[35,12,31,14],[36,10,32,12],[37,10,33,12],[37,14,33,16,"event"],[37,19,33,21],[37,20,33,22,"type"],[37,24,33,26],[37,29,33,31,"undefined"],[37,38,33,40],[37,42,33,44,"event"],[37,47,33,49],[37,48,33,50,"contexts"],[37,56,33,58],[37,57,33,59,"state"],[37,62,33,64],[37,63,33,65,"state"],[37,68,33,70],[37,69,33,71,"type"],[37,73,33,75],[37,78,33,80],[37,85,33,87],[37,87,33,89],[38,12,34,14,"hint"],[38,16,34,18],[38,17,34,19,"attachments"],[38,28,34,30],[38,31,34,33],[38,32,35,16],[38,36,35,20,"hint"],[38,40,35,24],[38,41,35,25,"attachments"],[38,52,35,36],[38,56,35,40],[38,58,35,42],[38,59,35,43],[39,12,36,16],[40,12,37,16],[41,14,37,18,"filename"],[41,22,37,26],[41,24,37,28],[41,42,37,46],[42,14,37,48,"data"],[42,18,37,52],[42,20,37,54,"JSON"],[42,24,37,58],[42,25,37,59,"stringify"],[42,34,37,68],[42,35,37,69,"event"],[42,40,37,74],[42,41,37,75,"contexts"],[42,49,37,83],[42,50,37,84,"state"],[42,55,37,89],[42,56,37,90,"state"],[42,61,37,95],[42,62,37,96,"value"],[42,67,37,101],[43,12,37,103],[43,13,37,104],[43,14,38,15],[44,10,39,12],[45,8,40,10],[45,9,40,11],[45,10,40,12],[45,17,40,19,"_"],[45,18,40,20],[45,20,40,22],[46,10,41,12],[47,8,41,12],[48,8,43,10],[48,15,43,17,"event"],[48,20,43,22],[49,6,44,8],[49,7,44,9],[49,8,44,10],[50,6,46,6],[50,12,46,12,"sentryReducer"],[50,25,46,25],[50,28,46,28,"sentryReducer"],[50,29,46,29,"state"],[50,34,46,34],[50,36,46,36,"action"],[50,42,46,42],[50,47,46,47],[51,8,47,8],[51,14,47,14,"newState"],[51,22,47,22],[51,25,47,25,"reducer"],[51,32,47,32],[51,33,47,33,"state"],[51,38,47,38],[51,40,47,40,"action"],[51,46,47,46],[51,47,47,47],[52,8,49,8],[52,12,49,8,"configureScope"],[52,26,49,22],[52,27,49,22,"configureScope"],[52,41,49,22],[52,43,49,23,"scope"],[52,48,49,28],[52,52,49,32],[53,10,50,10],[54,10,51,10],[54,16,51,16,"transformedAction"],[54,33,51,33],[54,36,51,36,"options"],[54,43,51,43],[54,44,51,44,"actionTransformer"],[54,61,51,61],[54,62,51,62,"action"],[54,68,51,68],[54,69,51,69],[55,10,52,10],[55,14,52,14],[55,21,52,21,"transformedAction"],[55,38,52,38],[55,43,52,43],[55,54,52,54],[55,58,52,58,"transformedAction"],[55,75,52,75],[55,80,52,80],[55,84,52,84],[55,86,52,86],[56,12,53,12,"scope"],[56,17,53,17],[56,18,53,18,"addBreadcrumb"],[56,31,53,31],[56,32,53,32],[57,14,54,14,"category"],[57,22,54,22],[57,24,54,24,"ACTION_BREADCRUMB_CATEGORY"],[57,50,54,50],[58,14,55,14,"data"],[58,18,55,18],[58,20,55,20,"transformedAction"],[58,37,55,37],[59,14,56,14,"type"],[59,18,56,18],[59,20,56,20,"ACTION_BREADCRUMB_TYPE"],[60,12,57,12],[60,13,57,13],[60,14,57,14],[61,10,58,10],[63,10,60,10],[64,10,61,10],[64,16,61,16,"transformedState"],[64,32,61,32],[64,35,61,35,"options"],[64,42,61,42],[64,43,61,43,"stateTransformer"],[64,59,61,59],[64,60,61,60,"newState"],[64,68,61,68],[64,69,61,69],[65,10,62,10],[65,14,62,14],[65,21,62,21,"transformedState"],[65,37,62,37],[65,42,62,42],[65,53,62,53],[65,57,62,57,"transformedState"],[65,73,62,73],[65,78,62,78],[65,82,62,82],[65,84,62,84],[66,12,63,12],[66,18,63,18,"client"],[66,24,63,24],[66,27,63,27],[66,31,63,27,"getCurrentHub"],[66,45,63,40],[66,46,63,40,"getCurrentHub"],[66,59,63,40],[66,61,63,41],[66,62,63,42],[66,63,63,43,"getClient"],[66,72,63,52],[66,73,63,53],[66,74,63,54],[67,12,64,12],[67,18,64,18,"options"],[67,25,64,25],[67,28,64,28,"client"],[67,34,64,34],[67,38,64,38,"client"],[67,44,64,44],[67,45,64,45,"getOptions"],[67,55,64,55],[67,56,64,56],[67,57,64,57],[68,12,65,12],[68,18,65,18,"normalizationDepth"],[68,36,65,36],[68,39,65,40,"options"],[68,46,65,47],[68,50,65,51,"options"],[68,57,65,58],[68,58,65,59,"normalizeDepth"],[68,72,65,73],[68,76,65,78],[68,77,65,79],[68,78,65,80],[68,79,65,81],[70,12,67,12],[71,12,68,12],[71,18,68,18,"newStateContext"],[71,33,68,33],[71,36,68,36],[72,14,68,38,"state"],[72,19,68,43],[72,21,68,45],[73,16,68,47,"type"],[73,20,68,51],[73,22,68,53],[73,29,68,60],[74,16,68,62,"value"],[74,21,68,67],[74,23,68,69,"transformedState"],[75,14,68,86],[76,12,68,88],[76,13,68,89],[77,12,69,12],[77,16,69,12,"addNonEnumerableProperty"],[77,28,69,36],[77,29,69,36,"addNonEnumerableProperty"],[77,53,69,36],[77,55,70,14,"newStateContext"],[77,70,70,29],[77,72,71,14],[77,113,71,55],[77,115,72,14],[77,116,72,15],[78,12,72,18],[79,12,73,16,"normalizationDepth"],[79,30,73,34],[79,31,73,36],[80,12,74,12],[80,13,74,13],[81,12,76,12,"scope"],[81,17,76,17],[81,18,76,18,"setContext"],[81,28,76,28],[81,29,76,29],[81,36,76,36],[81,38,76,38,"newStateContext"],[81,53,76,53],[81,54,76,54],[82,10,77,10],[82,11,77,11],[82,17,77,17],[83,12,78,12,"scope"],[83,17,78,17],[83,18,78,18,"setContext"],[83,28,78,28],[83,29,78,29],[83,36,78,36],[83,38,78,38],[83,42,78,42],[83,43,78,43],[84,10,79,10],[86,10,81,10],[87,10,82,10],[87,16,82,16],[88,12,82,18,"configureScopeWithState"],[89,10,82,42],[89,11,82,43],[89,14,82,46,"options"],[89,21,82,53],[90,10,83,10],[90,14,83,14],[90,21,83,21,"configureScopeWithState"],[90,44,83,44],[90,49,83,49],[90,59,83,59],[90,61,83,61],[91,12,84,12,"configureScopeWithState"],[91,35,84,35],[91,36,84,36,"scope"],[91,41,84,41],[91,43,84,43,"newState"],[91,51,84,51],[91,52,84,52],[92,10,85,10],[93,8,86,8],[93,9,86,9],[93,10,86,10],[94,8,88,8],[94,15,88,15,"newState"],[94,23,88,23],[95,6,89,6],[95,7,89,7],[96,6,91,6],[96,13,91,13,"next"],[96,17,91,17],[96,18,91,18,"sentryReducer"],[96,31,91,31],[96,33,91,33,"initialState"],[96,45,91,45],[96,46,91,46],[97,4,92,4],[97,5,92,5],[98,2,93,0],[99,0,93,1],[99,3]],"functionMap":{"names":["<global>","defaultOptions.actionTransformer","defaultOptions.stateTransformer","createReduxEnhancer","<anonymous>","addGlobalEventProcessor$argument_0","sentryReducer","configureScope$argument_0"],"mappings":"AAA;qBCU,gBD;oBEC,sBF;AGQ;SCO;gCCG;SDc;4BEE;uBCG;SDqC;OFG;KDG;CHC"},"hasCjsExports":false},"type":"js/module"}]}