{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":180},"end":{"line":6,"column":69,"index":249}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"STORAGE_KEYS\", {\n    enumerable: true,\n    get: function () {\n      return STORAGE_KEYS;\n    }\n  });\n  exports.storageGet = storageGet;\n  exports.storageSet = storageSet;\n  exports.storageRemove = storageRemove;\n  exports.clearAuthStorage = clearAuthStorage;\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  // /app/frontend/lib/storage.ts\n  // Platform-safe storage utilities for web and native\n  // Uses localStorage on web, AsyncStorage on native\n\n  // Storage keys\n  const STORAGE_KEYS = {\n    AUTH_TOKEN: 'divine_heroes_auth_token',\n    USERNAME: 'divine_heroes_username'\n  };\n\n  /**\n   * Platform-safe storage get\n   * Returns null if key doesn't exist or on error\n   */\n  async function storageGet(key) {\n    try {\n      if (Platform.default.OS === 'web') {\n        // Web: use localStorage directly\n        if (typeof window !== 'undefined' && window.localStorage) {\n          const value = window.localStorage.getItem(key);\n          if (__DEV__) console.log(`[storage.get] web: ${key} = ${value ? '(exists)' : '(null)'}`);\n          return value;\n        }\n        return null;\n      } else {\n        // Native: use AsyncStorage\n        const value = await AsyncStorage.default.getItem(key);\n        if (__DEV__) console.log(`[storage.get] native: ${key} = ${value ? '(exists)' : '(null)'}`);\n        return value;\n      }\n    } catch (e) {\n      console.error(`[storage.get] Error reading ${key}:`, e);\n      return null;\n    }\n  }\n\n  /**\n   * Platform-safe storage set\n   * Returns true on success, false on error\n   */\n  async function storageSet(key, value) {\n    try {\n      if (Platform.default.OS === 'web') {\n        // Web: use localStorage directly\n        if (typeof window !== 'undefined' && window.localStorage) {\n          window.localStorage.setItem(key, value);\n          if (__DEV__) console.log(`[storage.set] web: ${key} = (saved)`);\n          return true;\n        }\n        console.warn('[storage.set] localStorage not available');\n        return false;\n      } else {\n        // Native: use AsyncStorage\n        await AsyncStorage.default.setItem(key, value);\n        if (__DEV__) console.log(`[storage.set] native: ${key} = (saved)`);\n        return true;\n      }\n    } catch (e) {\n      console.error(`[storage.set] Error saving ${key}:`, e);\n      return false;\n    }\n  }\n\n  /**\n   * Platform-safe storage remove\n   * Returns true on success, false on error\n   */\n  async function storageRemove(key) {\n    try {\n      if (Platform.default.OS === 'web') {\n        // Web: use localStorage directly\n        if (typeof window !== 'undefined' && window.localStorage) {\n          window.localStorage.removeItem(key);\n          if (__DEV__) console.log(`[storage.remove] web: ${key} = (removed)`);\n          return true;\n        }\n        return false;\n      } else {\n        // Native: use AsyncStorage\n        await AsyncStorage.default.removeItem(key);\n        if (__DEV__) console.log(`[storage.remove] native: ${key} = (removed)`);\n        return true;\n      }\n    } catch (e) {\n      console.error(`[storage.remove] Error removing ${key}:`, e);\n      return false;\n    }\n  }\n\n  /**\n   * Clear all auth-related storage keys\n   */\n  async function clearAuthStorage() {\n    await storageRemove(STORAGE_KEYS.AUTH_TOKEN);\n    await storageRemove(STORAGE_KEYS.USERNAME);\n    if (__DEV__) console.log('[storage] All auth storage cleared');\n  }\n});","lineCount":123,"map":[[12,2,9,0,"Object"],[12,8,9,0],[12,9,9,0,"defineProperty"],[12,23,9,0],[12,24,9,0,"exports"],[12,31,9,0],[13,4,9,0,"enumerable"],[13,14,9,0],[14,4,9,0,"get"],[14,7,9,0],[14,18,9,0,"get"],[14,19,9,0],[15,6,9,0],[15,13,9,0,"STORAGE_KEYS"],[15,25,9,0],[16,4,9,0],[17,2,9,0],[18,2,18,0,"exports"],[18,9,18,0],[18,10,18,0,"storageGet"],[18,20,18,0],[18,23,18,0,"storageGet"],[18,33,18,0],[19,2,44,0,"exports"],[19,9,44,0],[19,10,44,0,"storageSet"],[19,20,44,0],[19,23,44,0,"storageSet"],[19,33,44,0],[20,2,71,0,"exports"],[20,9,71,0],[20,10,71,0,"storageRemove"],[20,23,71,0],[20,26,71,0,"storageRemove"],[20,39,71,0],[21,2,96,0,"exports"],[21,9,96,0],[21,10,96,0,"clearAuthStorage"],[21,26,96,0],[21,29,96,0,"clearAuthStorage"],[21,45,96,0],[22,2,100,1],[22,6,100,1,"_reactNativeWebDistExportsPlatform"],[22,40,100,1],[22,43,100,1,"require"],[22,50,100,1],[22,51,100,1,"_dependencyMap"],[22,65,100,1],[23,2,100,1],[23,6,100,1,"Platform"],[23,14,100,1],[23,17,100,1,"_interopDefault"],[23,32,100,1],[23,33,100,1,"_reactNativeWebDistExportsPlatform"],[23,67,100,1],[24,2,6,0],[24,6,6,0,"_reactNativeAsyncStorageAsyncStorage"],[24,42,6,0],[24,45,6,0,"require"],[24,52,6,0],[24,53,6,0,"_dependencyMap"],[24,67,6,0],[25,2,6,0],[25,6,6,0,"AsyncStorage"],[25,18,6,0],[25,21,6,0,"_interopDefault"],[25,36,6,0],[25,37,6,0,"_reactNativeAsyncStorageAsyncStorage"],[25,73,6,0],[26,2,1,0],[27,2,2,0],[28,2,3,0],[30,2,8,0],[31,2,9,7],[31,8,9,13,"STORAGE_KEYS"],[31,20,9,25],[31,23,9,28],[32,4,10,2,"AUTH_TOKEN"],[32,14,10,12],[32,16,10,14],[32,42,10,40],[33,4,11,2,"USERNAME"],[33,12,11,10],[33,14,11,12],[34,2,12,0],[34,3,12,10],[36,2,14,0],[37,0,15,0],[38,0,16,0],[39,0,17,0],[40,2,18,7],[40,17,18,22,"storageGet"],[40,27,18,32,"storageGet"],[40,28,18,33,"key"],[40,31,18,44],[40,33,18,70],[41,4,19,2],[41,8,19,6],[42,6,20,4],[42,10,20,8,"Platform"],[42,18,20,16],[42,19,20,16,"default"],[42,26,20,16],[42,27,20,17,"OS"],[42,29,20,19],[42,34,20,24],[42,39,20,29],[42,41,20,31],[43,8,21,6],[44,8,22,6],[44,12,22,10],[44,19,22,17,"window"],[44,25,22,23],[44,30,22,28],[44,41,22,39],[44,45,22,43,"window"],[44,51,22,49],[44,52,22,50,"localStorage"],[44,64,22,62],[44,66,22,64],[45,10,23,8],[45,16,23,14,"value"],[45,21,23,19],[45,24,23,22,"window"],[45,30,23,28],[45,31,23,29,"localStorage"],[45,43,23,41],[45,44,23,42,"getItem"],[45,51,23,49],[45,52,23,50,"key"],[45,55,23,53],[45,56,23,54],[46,10,24,8],[46,14,24,12,"__DEV__"],[46,21,24,19],[46,23,24,21,"console"],[46,30,24,28],[46,31,24,29,"log"],[46,34,24,32],[46,35,24,33],[46,57,24,55,"key"],[46,60,24,58],[46,66,24,64,"value"],[46,71,24,69],[46,74,24,72],[46,84,24,82],[46,87,24,85],[46,95,24,93],[46,97,24,95],[46,98,24,96],[47,10,25,8],[47,17,25,15,"value"],[47,22,25,20],[48,8,26,6],[49,8,27,6],[49,15,27,13],[49,19,27,17],[50,6,28,4],[50,7,28,5],[50,13,28,11],[51,8,29,6],[52,8,30,6],[52,14,30,12,"value"],[52,19,30,17],[52,22,30,20],[52,28,30,26,"AsyncStorage"],[52,40,30,38],[52,41,30,38,"default"],[52,48,30,38],[52,49,30,39,"getItem"],[52,56,30,46],[52,57,30,47,"key"],[52,60,30,50],[52,61,30,51],[53,8,31,6],[53,12,31,10,"__DEV__"],[53,19,31,17],[53,21,31,19,"console"],[53,28,31,26],[53,29,31,27,"log"],[53,32,31,30],[53,33,31,31],[53,58,31,56,"key"],[53,61,31,59],[53,67,31,65,"value"],[53,72,31,70],[53,75,31,73],[53,85,31,83],[53,88,31,86],[53,96,31,94],[53,98,31,96],[53,99,31,97],[54,8,32,6],[54,15,32,13,"value"],[54,20,32,18],[55,6,33,4],[56,4,34,2],[56,5,34,3],[56,6,34,4],[56,13,34,11,"e"],[56,14,34,12],[56,16,34,14],[57,6,35,4,"console"],[57,13,35,11],[57,14,35,12,"error"],[57,19,35,17],[57,20,35,18],[57,51,35,49,"key"],[57,54,35,52],[57,57,35,55],[57,59,35,57,"e"],[57,60,35,58],[57,61,35,59],[58,6,36,4],[58,13,36,11],[58,17,36,15],[59,4,37,2],[60,2,38,0],[62,2,40,0],[63,0,41,0],[64,0,42,0],[65,0,43,0],[66,2,44,7],[66,17,44,22,"storageSet"],[66,27,44,32,"storageSet"],[66,28,44,33,"key"],[66,31,44,44],[66,33,44,46,"value"],[66,38,44,59],[66,40,44,79],[67,4,45,2],[67,8,45,6],[68,6,46,4],[68,10,46,8,"Platform"],[68,18,46,16],[68,19,46,16,"default"],[68,26,46,16],[68,27,46,17,"OS"],[68,29,46,19],[68,34,46,24],[68,39,46,29],[68,41,46,31],[69,8,47,6],[70,8,48,6],[70,12,48,10],[70,19,48,17,"window"],[70,25,48,23],[70,30,48,28],[70,41,48,39],[70,45,48,43,"window"],[70,51,48,49],[70,52,48,50,"localStorage"],[70,64,48,62],[70,66,48,64],[71,10,49,8,"window"],[71,16,49,14],[71,17,49,15,"localStorage"],[71,29,49,27],[71,30,49,28,"setItem"],[71,37,49,35],[71,38,49,36,"key"],[71,41,49,39],[71,43,49,41,"value"],[71,48,49,46],[71,49,49,47],[72,10,50,8],[72,14,50,12,"__DEV__"],[72,21,50,19],[72,23,50,21,"console"],[72,30,50,28],[72,31,50,29,"log"],[72,34,50,32],[72,35,50,33],[72,57,50,55,"key"],[72,60,50,58],[72,72,50,70],[72,73,50,71],[73,10,51,8],[73,17,51,15],[73,21,51,19],[74,8,52,6],[75,8,53,6,"console"],[75,15,53,13],[75,16,53,14,"warn"],[75,20,53,18],[75,21,53,19],[75,63,53,61],[75,64,53,62],[76,8,54,6],[76,15,54,13],[76,20,54,18],[77,6,55,4],[77,7,55,5],[77,13,55,11],[78,8,56,6],[79,8,57,6],[79,14,57,12,"AsyncStorage"],[79,26,57,24],[79,27,57,24,"default"],[79,34,57,24],[79,35,57,25,"setItem"],[79,42,57,32],[79,43,57,33,"key"],[79,46,57,36],[79,48,57,38,"value"],[79,53,57,43],[79,54,57,44],[80,8,58,6],[80,12,58,10,"__DEV__"],[80,19,58,17],[80,21,58,19,"console"],[80,28,58,26],[80,29,58,27,"log"],[80,32,58,30],[80,33,58,31],[80,58,58,56,"key"],[80,61,58,59],[80,73,58,71],[80,74,58,72],[81,8,59,6],[81,15,59,13],[81,19,59,17],[82,6,60,4],[83,4,61,2],[83,5,61,3],[83,6,61,4],[83,13,61,11,"e"],[83,14,61,12],[83,16,61,14],[84,6,62,4,"console"],[84,13,62,11],[84,14,62,12,"error"],[84,19,62,17],[84,20,62,18],[84,50,62,48,"key"],[84,53,62,51],[84,56,62,54],[84,58,62,56,"e"],[84,59,62,57],[84,60,62,58],[85,6,63,4],[85,13,63,11],[85,18,63,16],[86,4,64,2],[87,2,65,0],[89,2,67,0],[90,0,68,0],[91,0,69,0],[92,0,70,0],[93,2,71,7],[93,17,71,22,"storageRemove"],[93,30,71,35,"storageRemove"],[93,31,71,36,"key"],[93,34,71,47],[93,36,71,67],[94,4,72,2],[94,8,72,6],[95,6,73,4],[95,10,73,8,"Platform"],[95,18,73,16],[95,19,73,16,"default"],[95,26,73,16],[95,27,73,17,"OS"],[95,29,73,19],[95,34,73,24],[95,39,73,29],[95,41,73,31],[96,8,74,6],[97,8,75,6],[97,12,75,10],[97,19,75,17,"window"],[97,25,75,23],[97,30,75,28],[97,41,75,39],[97,45,75,43,"window"],[97,51,75,49],[97,52,75,50,"localStorage"],[97,64,75,62],[97,66,75,64],[98,10,76,8,"window"],[98,16,76,14],[98,17,76,15,"localStorage"],[98,29,76,27],[98,30,76,28,"removeItem"],[98,40,76,38],[98,41,76,39,"key"],[98,44,76,42],[98,45,76,43],[99,10,77,8],[99,14,77,12,"__DEV__"],[99,21,77,19],[99,23,77,21,"console"],[99,30,77,28],[99,31,77,29,"log"],[99,34,77,32],[99,35,77,33],[99,60,77,58,"key"],[99,63,77,61],[99,77,77,75],[99,78,77,76],[100,10,78,8],[100,17,78,15],[100,21,78,19],[101,8,79,6],[102,8,80,6],[102,15,80,13],[102,20,80,18],[103,6,81,4],[103,7,81,5],[103,13,81,11],[104,8,82,6],[105,8,83,6],[105,14,83,12,"AsyncStorage"],[105,26,83,24],[105,27,83,24,"default"],[105,34,83,24],[105,35,83,25,"removeItem"],[105,45,83,35],[105,46,83,36,"key"],[105,49,83,39],[105,50,83,40],[106,8,84,6],[106,12,84,10,"__DEV__"],[106,19,84,17],[106,21,84,19,"console"],[106,28,84,26],[106,29,84,27,"log"],[106,32,84,30],[106,33,84,31],[106,61,84,59,"key"],[106,64,84,62],[106,78,84,76],[106,79,84,77],[107,8,85,6],[107,15,85,13],[107,19,85,17],[108,6,86,4],[109,4,87,2],[109,5,87,3],[109,6,87,4],[109,13,87,11,"e"],[109,14,87,12],[109,16,87,14],[110,6,88,4,"console"],[110,13,88,11],[110,14,88,12,"error"],[110,19,88,17],[110,20,88,18],[110,55,88,53,"key"],[110,58,88,56],[110,61,88,59],[110,63,88,61,"e"],[110,64,88,62],[110,65,88,63],[111,6,89,4],[111,13,89,11],[111,18,89,16],[112,4,90,2],[113,2,91,0],[115,2,93,0],[116,0,94,0],[117,0,95,0],[118,2,96,7],[118,17,96,22,"clearAuthStorage"],[118,33,96,38,"clearAuthStorage"],[118,34,96,38],[118,36,96,56],[119,4,97,2],[119,10,97,8,"storageRemove"],[119,23,97,21],[119,24,97,22,"STORAGE_KEYS"],[119,36,97,34],[119,37,97,35,"AUTH_TOKEN"],[119,47,97,45],[119,48,97,46],[120,4,98,2],[120,10,98,8,"storageRemove"],[120,23,98,21],[120,24,98,22,"STORAGE_KEYS"],[120,36,98,34],[120,37,98,35,"USERNAME"],[120,45,98,43],[120,46,98,44],[121,4,99,2],[121,8,99,6,"__DEV__"],[121,15,99,13],[121,17,99,15,"console"],[121,24,99,22],[121,25,99,23,"log"],[121,28,99,26],[121,29,99,27],[121,65,99,63],[121,66,99,64],[122,2,100,0],[123,0,100,1],[123,3]],"functionMap":{"names":["<global>","storageGet","storageSet","storageRemove","clearAuthStorage"],"mappings":"AAA;OCiB;CDoB;OEM;CFqB;OGM;CHoB;OIK;CJI"},"hasCjsExports":false},"type":"js/module"}]}