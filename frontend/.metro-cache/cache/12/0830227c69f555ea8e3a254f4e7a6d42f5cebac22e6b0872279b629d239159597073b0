{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":13,"index":77},"end":{"line":3,"column":36,"index":100}}],"key":"CPmndeSLDuCg/s3oFguorTUVcN0=","exportNames":["*"],"imports":1}},{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":14,"index":116},"end":{"line":4,"column":38,"index":140}}],"key":"ud8OE6Lg8Q81+bS6ynZj2uyMPdA=","exportNames":["*"],"imports":1}},{"name":"./types.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":14,"index":156},"end":{"line":5,"column":35,"index":177}}],"key":"v1w+pnJrgvUP3JbmDiiF/Rw8c9Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var core = require(_dependencyMap[0], \"@sentry/core\");\n  var utils = require(_dependencyMap[1], \"@sentry/utils\");\n  var types = require(_dependencyMap[2], \"./types.js\");\n\n  /**\n   * Add a listener that cancels and finishes a transaction when the global\n   * document is hidden.\n   */\n  function registerBackgroundTabDetection() {\n    if (types.WINDOW && types.WINDOW.document) {\n      types.WINDOW.document.addEventListener('visibilitychange', () => {\n        var activeTransaction = core.getActiveTransaction();\n        if (types.WINDOW.document.hidden && activeTransaction) {\n          var statusType = 'cancelled';\n          (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && utils.logger.log(`[Tracing] Transaction: ${statusType} -> since tab moved to the background, op: ${activeTransaction.op}`);\n          // We should not set status if it is already set, this prevent important statuses like\n          // error or data loss from being overwritten on transaction.\n          if (!activeTransaction.status) {\n            activeTransaction.setStatus(statusType);\n          }\n          activeTransaction.setTag('visibilitychange', 'document.hidden');\n          activeTransaction.finish();\n        }\n      });\n    } else {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && utils.logger.warn('[Tracing] Could not set up background tab detection due to lack of global document');\n    }\n  }\n  exports.registerBackgroundTabDetection = registerBackgroundTabDetection;\n});","lineCount":34,"map":[[2,2,1,0,"Object"],[2,8,1,6],[2,9,1,7,"defineProperty"],[2,23,1,21],[2,24,1,22,"exports"],[2,31,1,29],[2,33,1,31],[2,45,1,43],[2,47,1,45],[3,4,1,47,"value"],[3,9,1,52],[3,11,1,54],[4,2,1,59],[4,3,1,60],[4,4,1,61],[5,2,3,0],[5,6,3,6,"core"],[5,10,3,10],[5,13,3,13,"require"],[5,20,3,20],[5,21,3,20,"_dependencyMap"],[5,35,3,20],[5,54,3,35],[5,55,3,36],[6,2,4,0],[6,6,4,6,"utils"],[6,11,4,11],[6,14,4,14,"require"],[6,21,4,21],[6,22,4,21,"_dependencyMap"],[6,36,4,21],[6,56,4,37],[6,57,4,38],[7,2,5,0],[7,6,5,6,"types"],[7,11,5,11],[7,14,5,14,"require"],[7,21,5,21],[7,22,5,21,"_dependencyMap"],[7,36,5,21],[7,53,5,34],[7,54,5,35],[9,2,7,0],[10,0,8,0],[11,0,9,0],[12,0,10,0],[13,2,11,0],[13,11,11,9,"registerBackgroundTabDetection"],[13,41,11,39,"registerBackgroundTabDetection"],[13,42,11,39],[13,44,11,42],[14,4,12,2],[14,8,12,6,"types"],[14,13,12,11],[14,14,12,12,"WINDOW"],[14,20,12,18],[14,24,12,22,"types"],[14,29,12,27],[14,30,12,28,"WINDOW"],[14,36,12,34],[14,37,12,35,"document"],[14,45,12,43],[14,47,12,45],[15,6,13,4,"types"],[15,11,13,9],[15,12,13,10,"WINDOW"],[15,18,13,16],[15,19,13,17,"document"],[15,27,13,25],[15,28,13,26,"addEventListener"],[15,44,13,42],[15,45,13,43],[15,63,13,61],[15,65,13,63],[15,71,13,69],[16,8,14,6],[16,12,14,12,"activeTransaction"],[16,29,14,29],[16,32,14,32,"core"],[16,36,14,36],[16,37,14,37,"getActiveTransaction"],[16,57,14,57],[16,58,14,58],[16,59,14,59],[17,8,15,6],[17,12,15,10,"types"],[17,17,15,15],[17,18,15,16,"WINDOW"],[17,24,15,22],[17,25,15,23,"document"],[17,33,15,31],[17,34,15,32,"hidden"],[17,40,15,38],[17,44,15,42,"activeTransaction"],[17,61,15,59],[17,63,15,61],[18,10,16,8],[18,14,16,14,"statusType"],[18,24,16,24],[18,27,16,27],[18,38,16,38],[19,10,18,8],[19,11,18,9],[19,18,18,16,"__SENTRY_DEBUG__"],[19,34,18,32],[19,39,18,37],[19,50,18,48],[19,54,18,52,"__SENTRY_DEBUG__"],[19,70,18,68],[19,75,19,10,"utils"],[19,80,19,15],[19,81,19,16,"logger"],[19,87,19,22],[19,88,19,23,"log"],[19,91,19,26],[19,92,20,12],[19,118,20,38,"statusType"],[19,128,20,48],[19,174,20,94,"activeTransaction"],[19,191,20,111],[19,192,20,112,"op"],[19,194,20,114],[19,196,21,10],[19,197,21,11],[20,10,22,8],[21,10,23,8],[22,10,24,8],[22,14,24,12],[22,15,24,13,"activeTransaction"],[22,32,24,30],[22,33,24,31,"status"],[22,39,24,37],[22,41,24,39],[23,12,25,10,"activeTransaction"],[23,29,25,27],[23,30,25,28,"setStatus"],[23,39,25,37],[23,40,25,38,"statusType"],[23,50,25,48],[23,51,25,49],[24,10,26,8],[25,10,27,8,"activeTransaction"],[25,27,27,25],[25,28,27,26,"setTag"],[25,34,27,32],[25,35,27,33],[25,53,27,51],[25,55,27,53],[25,72,27,70],[25,73,27,71],[26,10,28,8,"activeTransaction"],[26,27,28,25],[26,28,28,26,"finish"],[26,34,28,32],[26,35,28,33],[26,36,28,34],[27,8,29,6],[28,6,30,4],[28,7,30,5],[28,8,30,6],[29,4,31,2],[29,5,31,3],[29,11,31,9],[30,6,32,4],[30,7,32,5],[30,14,32,12,"__SENTRY_DEBUG__"],[30,30,32,28],[30,35,32,33],[30,46,32,44],[30,50,32,48,"__SENTRY_DEBUG__"],[30,66,32,64],[30,71,33,6,"utils"],[30,76,33,11],[30,77,33,12,"logger"],[30,83,33,18],[30,84,33,19,"warn"],[30,88,33,23],[30,89,33,24],[30,173,33,108],[30,174,33,109],[31,4,34,2],[32,2,35,0],[33,2,37,0,"exports"],[33,9,37,7],[33,10,37,8,"registerBackgroundTabDetection"],[33,40,37,38],[33,43,37,41,"registerBackgroundTabDetection"],[33,73,37,71],[34,0,37,72],[34,3]],"functionMap":{"names":["<global>","registerBackgroundTabDetection","types.WINDOW.document.addEventListener$argument_1"],"mappings":"AAA;ACU;+DCE;KDiB;CDK"},"hasCjsExports":true},"type":"js/module"}]}