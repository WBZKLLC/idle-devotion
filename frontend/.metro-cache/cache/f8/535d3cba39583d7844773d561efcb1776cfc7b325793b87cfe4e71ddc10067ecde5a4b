{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _classCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\").default;\n  var _createClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\").default;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  /** Add node transaction to the event */\n  var Transaction = /*#__PURE__*/function () {\n    \"use strict\";\n\n    /**\n     * @inheritDoc\n     */\n\n    function Transaction() {\n      _classCallCheck(this, Transaction);\n      this.name = Transaction.id;\n    }\n\n    /**\n     * @inheritDoc\n     */\n    return _createClass(Transaction, [{\n      key: \"setupOnce\",\n      value: function setupOnce(_addGlobaleventProcessor, _getCurrentHub) {\n        // noop\n      }\n\n      /** @inheritDoc */\n    }, {\n      key: \"processEvent\",\n      value: function processEvent(event) {\n        return this.process(event);\n      }\n\n      /**\n       * TODO (v8): Make this private/internal\n       */\n    }, {\n      key: \"process\",\n      value: function process(event) {\n        var frames = _getFramesFromEvent(event);\n\n        // use for loop so we don't have to reverse whole frames array\n        for (var i = frames.length - 1; i >= 0; i--) {\n          var frame = frames[i];\n          if (frame.in_app === true) {\n            event.transaction = _getTransaction(frame);\n            break;\n          }\n        }\n        return event;\n      }\n    }], [{\n      key: \"__initStatic\",\n      value:\n      /**\n       * @inheritDoc\n       */\n      function __initStatic() {\n        this.id = 'Transaction';\n      }\n    }]);\n  }();\n  Transaction.__initStatic();\n  function _getFramesFromEvent(event) {\n    var exception = event.exception && event.exception.values && event.exception.values[0];\n    return exception && exception.stacktrace && exception.stacktrace.frames || [];\n  }\n  function _getTransaction(frame) {\n    return frame.module || frame.function ? `${frame.module || '?'}/${frame.function || '?'}` : '<unknown>';\n  }\n  exports.Transaction = Transaction;\n});","lineCount":75,"map":[[4,2,1,0,"Object"],[4,8,1,6],[4,9,1,7,"defineProperty"],[4,23,1,21],[4,24,1,22,"exports"],[4,31,1,29],[4,33,1,31],[4,45,1,43],[4,47,1,45],[5,4,1,47,"value"],[5,9,1,52],[5,11,1,54],[6,2,1,59],[6,3,1,60],[6,4,1,61],[8,2,3,0],[9,2,3,0],[9,6,4,6,"Transaction"],[9,17,4,17],[10,4,4,17],[12,4,10,2],[13,0,11,0],[14,0,12,0],[16,4,14,3],[16,13,14,3,"Transaction"],[16,25,14,3],[16,27,14,17],[17,6,14,17,"_classCallCheck"],[17,21,14,17],[17,28,14,17,"Transaction"],[17,39,14,17],[18,6,15,4],[18,10,15,8],[18,11,15,9,"name"],[18,15,15,13],[18,18,15,16,"Transaction"],[18,29,15,27],[18,30,15,28,"id"],[18,32,15,30],[19,4,16,2],[21,4,18,2],[22,0,19,0],[23,0,20,0],[24,4,18,2],[24,11,18,2,"_createClass"],[24,23,18,2],[24,24,18,2,"Transaction"],[24,35,18,2],[25,6,18,2,"key"],[25,9,18,2],[26,6,18,2,"value"],[26,11,18,2],[26,13,21,3],[26,22,21,3,"setupOnce"],[26,31,21,12,"setupOnce"],[26,32,21,13,"_addGlobaleventProcessor"],[26,56,21,37],[26,58,21,39,"_getCurrentHub"],[26,72,21,53],[26,74,21,55],[27,8,22,4],[28,6,22,4],[30,6,25,2],[31,4,25,2],[32,6,25,2,"key"],[32,9,25,2],[33,6,25,2,"value"],[33,11,25,2],[33,13,26,3],[33,22,26,3,"processEvent"],[33,34,26,15,"processEvent"],[33,35,26,16,"event"],[33,40,26,21],[33,42,26,23],[34,8,27,4],[34,15,27,11],[34,19,27,15],[34,20,27,16,"process"],[34,27,27,23],[34,28,27,24,"event"],[34,33,27,29],[34,34,27,30],[35,6,28,2],[37,6,30,2],[38,0,31,0],[39,0,32,0],[40,4,30,2],[41,6,30,2,"key"],[41,9,30,2],[42,6,30,2,"value"],[42,11,30,2],[42,13,33,3],[42,22,33,3,"process"],[42,29,33,10,"process"],[42,30,33,11,"event"],[42,35,33,16],[42,37,33,18],[43,8,34,4],[43,12,34,10,"frames"],[43,18,34,16],[43,21,34,19,"_getFramesFromEvent"],[43,40,34,38],[43,41,34,39,"event"],[43,46,34,44],[43,47,34,45],[45,8,36,4],[46,8,37,4],[46,13,37,9],[46,17,37,13,"i"],[46,18,37,14],[46,21,37,17,"frames"],[46,27,37,23],[46,28,37,24,"length"],[46,34,37,30],[46,37,37,33],[46,38,37,34],[46,40,37,36,"i"],[46,41,37,37],[46,45,37,41],[46,46,37,42],[46,48,37,44,"i"],[46,49,37,45],[46,51,37,47],[46,53,37,49],[47,10,38,6],[47,14,38,12,"frame"],[47,19,38,17],[47,22,38,20,"frames"],[47,28,38,26],[47,29,38,27,"i"],[47,30,38,28],[47,31,38,29],[48,10,40,6],[48,14,40,10,"frame"],[48,19,40,15],[48,20,40,16,"in_app"],[48,26,40,22],[48,31,40,27],[48,35,40,31],[48,37,40,33],[49,12,41,8,"event"],[49,17,41,13],[49,18,41,14,"transaction"],[49,29,41,25],[49,32,41,28,"_getTransaction"],[49,47,41,43],[49,48,41,44,"frame"],[49,53,41,49],[49,54,41,50],[50,12,42,8],[51,10,43,6],[52,8,44,4],[53,8,46,4],[53,15,46,11,"event"],[53,20,46,16],[54,6,47,2],[55,4,47,3],[56,6,47,3,"key"],[56,9,47,3],[57,6,47,3,"value"],[57,11,47,3],[58,6,5,2],[59,0,6,0],[60,0,7,0],[61,6,8,3],[61,15,8,10,"__initStatic"],[61,27,8,22,"__initStatic"],[61,28,8,22],[61,30,8,25],[62,8,8,26],[62,12,8,30],[62,13,8,31,"id"],[62,15,8,33],[62,18,8,36],[62,31,8,49],[63,6,8,50],[64,4,8,51],[65,2,8,51],[66,2,48,2,"Transaction"],[66,13,48,13],[66,14,48,14,"__initStatic"],[66,26,48,26],[66,27,48,27],[66,28,48,28],[67,2,50,0],[67,11,50,9,"_getFramesFromEvent"],[67,30,50,28,"_getFramesFromEvent"],[67,31,50,29,"event"],[67,36,50,34],[67,38,50,36],[68,4,51,2],[68,8,51,8,"exception"],[68,17,51,17],[68,20,51,20,"event"],[68,25,51,25],[68,26,51,26,"exception"],[68,35,51,35],[68,39,51,39,"event"],[68,44,51,44],[68,45,51,45,"exception"],[68,54,51,54],[68,55,51,55,"values"],[68,61,51,61],[68,65,51,65,"event"],[68,70,51,70],[68,71,51,71,"exception"],[68,80,51,80],[68,81,51,81,"values"],[68,87,51,87],[68,88,51,88],[68,89,51,89],[68,90,51,90],[69,4,52,2],[69,11,52,10,"exception"],[69,20,52,19],[69,24,52,23,"exception"],[69,33,52,32],[69,34,52,33,"stacktrace"],[69,44,52,43],[69,48,52,47,"exception"],[69,57,52,56],[69,58,52,57,"stacktrace"],[69,68,52,67],[69,69,52,68,"frames"],[69,75,52,74],[69,79,52,79],[69,81,52,81],[70,2,53,0],[71,2,55,0],[71,11,55,9,"_getTransaction"],[71,26,55,24,"_getTransaction"],[71,27,55,25,"frame"],[71,32,55,30],[71,34,55,32],[72,4,56,2],[72,11,56,9,"frame"],[72,16,56,14],[72,17,56,15,"module"],[72,23,56,21],[72,27,56,25,"frame"],[72,32,56,30],[72,33,56,31,"function"],[72,41,56,39],[72,44,56,42],[72,47,56,45,"frame"],[72,52,56,50],[72,53,56,51,"module"],[72,59,56,57],[72,63,56,61],[72,66,56,64],[72,70,56,68,"frame"],[72,75,56,73],[72,76,56,74,"function"],[72,84,56,82],[72,88,56,86],[72,91,56,89],[72,93,56,91],[72,96,56,94],[72,107,56,105],[73,2,57,0],[74,2,59,0,"exports"],[74,9,59,7],[74,10,59,8,"Transaction"],[74,21,59,19],[74,24,59,22,"Transaction"],[74,35,59,33],[75,0,59,34],[75,3]],"functionMap":{"names":["<global>","Transaction","Transaction.__initStatic","Transaction#constructor","Transaction#setupOnce","Transaction#processEvent","Transaction#process","_getFramesFromEvent","_getTransaction"],"mappings":"AAA;ACG;GCI,gDD;GEM;GFE;GGK;GHE;GIG;GJE;GKK;GLc;CDC;AOE;CPG;AQE;CRE"},"hasCjsExports":true},"type":"js/module"}]}