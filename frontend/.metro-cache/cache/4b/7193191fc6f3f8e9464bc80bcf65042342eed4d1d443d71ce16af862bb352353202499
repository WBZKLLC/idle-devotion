{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"../api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":162},"end":{"line":8,"column":29,"index":191}}],"key":"41PldGLahI9T80Mn09nNHYqZZYw=","exportNames":["*"],"imports":1}},{"name":"../telemetry/events","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":192},"end":{"line":9,"column":52,"index":244}}],"key":"k7LZwhoWMWET/ud396YGvDlODrM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getPvpSeason = getPvpSeason;\n  exports.getPvpRewardsPreview = getPvpRewardsPreview;\n  exports.claimPvpDaily = claimPvpDaily;\n  exports.claimPvpSeason = claimPvpSeason;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _api = require(_dependencyMap[1], \"../api\");\n  var _telemetryEvents = require(_dependencyMap[2], \"../telemetry/events\");\n  /**\n   * Phase 4.2: PvP Season API Wrappers\n   * \n   * All calls use centralized api instance from lib/api.ts.\n   * Returns canonical receipts for claim operations.\n   */\n  // ══════════════════════════════════════════════════════════════════════════════\n  // Types\n  // ══════════════════════════════════════════════════════════════════════════════\n  // ══════════════════════════════════════════════════════════════════════════════\n  // API Functions\n  // ══════════════════════════════════════════════════════════════════════════════\n  /**\n   * Get current PvP season info.\n   */\n  function getPvpSeason() {\n    return _getPvpSeason.apply(this, arguments);\n  }\n  /**\n   * Get preview of all rank band rewards.\n   */\n  function _getPvpSeason() {\n    _getPvpSeason = (0, _asyncToGenerator.default)(function* () {\n      var res = yield _api.api.get('/pvp/season');\n      return res.data;\n    });\n    return _getPvpSeason.apply(this, arguments);\n  }\n  function getPvpRewardsPreview() {\n    return _getPvpRewardsPreview.apply(this, arguments);\n  }\n  /**\n   * Claim daily PvP participation reward.\n   * \n   * @param sourceId - Idempotency key (use makeSourceId('pvp_daily'))\n   * @returns Canonical receipt for ReceiptViewer\n   */\n  function _getPvpRewardsPreview() {\n    _getPvpRewardsPreview = (0, _asyncToGenerator.default)(function* () {\n      var res = yield _api.api.get('/pvp/rewards/preview');\n      return res.data;\n    });\n    return _getPvpRewardsPreview.apply(this, arguments);\n  }\n  function claimPvpDaily(_x) {\n    return _claimPvpDaily.apply(this, arguments);\n  }\n  /**\n   * Claim end-of-season PvP reward.\n   * \n   * @param sourceId - Idempotency key (use makeSourceId('pvp_season'))\n   * @param seasonId - Season ID to claim for\n   * @returns Canonical receipt for ReceiptViewer\n   */\n  function _claimPvpDaily() {\n    _claimPvpDaily = (0, _asyncToGenerator.default)(function* (sourceId) {\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_DAILY_CLAIM_SUBMITTED, {\n        sourceId\n      });\n      try {\n        var res = yield _api.api.post('/pvp/daily/claim', {\n          source_id: sourceId\n        });\n        var data = res.data;\n        if (data.error === 'already_claimed') {\n          (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_DAILY_CLAIM_ALREADY_CLAIMED, {\n            sourceId\n          });\n        } else if (data.success) {\n          (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_DAILY_CLAIM_SUCCESS, {\n            sourceId,\n            rank_band: data.rank_band\n          });\n        }\n        return data;\n      } catch (error) {\n        (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_DAILY_CLAIM_ERROR, {\n          sourceId,\n          error: error.message\n        });\n        throw error;\n      }\n    });\n    return _claimPvpDaily.apply(this, arguments);\n  }\n  function claimPvpSeason(_x2, _x3) {\n    return _claimPvpSeason.apply(this, arguments);\n  }\n  function _claimPvpSeason() {\n    _claimPvpSeason = (0, _asyncToGenerator.default)(function* (sourceId, seasonId) {\n      (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_SEASON_CLAIM_SUBMITTED, {\n        sourceId,\n        seasonId\n      });\n      try {\n        var res = yield _api.api.post('/pvp/season/claim', {\n          source_id: sourceId,\n          season_id: seasonId\n        });\n        var data = res.data;\n        if (data.error === 'already_claimed') {\n          (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_SEASON_CLAIM_ALREADY_CLAIMED, {\n            sourceId\n          });\n        } else if (data.success) {\n          (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_SEASON_CLAIM_SUCCESS, {\n            sourceId,\n            rank_band: data.rank_band\n          });\n        }\n        return data;\n      } catch (error) {\n        (0, _telemetryEvents.track)(_telemetryEvents.Events.PVP_SEASON_CLAIM_ERROR, {\n          sourceId,\n          error: error.message\n        });\n        throw error;\n      }\n    });\n    return _claimPvpSeason.apply(this, arguments);\n  }\n});","lineCount":141,"map":[[12,2,59,0,"exports"],[12,9,59,0],[12,10,59,0,"getPvpSeason"],[12,22,59,0],[12,25,59,0,"getPvpSeason"],[12,37,59,0],[13,2,67,0,"exports"],[13,9,67,0],[13,10,67,0,"getPvpRewardsPreview"],[13,30,67,0],[13,33,67,0,"getPvpRewardsPreview"],[13,53,67,0],[14,2,78,0,"exports"],[14,9,78,0],[14,10,78,0,"claimPvpDaily"],[14,23,78,0],[14,26,78,0,"claimPvpDaily"],[14,39,78,0],[15,2,105,0,"exports"],[15,9,105,0],[15,10,105,0,"claimPvpSeason"],[15,24,105,0],[15,27,105,0,"claimPvpSeason"],[15,41,105,0],[16,2,126,1],[16,6,126,1,"_babelRuntimeHelpersAsyncToGenerator"],[16,42,126,1],[16,45,126,1,"require"],[16,52,126,1],[16,53,126,1,"_dependencyMap"],[16,67,126,1],[17,2,126,1],[17,6,126,1,"_asyncToGenerator"],[17,23,126,1],[17,26,126,1,"_interopDefault"],[17,41,126,1],[17,42,126,1,"_babelRuntimeHelpersAsyncToGenerator"],[17,78,126,1],[18,2,8,0],[18,6,8,0,"_api"],[18,10,8,0],[18,13,8,0,"require"],[18,20,8,0],[18,21,8,0,"_dependencyMap"],[18,35,8,0],[19,2,9,0],[19,6,9,0,"_telemetryEvents"],[19,22,9,0],[19,25,9,0,"require"],[19,32,9,0],[19,33,9,0,"_dependencyMap"],[19,47,9,0],[20,2,1,0],[21,0,2,0],[22,0,3,0],[23,0,4,0],[24,0,5,0],[25,0,6,0],[26,2,11,0],[27,2,12,0],[28,2,13,0],[29,2,52,0],[30,2,53,0],[31,2,54,0],[32,2,56,0],[33,0,57,0],[34,0,58,0],[35,2,56,0],[35,11,59,22,"getPvpSeason"],[35,23,59,34,"getPvpSeason"],[35,24,59,34],[36,4,59,34],[36,11,59,34,"_getPvpSeason"],[36,24,59,34],[36,25,59,34,"apply"],[36,30,59,34],[36,37,59,34,"arguments"],[36,46,59,34],[37,2,59,34],[38,2,64,0],[39,0,65,0],[40,0,66,0],[41,2,64,0],[41,11,64,0,"_getPvpSeason"],[41,25,64,0],[42,4,64,0,"_getPvpSeason"],[42,17,64,0],[42,24,64,0,"_asyncToGenerator"],[42,41,64,0],[42,42,64,0,"default"],[42,49,64,0],[42,51,59,7],[42,64,59,65],[43,6,60,2],[43,10,60,8,"res"],[43,13,60,11],[43,22,60,20,"api"],[43,26,60,23],[43,27,60,23,"api"],[43,30,60,23],[43,31,60,24,"get"],[43,34,60,27],[43,35,60,28],[43,48,60,41],[43,49,60,42],[44,6,61,2],[44,13,61,9,"res"],[44,16,61,12],[44,17,61,13,"data"],[44,21,61,17],[45,4,62,0],[45,5,62,1],[46,4,62,1],[46,11,62,1,"_getPvpSeason"],[46,24,62,1],[46,25,62,1,"apply"],[46,30,62,1],[46,37,62,1,"arguments"],[46,46,62,1],[47,2,62,1],[48,2,62,1],[48,11,67,22,"getPvpRewardsPreview"],[48,31,67,42,"getPvpRewardsPreview"],[48,32,67,42],[49,4,67,42],[49,11,67,42,"_getPvpRewardsPreview"],[49,32,67,42],[49,33,67,42,"apply"],[49,38,67,42],[49,45,67,42,"arguments"],[49,54,67,42],[50,2,67,42],[51,2,72,0],[52,0,73,0],[53,0,74,0],[54,0,75,0],[55,0,76,0],[56,0,77,0],[57,2,72,0],[57,11,72,0,"_getPvpRewardsPreview"],[57,33,72,0],[58,4,72,0,"_getPvpRewardsPreview"],[58,25,72,0],[58,32,72,0,"_asyncToGenerator"],[58,49,72,0],[58,50,72,0,"default"],[58,57,72,0],[58,59,67,7],[58,72,67,81],[59,6,68,2],[59,10,68,8,"res"],[59,13,68,11],[59,22,68,20,"api"],[59,26,68,23],[59,27,68,23,"api"],[59,30,68,23],[59,31,68,24,"get"],[59,34,68,27],[59,35,68,28],[59,57,68,50],[59,58,68,51],[60,6,69,2],[60,13,69,9,"res"],[60,16,69,12],[60,17,69,13,"data"],[60,21,69,17],[61,4,70,0],[61,5,70,1],[62,4,70,1],[62,11,70,1,"_getPvpRewardsPreview"],[62,32,70,1],[62,33,70,1,"apply"],[62,38,70,1],[62,45,70,1,"arguments"],[62,54,70,1],[63,2,70,1],[64,2,70,1],[64,11,78,22,"claimPvpDaily"],[64,24,78,35,"claimPvpDaily"],[64,25,78,35,"_x"],[64,27,78,35],[65,4,78,35],[65,11,78,35,"_claimPvpDaily"],[65,25,78,35],[65,26,78,35,"apply"],[65,31,78,35],[65,38,78,35,"arguments"],[65,47,78,35],[66,2,78,35],[67,2,98,0],[68,0,99,0],[69,0,100,0],[70,0,101,0],[71,0,102,0],[72,0,103,0],[73,0,104,0],[74,2,98,0],[74,11,98,0,"_claimPvpDaily"],[74,26,98,0],[75,4,98,0,"_claimPvpDaily"],[75,18,98,0],[75,25,98,0,"_asyncToGenerator"],[75,42,98,0],[75,43,98,0,"default"],[75,50,98,0],[75,52,78,7],[75,63,78,36,"sourceId"],[75,71,78,52],[75,73,78,80],[76,6,79,2],[76,10,79,2,"track"],[76,26,79,7],[76,27,79,7,"track"],[76,32,79,7],[76,34,79,8,"Events"],[76,50,79,14],[76,51,79,14,"Events"],[76,57,79,14],[76,58,79,15,"PVP_DAILY_CLAIM_SUBMITTED"],[76,83,79,40],[76,85,79,42],[77,8,79,44,"sourceId"],[78,6,79,53],[78,7,79,54],[78,8,79,55],[79,6,81,2],[79,10,81,6],[80,8,82,4],[80,12,82,10,"res"],[80,15,82,13],[80,24,82,22,"api"],[80,28,82,25],[80,29,82,25,"api"],[80,32,82,25],[80,33,82,26,"post"],[80,37,82,30],[80,38,82,31],[80,56,82,49],[80,58,82,51],[81,10,82,53,"source_id"],[81,19,82,62],[81,21,82,64,"sourceId"],[82,8,82,73],[82,9,82,74],[82,10,82,75],[83,8,83,4],[83,12,83,10,"data"],[83,16,83,14],[83,19,83,17,"res"],[83,22,83,20],[83,23,83,21,"data"],[83,27,83,44],[84,8,85,4],[84,12,85,8,"data"],[84,16,85,12],[84,17,85,13,"error"],[84,22,85,18],[84,27,85,23],[84,44,85,40],[84,46,85,42],[85,10,86,6],[85,14,86,6,"track"],[85,30,86,11],[85,31,86,11,"track"],[85,36,86,11],[85,38,86,12,"Events"],[85,54,86,18],[85,55,86,18,"Events"],[85,61,86,18],[85,62,86,19,"PVP_DAILY_CLAIM_ALREADY_CLAIMED"],[85,93,86,50],[85,95,86,52],[86,12,86,54,"sourceId"],[87,10,86,63],[87,11,86,64],[87,12,86,65],[88,8,87,4],[88,9,87,5],[88,15,87,11],[88,19,87,15,"data"],[88,23,87,19],[88,24,87,20,"success"],[88,31,87,27],[88,33,87,29],[89,10,88,6],[89,14,88,6,"track"],[89,30,88,11],[89,31,88,11,"track"],[89,36,88,11],[89,38,88,12,"Events"],[89,54,88,18],[89,55,88,18,"Events"],[89,61,88,18],[89,62,88,19,"PVP_DAILY_CLAIM_SUCCESS"],[89,85,88,42],[89,87,88,44],[90,12,88,46,"sourceId"],[90,20,88,54],[91,12,88,56,"rank_band"],[91,21,88,65],[91,23,88,67,"data"],[91,27,88,71],[91,28,88,72,"rank_band"],[92,10,88,82],[92,11,88,83],[92,12,88,84],[93,8,89,4],[94,8,91,4],[94,15,91,11,"data"],[94,19,91,15],[95,6,92,2],[95,7,92,3],[95,8,92,4],[95,15,92,11,"error"],[95,20,92,21],[95,22,92,23],[96,8,93,4],[96,12,93,4,"track"],[96,28,93,9],[96,29,93,9,"track"],[96,34,93,9],[96,36,93,10,"Events"],[96,52,93,16],[96,53,93,16,"Events"],[96,59,93,16],[96,60,93,17,"PVP_DAILY_CLAIM_ERROR"],[96,81,93,38],[96,83,93,40],[97,10,93,42,"sourceId"],[97,18,93,50],[98,10,93,52,"error"],[98,15,93,57],[98,17,93,59,"error"],[98,22,93,64],[98,23,93,65,"message"],[99,8,93,73],[99,9,93,74],[99,10,93,75],[100,8,94,4],[100,14,94,10,"error"],[100,19,94,15],[101,6,95,2],[102,4,96,0],[102,5,96,1],[103,4,96,1],[103,11,96,1,"_claimPvpDaily"],[103,25,96,1],[103,26,96,1,"apply"],[103,31,96,1],[103,38,96,1,"arguments"],[103,47,96,1],[104,2,96,1],[105,2,96,1],[105,11,105,22,"claimPvpSeason"],[105,25,105,36,"claimPvpSeason"],[105,26,105,36,"_x2"],[105,29,105,36],[105,31,105,36,"_x3"],[105,34,105,36],[106,4,105,36],[106,11,105,36,"_claimPvpSeason"],[106,26,105,36],[106,27,105,36,"apply"],[106,32,105,36],[106,39,105,36,"arguments"],[106,48,105,36],[107,2,105,36],[108,2,105,36],[108,11,105,36,"_claimPvpSeason"],[108,27,105,36],[109,4,105,36,"_claimPvpSeason"],[109,19,105,36],[109,26,105,36,"_asyncToGenerator"],[109,43,105,36],[109,44,105,36,"default"],[109,51,105,36],[109,53,105,7],[109,64,105,37,"sourceId"],[109,72,105,53],[109,74,105,55,"seasonId"],[109,82,105,72],[109,84,105,100],[110,6,106,2],[110,10,106,2,"track"],[110,26,106,7],[110,27,106,7,"track"],[110,32,106,7],[110,34,106,8,"Events"],[110,50,106,14],[110,51,106,14,"Events"],[110,57,106,14],[110,58,106,15,"PVP_SEASON_CLAIM_SUBMITTED"],[110,84,106,41],[110,86,106,43],[111,8,106,45,"sourceId"],[111,16,106,53],[112,8,106,55,"seasonId"],[113,6,106,64],[113,7,106,65],[113,8,106,66],[114,6,108,2],[114,10,108,6],[115,8,109,4],[115,12,109,10,"res"],[115,15,109,13],[115,24,109,22,"api"],[115,28,109,25],[115,29,109,25,"api"],[115,32,109,25],[115,33,109,26,"post"],[115,37,109,30],[115,38,109,31],[115,57,109,50],[115,59,109,52],[116,10,110,6,"source_id"],[116,19,110,15],[116,21,110,17,"sourceId"],[116,29,110,25],[117,10,111,6,"season_id"],[117,19,111,15],[117,21,111,17,"seasonId"],[118,8,112,4],[118,9,112,5],[118,10,112,6],[119,8,113,4],[119,12,113,10,"data"],[119,16,113,14],[119,19,113,17,"res"],[119,22,113,20],[119,23,113,21,"data"],[119,27,113,44],[120,8,115,4],[120,12,115,8,"data"],[120,16,115,12],[120,17,115,13,"error"],[120,22,115,18],[120,27,115,23],[120,44,115,40],[120,46,115,42],[121,10,116,6],[121,14,116,6,"track"],[121,30,116,11],[121,31,116,11,"track"],[121,36,116,11],[121,38,116,12,"Events"],[121,54,116,18],[121,55,116,18,"Events"],[121,61,116,18],[121,62,116,19,"PVP_SEASON_CLAIM_ALREADY_CLAIMED"],[121,94,116,51],[121,96,116,53],[122,12,116,55,"sourceId"],[123,10,116,64],[123,11,116,65],[123,12,116,66],[124,8,117,4],[124,9,117,5],[124,15,117,11],[124,19,117,15,"data"],[124,23,117,19],[124,24,117,20,"success"],[124,31,117,27],[124,33,117,29],[125,10,118,6],[125,14,118,6,"track"],[125,30,118,11],[125,31,118,11,"track"],[125,36,118,11],[125,38,118,12,"Events"],[125,54,118,18],[125,55,118,18,"Events"],[125,61,118,18],[125,62,118,19,"PVP_SEASON_CLAIM_SUCCESS"],[125,86,118,43],[125,88,118,45],[126,12,118,47,"sourceId"],[126,20,118,55],[127,12,118,57,"rank_band"],[127,21,118,66],[127,23,118,68,"data"],[127,27,118,72],[127,28,118,73,"rank_band"],[128,10,118,83],[128,11,118,84],[128,12,118,85],[129,8,119,4],[130,8,121,4],[130,15,121,11,"data"],[130,19,121,15],[131,6,122,2],[131,7,122,3],[131,8,122,4],[131,15,122,11,"error"],[131,20,122,21],[131,22,122,23],[132,8,123,4],[132,12,123,4,"track"],[132,28,123,9],[132,29,123,9,"track"],[132,34,123,9],[132,36,123,10,"Events"],[132,52,123,16],[132,53,123,16,"Events"],[132,59,123,16],[132,60,123,17,"PVP_SEASON_CLAIM_ERROR"],[132,82,123,39],[132,84,123,41],[133,10,123,43,"sourceId"],[133,18,123,51],[134,10,123,53,"error"],[134,15,123,58],[134,17,123,60,"error"],[134,22,123,65],[134,23,123,66,"message"],[135,8,123,74],[135,9,123,75],[135,10,123,76],[136,8,124,4],[136,14,124,10,"error"],[136,19,124,15],[137,6,125,2],[138,4,126,0],[138,5,126,1],[139,4,126,1],[139,11,126,1,"_claimPvpSeason"],[139,26,126,1],[139,27,126,1,"apply"],[139,32,126,1],[139,39,126,1,"arguments"],[139,48,126,1],[140,2,126,1],[141,0,126,1],[141,3]],"functionMap":{"names":["<global>","getPvpSeason","getPvpRewardsPreview","claimPvpDaily","claimPvpSeason"],"mappings":"AAA;OC0D;CDG;OEK;CFG;OGQ;CHkB;OIS;CJqB"},"hasCjsExports":false},"type":"js/module"}]}