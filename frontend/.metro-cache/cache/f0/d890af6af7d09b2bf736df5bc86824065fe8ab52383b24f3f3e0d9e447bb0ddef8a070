{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":327},"end":{"line":11,"column":33,"index":360}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../lib/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":361},"end":{"line":12,"column":71,"index":432}}],"key":"cGGbCGri3M695PzY+v7ylQ+Rxt0=","exportNames":["*"],"imports":1}},{"name":"../lib/entitlements/types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":433},"end":{"line":21,"column":35,"index":669}}],"key":"W08TkULB6K5ayFSZK0DQ51a7f14=","exportNames":["*"],"imports":1}},{"name":"../lib/entitlements/legacy","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":670},"end":{"line":26,"column":36,"index":779}}],"key":"+rKOnoh7xdxUkJQypQ3SMN7jDOc=","exportNames":["*"],"imports":1}},{"name":"../lib/api","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":38,"column":22,"index":1270},"end":{"line":38,"column":42,"index":1290}}],"key":"qv6pIAfHV5HK/E8UlfJgciwW1c8=","exportNames":["*"],"imports":1}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":38,"column":16,"index":1264},"end":{"line":38,"column":42,"index":1290}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useEntitlementStore\", {\n    enumerable: true,\n    get: function () {\n      return useEntitlementStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _libStorage = require(_dependencyMap[1], \"../lib/storage\");\n  var _libEntitlementsTypes = require(_dependencyMap[2], \"../lib/entitlements/types\");\n  var _libEntitlementsLegacy = require(_dependencyMap[3], \"../lib/entitlements/legacy\");\n  /**\n   * Entitlement Store - Server Truth Model\n   * \n   * STRICT INVARIANTS:\n   * - Store NEVER grants entitlements - only server can grant\n   * - Store caches server snapshots for UX (offline/fast reads)\n   * - All reads go through gating helpers, not direct store access\n   * - Refresh from server on: startup, post-purchase, manual\n   */\n\n  // Debug logging helpers\n  const dlog = (...args) => {\n    if (__DEV__) console.log(...args);\n  };\n  const STORAGE_KEY = '@idledevotion/entitlements/v4';\n  const LEGACY_STORAGE_KEY = '@idledevotion/entitlements/v3';\n\n  // API import (lazy to avoid circular deps at module load)\n  let _getEntitlementsSnapshot = null;\n  async function getEntitlementsSnapshotApi() {\n    if (!_getEntitlementsSnapshot) {\n      const api = await require(_dependencyMap[5], \"expo/internal/async-require-module\")(_dependencyMap[4], _dependencyMap.paths, \"../lib/api\");\n      _getEntitlementsSnapshot = api.getEntitlementsSnapshot;\n    }\n    return _getEntitlementsSnapshot();\n  }\n  const useEntitlementStore = (0, _zustand.create)((set, get) => ({\n    snapshot: null,\n    entitlementsByKey: (0, _libEntitlementsTypes.createEmptyEntitlementsMap)(),\n    lastRefreshAt: null,\n    isRefreshing: false,\n    refreshError: null,\n    /**\n     * Hydrate from cached snapshot on app startup\n     * Does NOT grant - only restores last known server state\n     */\n    hydrateEntitlements: async () => {\n      dlog('[entitlementStore] Hydrating from cache...');\n      try {\n        // Try to load cached snapshot\n        const cached = await (0, _libStorage.storageGet)(STORAGE_KEY);\n        if (cached) {\n          const parsed = JSON.parse(cached);\n          const normalized = {\n            ...(0, _libEntitlementsTypes.createEmptyEntitlementsMap)(),\n            ...parsed.entitlements\n          };\n          set({\n            snapshot: parsed,\n            entitlementsByKey: normalized\n          });\n          dlog('[entitlementStore] Hydrated from cache:', Object.keys(normalized).length, 'keys');\n        }\n\n        // Migrate legacy data if present\n        await migrateLegacyData(set, get);\n      } catch (e) {\n        console.error('[entitlementStore] Hydration error:', e);\n      }\n    },\n    /**\n     * Refresh entitlements from server\n     * This is the ONLY way to get authoritative entitlement state\n     */\n    refreshFromServer: async reason => {\n      if (get().isRefreshing) {\n        dlog('[entitlementStore] Already refreshing, skipping');\n        return;\n      }\n      dlog('[entitlementStore] Refreshing from server, reason:', reason);\n      set({\n        isRefreshing: true,\n        refreshError: null\n      });\n      try {\n        const snap = await getEntitlementsSnapshotApi();\n\n        // Strict normalization: fill missing keys as not_owned\n        const normalized = {\n          ...(0, _libEntitlementsTypes.createEmptyEntitlementsMap)(),\n          ...snap.entitlements\n        };\n        set({\n          snapshot: snap,\n          entitlementsByKey: normalized,\n          lastRefreshAt: Date.now(),\n          isRefreshing: false\n        });\n\n        // Persist for offline cache\n        await (0, _libStorage.storageSet)(STORAGE_KEY, JSON.stringify(snap));\n        dlog('[entitlementStore] Refreshed from server:', snap.version);\n      } catch (e) {\n        const errorMsg = e?.response?.data?.detail || e?.message || 'Failed to refresh entitlements';\n        console.error('[entitlementStore] Refresh error:', errorMsg);\n        set({\n          isRefreshing: false,\n          refreshError: errorMsg\n        });\n      }\n    },\n    /**\n     * Clear all entitlement state (on logout)\n     */\n    clear: () => {\n      dlog('[entitlementStore] Clearing state');\n      set({\n        snapshot: null,\n        entitlementsByKey: (0, _libEntitlementsTypes.createEmptyEntitlementsMap)(),\n        lastRefreshAt: null,\n        refreshError: null\n      });\n      (0, _libStorage.storageRemove)(STORAGE_KEY).catch(() => {});\n    },\n    /**\n     * Check if user has entitlement (internal use)\n     * Screens should use gating helpers instead\n     */\n    hasEntitlement: key => {\n      const {\n        entitlementsByKey,\n        snapshot\n      } = get();\n      const entitlement = entitlementsByKey[key];\n      if (!entitlement || entitlement.status !== 'owned') return false;\n\n      // Check expiry using server time\n      if (entitlement.expires_at && snapshot?.server_time) {\n        const expiresAt = new Date(entitlement.expires_at).getTime();\n        const serverNow = new Date(snapshot.server_time).getTime();\n        if (serverNow > expiresAt) return false;\n      }\n      return true;\n    },\n    // ═══════════════════════════════════════════════════════════\n    // DEV ONLY METHODS - For testing paywalls/features\n    // These should NEVER be called in production code paths\n    // ═══════════════════════════════════════════════════════════\n\n    devGrantEntitlement: key => {\n      if (!__DEV__) {\n        console.warn('[entitlementStore] devGrantEntitlement called in production - BLOCKED');\n        return;\n      }\n      const {\n        entitlementsByKey\n      } = get();\n      const updated = {\n        ...entitlementsByKey,\n        [key]: {\n          key,\n          status: 'owned',\n          granted_at: new Date().toISOString(),\n          reason: 'admin'\n        }\n      };\n\n      // Create fake snapshot for dev\n      const fakeSnapshot = {\n        server_time: new Date().toISOString(),\n        version: Date.now(),\n        username: 'DEV_USER',\n        entitlements: updated,\n        source: 'database'\n      };\n      set({\n        entitlementsByKey: updated,\n        snapshot: fakeSnapshot\n      });\n      dlog('[entitlementStore] DEV: Granted', key);\n    },\n    devRevokeEntitlement: key => {\n      if (!__DEV__) {\n        console.warn('[entitlementStore] devRevokeEntitlement called in production - BLOCKED');\n        return;\n      }\n      const {\n        entitlementsByKey\n      } = get();\n      const updated = {\n        ...entitlementsByKey,\n        [key]: {\n          key,\n          status: 'not_owned'\n        }\n      };\n      set({\n        entitlementsByKey: updated\n      });\n      dlog('[entitlementStore] DEV: Revoked', key);\n    },\n    devClearAll: () => {\n      if (!__DEV__) {\n        console.warn('[entitlementStore] devClearAll called in production - BLOCKED');\n        return;\n      }\n      set({\n        entitlementsByKey: (0, _libEntitlementsTypes.createEmptyEntitlementsMap)(),\n        snapshot: null\n      });\n      (0, _libStorage.storageRemove)(STORAGE_KEY).catch(() => {});\n      dlog('[entitlementStore] DEV: Cleared all entitlements');\n    }\n  }));\n\n  /**\n   * Migrate legacy entitlement data to new format\n   */\n  async function migrateLegacyData(set, get) {\n    try {\n      const legacyData = await (0, _libStorage.storageGet)(LEGACY_STORAGE_KEY);\n      if (!legacyData) return;\n      dlog('[entitlementStore] Migrating legacy data...');\n      const legacy = JSON.parse(legacyData);\n      const {\n        entitlementsByKey\n      } = get();\n      const updated = {\n        ...entitlementsByKey\n      };\n\n      // Migrate each legacy key\n      for (const [oldKey, value] of Object.entries(legacy)) {\n        if (value) {\n          const newKey = (0, _libEntitlementsLegacy.migrateLegacyKey)(oldKey);\n          updated[newKey] = {\n            key: newKey,\n            status: 'owned',\n            granted_at: new Date().toISOString(),\n            reason: 'unknown'\n          };\n          dlog('[entitlementStore] Migrated:', oldKey, '->', newKey);\n        }\n      }\n      set({\n        entitlementsByKey: updated\n      });\n\n      // Remove legacy data after migration\n      await (0, _libStorage.storageRemove)(LEGACY_STORAGE_KEY);\n      dlog('[entitlementStore] Legacy migration complete');\n    } catch (e) {\n      console.error('[entitlementStore] Legacy migration error:', e);\n    }\n  }\n});","lineCount":262,"map":[[7,2,70,0,"Object"],[7,8,70,0],[7,9,70,0,"defineProperty"],[7,23,70,0],[7,24,70,0,"exports"],[7,31,70,0],[8,4,70,0,"enumerable"],[8,14,70,0],[9,4,70,0,"get"],[9,7,70,0],[9,18,70,0,"get"],[9,19,70,0],[10,6,70,0],[10,13,70,0,"useEntitlementStore"],[10,32,70,0],[11,4,70,0],[12,2,70,0],[13,2,11,0],[13,6,11,0,"_zustand"],[13,14,11,0],[13,17,11,0,"require"],[13,24,11,0],[13,25,11,0,"_dependencyMap"],[13,39,11,0],[14,2,12,0],[14,6,12,0,"_libStorage"],[14,17,12,0],[14,20,12,0,"require"],[14,27,12,0],[14,28,12,0,"_dependencyMap"],[14,42,12,0],[15,2,13,0],[15,6,13,0,"_libEntitlementsTypes"],[15,27,13,0],[15,30,13,0,"require"],[15,37,13,0],[15,38,13,0,"_dependencyMap"],[15,52,13,0],[16,2,22,0],[16,6,22,0,"_libEntitlementsLegacy"],[16,28,22,0],[16,31,22,0,"require"],[16,38,22,0],[16,39,22,0,"_dependencyMap"],[16,53,22,0],[17,2,1,0],[18,0,2,0],[19,0,3,0],[20,0,4,0],[21,0,5,0],[22,0,6,0],[23,0,7,0],[24,0,8,0],[25,0,9,0],[27,2,28,0],[28,2,29,0],[28,8,29,6,"dlog"],[28,12,29,10],[28,15,29,13,"dlog"],[28,16,29,14],[28,19,29,17,"args"],[28,23,29,28],[28,28,29,33],[29,4,29,35],[29,8,29,39,"__DEV__"],[29,15,29,46],[29,17,29,48,"console"],[29,24,29,55],[29,25,29,56,"log"],[29,28,29,59],[29,29,29,60],[29,32,29,63,"args"],[29,36,29,67],[29,37,29,68],[30,2,29,70],[30,3,29,71],[31,2,31,0],[31,8,31,6,"STORAGE_KEY"],[31,19,31,17],[31,22,31,20],[31,53,31,51],[32,2,32,0],[32,8,32,6,"LEGACY_STORAGE_KEY"],[32,26,32,24],[32,29,32,27],[32,60,32,58],[34,2,34,0],[35,2,35,0],[35,6,35,4,"_getEntitlementsSnapshot"],[35,30,35,74],[35,33,35,77],[35,37,35,81],[36,2,36,0],[36,17,36,15,"getEntitlementsSnapshotApi"],[36,43,36,41,"getEntitlementsSnapshotApi"],[36,44,36,41],[36,46,36,75],[37,4,37,2],[37,8,37,6],[37,9,37,7,"_getEntitlementsSnapshot"],[37,33,37,31],[37,35,37,33],[38,6,38,4],[38,12,38,10,"api"],[38,15,38,13],[38,18,38,16],[38,24,38,16,"require"],[38,31,38,16],[38,32,38,16,"_dependencyMap"],[38,46,38,16],[38,89,38,16,"_dependencyMap"],[38,103,38,16],[38,108,38,16,"_dependencyMap"],[38,122,38,16],[38,123,38,16,"paths"],[38,128,38,16],[38,143,38,42],[39,6,39,4,"_getEntitlementsSnapshot"],[39,30,39,28],[39,33,39,31,"api"],[39,36,39,34],[39,37,39,35,"getEntitlementsSnapshot"],[39,60,39,58],[40,4,40,2],[41,4,41,2],[41,11,41,9,"_getEntitlementsSnapshot"],[41,35,41,33],[41,36,41,34],[41,37,41,35],[42,2,42,0],[43,2,70,7],[43,8,70,13,"useEntitlementStore"],[43,27,70,32],[43,30,70,35],[43,34,70,35,"create"],[43,42,70,41],[43,43,70,41,"create"],[43,49,70,41],[43,51,70,65],[43,52,70,66,"set"],[43,55,70,69],[43,57,70,71,"get"],[43,60,70,74],[43,66,70,80],[44,4,71,2,"snapshot"],[44,12,71,10],[44,14,71,12],[44,18,71,16],[45,4,72,2,"entitlementsByKey"],[45,21,72,19],[45,23,72,21],[45,27,72,21,"createEmptyEntitlementsMap"],[45,48,72,47],[45,49,72,47,"createEmptyEntitlementsMap"],[45,75,72,47],[45,77,72,48],[45,78,72,49],[46,4,73,2,"lastRefreshAt"],[46,17,73,15],[46,19,73,17],[46,23,73,21],[47,4,74,2,"isRefreshing"],[47,16,74,14],[47,18,74,16],[47,23,74,21],[48,4,75,2,"refreshError"],[48,16,75,14],[48,18,75,16],[48,22,75,20],[49,4,77,2],[50,0,78,0],[51,0,79,0],[52,0,80,0],[53,4,81,2,"hydrateEntitlements"],[53,23,81,21],[53,25,81,23],[53,31,81,23,"hydrateEntitlements"],[53,32,81,23],[53,37,81,35],[54,6,82,4,"dlog"],[54,10,82,8],[54,11,82,9],[54,55,82,53],[54,56,82,54],[55,6,84,4],[55,10,84,8],[56,8,85,6],[57,8,86,6],[57,14,86,12,"cached"],[57,20,86,18],[57,23,86,21],[57,29,86,27],[57,33,86,27,"storageGet"],[57,44,86,37],[57,45,86,37,"storageGet"],[57,55,86,37],[57,57,86,38,"STORAGE_KEY"],[57,68,86,49],[57,69,86,50],[58,8,87,6],[58,12,87,10,"cached"],[58,18,87,16],[58,20,87,18],[59,10,88,8],[59,16,88,14,"parsed"],[59,22,88,20],[59,25,88,23,"JSON"],[59,29,88,27],[59,30,88,28,"parse"],[59,35,88,33],[59,36,88,34,"cached"],[59,42,88,40],[59,43,88,65],[60,10,89,8],[60,16,89,14,"normalized"],[60,26,89,24],[60,29,89,27],[61,12,89,29],[61,15,89,32],[61,19,89,32,"createEmptyEntitlementsMap"],[61,40,89,58],[61,41,89,58,"createEmptyEntitlementsMap"],[61,67,89,58],[61,69,89,59],[61,70,89,60],[62,12,89,62],[62,15,89,65,"parsed"],[62,21,89,71],[62,22,89,72,"entitlements"],[63,10,89,85],[63,11,89,86],[64,10,90,8,"set"],[64,13,90,11],[64,14,90,12],[65,12,91,10,"snapshot"],[65,20,91,18],[65,22,91,20,"parsed"],[65,28,91,26],[66,12,92,10,"entitlementsByKey"],[66,29,92,27],[66,31,92,29,"normalized"],[67,10,93,8],[67,11,93,9],[67,12,93,10],[68,10,94,8,"dlog"],[68,14,94,12],[68,15,94,13],[68,56,94,54],[68,58,94,56,"Object"],[68,64,94,62],[68,65,94,63,"keys"],[68,69,94,67],[68,70,94,68,"normalized"],[68,80,94,78],[68,81,94,79],[68,82,94,80,"length"],[68,88,94,86],[68,90,94,88],[68,96,94,94],[68,97,94,95],[69,8,95,6],[71,8,97,6],[72,8,98,6],[72,14,98,12,"migrateLegacyData"],[72,31,98,29],[72,32,98,30,"set"],[72,35,98,33],[72,37,98,35,"get"],[72,40,98,38],[72,41,98,39],[73,6,100,4],[73,7,100,5],[73,8,100,6],[73,15,100,13,"e"],[73,16,100,14],[73,18,100,16],[74,8,101,6,"console"],[74,15,101,13],[74,16,101,14,"error"],[74,21,101,19],[74,22,101,20],[74,59,101,57],[74,61,101,59,"e"],[74,62,101,60],[74,63,101,61],[75,6,102,4],[76,4,103,2],[76,5,103,3],[77,4,105,2],[78,0,106,0],[79,0,107,0],[80,0,108,0],[81,4,109,2,"refreshFromServer"],[81,21,109,19],[81,23,109,21],[81,29,109,28,"reason"],[81,35,109,34],[81,39,109,39],[82,6,110,4],[82,10,110,8,"get"],[82,13,110,11],[82,14,110,12],[82,15,110,13],[82,16,110,14,"isRefreshing"],[82,28,110,26],[82,30,110,28],[83,8,111,6,"dlog"],[83,12,111,10],[83,13,111,11],[83,62,111,60],[83,63,111,61],[84,8,112,6],[85,6,113,4],[86,6,115,4,"dlog"],[86,10,115,8],[86,11,115,9],[86,63,115,61],[86,65,115,63,"reason"],[86,71,115,69],[86,72,115,70],[87,6,116,4,"set"],[87,9,116,7],[87,10,116,8],[88,8,116,10,"isRefreshing"],[88,20,116,22],[88,22,116,24],[88,26,116,28],[89,8,116,30,"refreshError"],[89,20,116,42],[89,22,116,44],[90,6,116,49],[90,7,116,50],[90,8,116,51],[91,6,118,4],[91,10,118,8],[92,8,119,6],[92,14,119,12,"snap"],[92,18,119,16],[92,21,119,19],[92,27,119,25,"getEntitlementsSnapshotApi"],[92,53,119,51],[92,54,119,52],[92,55,119,53],[94,8,121,6],[95,8,122,6],[95,14,122,12,"normalized"],[95,24,122,22],[95,27,122,25],[96,10,122,27],[96,13,122,30],[96,17,122,30,"createEmptyEntitlementsMap"],[96,38,122,56],[96,39,122,56,"createEmptyEntitlementsMap"],[96,65,122,56],[96,67,122,57],[96,68,122,58],[97,10,122,60],[97,13,122,63,"snap"],[97,17,122,67],[97,18,122,68,"entitlements"],[98,8,122,81],[98,9,122,82],[99,8,124,6,"set"],[99,11,124,9],[99,12,124,10],[100,10,125,8,"snapshot"],[100,18,125,16],[100,20,125,18,"snap"],[100,24,125,22],[101,10,126,8,"entitlementsByKey"],[101,27,126,25],[101,29,126,27,"normalized"],[101,39,126,37],[102,10,127,8,"lastRefreshAt"],[102,23,127,21],[102,25,127,23,"Date"],[102,29,127,27],[102,30,127,28,"now"],[102,33,127,31],[102,34,127,32],[102,35,127,33],[103,10,128,8,"isRefreshing"],[103,22,128,20],[103,24,128,22],[104,8,129,6],[104,9,129,7],[104,10,129,8],[106,8,131,6],[107,8,132,6],[107,14,132,12],[107,18,132,12,"storageSet"],[107,29,132,22],[107,30,132,22,"storageSet"],[107,40,132,22],[107,42,132,23,"STORAGE_KEY"],[107,53,132,34],[107,55,132,36,"JSON"],[107,59,132,40],[107,60,132,41,"stringify"],[107,69,132,50],[107,70,132,51,"snap"],[107,74,132,55],[107,75,132,56],[107,76,132,57],[108,8,134,6,"dlog"],[108,12,134,10],[108,13,134,11],[108,56,134,54],[108,58,134,56,"snap"],[108,62,134,60],[108,63,134,61,"version"],[108,70,134,68],[108,71,134,69],[109,6,136,4],[109,7,136,5],[109,8,136,6],[109,15,136,13,"e"],[109,16,136,19],[109,18,136,21],[110,8,137,6],[110,14,137,12,"errorMsg"],[110,22,137,20],[110,25,137,23,"e"],[110,26,137,24],[110,28,137,26,"response"],[110,36,137,34],[110,38,137,36,"data"],[110,42,137,40],[110,44,137,42,"detail"],[110,50,137,48],[110,54,137,52,"e"],[110,55,137,53],[110,57,137,55,"message"],[110,64,137,62],[110,68,137,66],[110,100,137,98],[111,8,138,6,"console"],[111,15,138,13],[111,16,138,14,"error"],[111,21,138,19],[111,22,138,20],[111,57,138,55],[111,59,138,57,"errorMsg"],[111,67,138,65],[111,68,138,66],[112,8,139,6,"set"],[112,11,139,9],[112,12,139,10],[113,10,140,8,"isRefreshing"],[113,22,140,20],[113,24,140,22],[113,29,140,27],[114,10,141,8,"refreshError"],[114,22,141,20],[114,24,141,22,"errorMsg"],[115,8,142,6],[115,9,142,7],[115,10,142,8],[116,6,143,4],[117,4,144,2],[117,5,144,3],[118,4,146,2],[119,0,147,0],[120,0,148,0],[121,4,149,2,"clear"],[121,9,149,7],[121,11,149,9,"clear"],[121,12,149,9],[121,17,149,15],[122,6,150,4,"dlog"],[122,10,150,8],[122,11,150,9],[122,46,150,44],[122,47,150,45],[123,6,151,4,"set"],[123,9,151,7],[123,10,151,8],[124,8,152,6,"snapshot"],[124,16,152,14],[124,18,152,16],[124,22,152,20],[125,8,153,6,"entitlementsByKey"],[125,25,153,23],[125,27,153,25],[125,31,153,25,"createEmptyEntitlementsMap"],[125,52,153,51],[125,53,153,51,"createEmptyEntitlementsMap"],[125,79,153,51],[125,81,153,52],[125,82,153,53],[126,8,154,6,"lastRefreshAt"],[126,21,154,19],[126,23,154,21],[126,27,154,25],[127,8,155,6,"refreshError"],[127,20,155,18],[127,22,155,20],[128,6,156,4],[128,7,156,5],[128,8,156,6],[129,6,157,4],[129,10,157,4,"storageRemove"],[129,21,157,17],[129,22,157,17,"storageRemove"],[129,35,157,17],[129,37,157,18,"STORAGE_KEY"],[129,48,157,29],[129,49,157,30],[129,50,157,31,"catch"],[129,55,157,36],[129,56,157,37],[129,62,157,43],[129,63,157,44],[129,64,157,45],[129,65,157,46],[130,4,158,2],[130,5,158,3],[131,4,160,2],[132,0,161,0],[133,0,162,0],[134,0,163,0],[135,4,164,2,"hasEntitlement"],[135,18,164,16],[135,20,164,19,"key"],[135,23,164,30],[135,27,164,35],[136,6,165,4],[136,12,165,10],[137,8,165,12,"entitlementsByKey"],[137,25,165,29],[138,8,165,31,"snapshot"],[139,6,165,40],[139,7,165,41],[139,10,165,44,"get"],[139,13,165,47],[139,14,165,48],[139,15,165,49],[140,6,166,4],[140,12,166,10,"entitlement"],[140,23,166,21],[140,26,166,24,"entitlementsByKey"],[140,43,166,41],[140,44,166,42,"key"],[140,47,166,45],[140,48,166,46],[141,6,167,4],[141,10,167,8],[141,11,167,9,"entitlement"],[141,22,167,20],[141,26,167,24,"entitlement"],[141,37,167,35],[141,38,167,36,"status"],[141,44,167,42],[141,49,167,47],[141,56,167,54],[141,58,167,56],[141,65,167,63],[141,70,167,68],[143,6,169,4],[144,6,170,4],[144,10,170,8,"entitlement"],[144,21,170,19],[144,22,170,20,"expires_at"],[144,32,170,30],[144,36,170,34,"snapshot"],[144,44,170,42],[144,46,170,44,"server_time"],[144,57,170,55],[144,59,170,57],[145,8,171,6],[145,14,171,12,"expiresAt"],[145,23,171,21],[145,26,171,24],[145,30,171,28,"Date"],[145,34,171,32],[145,35,171,33,"entitlement"],[145,46,171,44],[145,47,171,45,"expires_at"],[145,57,171,55],[145,58,171,56],[145,59,171,57,"getTime"],[145,66,171,64],[145,67,171,65],[145,68,171,66],[146,8,172,6],[146,14,172,12,"serverNow"],[146,23,172,21],[146,26,172,24],[146,30,172,28,"Date"],[146,34,172,32],[146,35,172,33,"snapshot"],[146,43,172,41],[146,44,172,42,"server_time"],[146,55,172,53],[146,56,172,54],[146,57,172,55,"getTime"],[146,64,172,62],[146,65,172,63],[146,66,172,64],[147,8,173,6],[147,12,173,10,"serverNow"],[147,21,173,19],[147,24,173,22,"expiresAt"],[147,33,173,31],[147,35,173,33],[147,42,173,40],[147,47,173,45],[148,6,174,4],[149,6,176,4],[149,13,176,11],[149,17,176,15],[150,4,177,2],[150,5,177,3],[151,4,179,2],[152,4,180,2],[153,4,181,2],[154,4,182,2],[156,4,184,2,"devGrantEntitlement"],[156,23,184,21],[156,25,184,24,"key"],[156,28,184,35],[156,32,184,40],[157,6,185,4],[157,10,185,8],[157,11,185,9,"__DEV__"],[157,18,185,16],[157,20,185,18],[158,8,186,6,"console"],[158,15,186,13],[158,16,186,14,"warn"],[158,20,186,18],[158,21,186,19],[158,92,186,90],[158,93,186,91],[159,8,187,6],[160,6,188,4],[161,6,190,4],[161,12,190,10],[162,8,190,12,"entitlementsByKey"],[163,6,190,30],[163,7,190,31],[163,10,190,34,"get"],[163,13,190,37],[163,14,190,38],[163,15,190,39],[164,6,191,4],[164,12,191,10,"updated"],[164,19,191,17],[164,22,191,20],[165,8,192,6],[165,11,192,9,"entitlementsByKey"],[165,28,192,26],[166,8,193,6],[166,9,193,7,"key"],[166,12,193,10],[166,15,193,13],[167,10,194,8,"key"],[167,13,194,11],[168,10,195,8,"status"],[168,16,195,14],[168,18,195,16],[168,25,195,32],[169,10,196,8,"granted_at"],[169,20,196,18],[169,22,196,20],[169,26,196,24,"Date"],[169,30,196,28],[169,31,196,29],[169,32,196,30],[169,33,196,31,"toISOString"],[169,44,196,42],[169,45,196,43],[169,46,196,44],[170,10,197,8,"reason"],[170,16,197,14],[170,18,197,16],[171,8,198,6],[172,6,199,4],[172,7,199,5],[174,6,201,4],[175,6,202,4],[175,12,202,10,"fakeSnapshot"],[175,24,202,44],[175,27,202,47],[176,8,203,6,"server_time"],[176,19,203,17],[176,21,203,19],[176,25,203,23,"Date"],[176,29,203,27],[176,30,203,28],[176,31,203,29],[176,32,203,30,"toISOString"],[176,43,203,41],[176,44,203,42],[176,45,203,43],[177,8,204,6,"version"],[177,15,204,13],[177,17,204,15,"Date"],[177,21,204,19],[177,22,204,20,"now"],[177,25,204,23],[177,26,204,24],[177,27,204,25],[178,8,205,6,"username"],[178,16,205,14],[178,18,205,16],[178,28,205,26],[179,8,206,6,"entitlements"],[179,20,206,18],[179,22,206,20,"updated"],[179,29,206,27],[180,8,207,6,"source"],[180,14,207,12],[180,16,207,14],[181,6,208,4],[181,7,208,5],[182,6,210,4,"set"],[182,9,210,7],[182,10,210,8],[183,8,211,6,"entitlementsByKey"],[183,25,211,23],[183,27,211,25,"updated"],[183,34,211,32],[184,8,212,6,"snapshot"],[184,16,212,14],[184,18,212,16,"fakeSnapshot"],[185,6,213,4],[185,7,213,5],[185,8,213,6],[186,6,214,4,"dlog"],[186,10,214,8],[186,11,214,9],[186,44,214,42],[186,46,214,44,"key"],[186,49,214,47],[186,50,214,48],[187,4,215,2],[187,5,215,3],[188,4,217,2,"devRevokeEntitlement"],[188,24,217,22],[188,26,217,25,"key"],[188,29,217,36],[188,33,217,41],[189,6,218,4],[189,10,218,8],[189,11,218,9,"__DEV__"],[189,18,218,16],[189,20,218,18],[190,8,219,6,"console"],[190,15,219,13],[190,16,219,14,"warn"],[190,20,219,18],[190,21,219,19],[190,93,219,91],[190,94,219,92],[191,8,220,6],[192,6,221,4],[193,6,223,4],[193,12,223,10],[194,8,223,12,"entitlementsByKey"],[195,6,223,30],[195,7,223,31],[195,10,223,34,"get"],[195,13,223,37],[195,14,223,38],[195,15,223,39],[196,6,224,4],[196,12,224,10,"updated"],[196,19,224,17],[196,22,224,20],[197,8,225,6],[197,11,225,9,"entitlementsByKey"],[197,28,225,26],[198,8,226,6],[198,9,226,7,"key"],[198,12,226,10],[198,15,226,13],[199,10,227,8,"key"],[199,13,227,11],[200,10,228,8,"status"],[200,16,228,14],[200,18,228,16],[201,8,229,6],[202,6,230,4],[202,7,230,5],[203,6,232,4,"set"],[203,9,232,7],[203,10,232,8],[204,8,232,10,"entitlementsByKey"],[204,25,232,27],[204,27,232,29,"updated"],[205,6,232,37],[205,7,232,38],[205,8,232,39],[206,6,233,4,"dlog"],[206,10,233,8],[206,11,233,9],[206,44,233,42],[206,46,233,44,"key"],[206,49,233,47],[206,50,233,48],[207,4,234,2],[207,5,234,3],[208,4,236,2,"devClearAll"],[208,15,236,13],[208,17,236,15,"devClearAll"],[208,18,236,15],[208,23,236,21],[209,6,237,4],[209,10,237,8],[209,11,237,9,"__DEV__"],[209,18,237,16],[209,20,237,18],[210,8,238,6,"console"],[210,15,238,13],[210,16,238,14,"warn"],[210,20,238,18],[210,21,238,19],[210,84,238,82],[210,85,238,83],[211,8,239,6],[212,6,240,4],[213,6,242,4,"set"],[213,9,242,7],[213,10,242,8],[214,8,243,6,"entitlementsByKey"],[214,25,243,23],[214,27,243,25],[214,31,243,25,"createEmptyEntitlementsMap"],[214,52,243,51],[214,53,243,51,"createEmptyEntitlementsMap"],[214,79,243,51],[214,81,243,52],[214,82,243,53],[215,8,244,6,"snapshot"],[215,16,244,14],[215,18,244,16],[216,6,245,4],[216,7,245,5],[216,8,245,6],[217,6,246,4],[217,10,246,4,"storageRemove"],[217,21,246,17],[217,22,246,17,"storageRemove"],[217,35,246,17],[217,37,246,18,"STORAGE_KEY"],[217,48,246,29],[217,49,246,30],[217,50,246,31,"catch"],[217,55,246,36],[217,56,246,37],[217,62,246,43],[217,63,246,44],[217,64,246,45],[217,65,246,46],[218,6,247,4,"dlog"],[218,10,247,8],[218,11,247,9],[218,61,247,59],[218,62,247,60],[219,4,248,2],[220,2,249,0],[220,3,249,1],[220,4,249,2],[220,5,249,3],[222,2,251,0],[223,0,252,0],[224,0,253,0],[225,2,254,0],[225,17,254,15,"migrateLegacyData"],[225,34,254,32,"migrateLegacyData"],[225,35,255,2,"set"],[225,38,255,54],[225,40,256,2,"get"],[225,43,256,34],[225,45,257,2],[226,4,258,2],[226,8,258,6],[227,6,259,4],[227,12,259,10,"legacyData"],[227,22,259,20],[227,25,259,23],[227,31,259,29],[227,35,259,29,"storageGet"],[227,46,259,39],[227,47,259,39,"storageGet"],[227,57,259,39],[227,59,259,40,"LEGACY_STORAGE_KEY"],[227,77,259,58],[227,78,259,59],[228,6,260,4],[228,10,260,8],[228,11,260,9,"legacyData"],[228,21,260,19],[228,23,260,21],[229,6,262,4,"dlog"],[229,10,262,8],[229,11,262,9],[229,56,262,54],[229,57,262,55],[230,6,264,4],[230,12,264,10,"legacy"],[230,18,264,16],[230,21,264,19,"JSON"],[230,25,264,23],[230,26,264,24,"parse"],[230,31,264,29],[230,32,264,30,"legacyData"],[230,42,264,40],[230,43,264,41],[231,6,265,4],[231,12,265,10],[232,8,265,12,"entitlementsByKey"],[233,6,265,30],[233,7,265,31],[233,10,265,34,"get"],[233,13,265,37],[233,14,265,38],[233,15,265,39],[234,6,266,4],[234,12,266,10,"updated"],[234,19,266,17],[234,22,266,20],[235,8,266,22],[235,11,266,25,"entitlementsByKey"],[236,6,266,43],[236,7,266,44],[238,6,268,4],[239,6,269,4],[239,11,269,9],[239,17,269,15],[239,18,269,16,"oldKey"],[239,24,269,22],[239,26,269,24,"value"],[239,31,269,29],[239,32,269,30],[239,36,269,34,"Object"],[239,42,269,40],[239,43,269,41,"entries"],[239,50,269,48],[239,51,269,49,"legacy"],[239,57,269,55],[239,58,269,56],[239,60,269,58],[240,8,270,6],[240,12,270,10,"value"],[240,17,270,15],[240,19,270,17],[241,10,271,8],[241,16,271,14,"newKey"],[241,22,271,20],[241,25,271,23],[241,29,271,23,"migrateLegacyKey"],[241,51,271,39],[241,52,271,39,"migrateLegacyKey"],[241,68,271,39],[241,70,271,40,"oldKey"],[241,76,271,46],[241,77,271,47],[242,10,272,8,"updated"],[242,17,272,15],[242,18,272,16,"newKey"],[242,24,272,22],[242,25,272,23],[242,28,272,26],[243,12,273,10,"key"],[243,15,273,13],[243,17,273,15,"newKey"],[243,23,273,21],[244,12,274,10,"status"],[244,18,274,16],[244,20,274,18],[244,27,274,25],[245,12,275,10,"granted_at"],[245,22,275,20],[245,24,275,22],[245,28,275,26,"Date"],[245,32,275,30],[245,33,275,31],[245,34,275,32],[245,35,275,33,"toISOString"],[245,46,275,44],[245,47,275,45],[245,48,275,46],[246,12,276,10,"reason"],[246,18,276,16],[246,20,276,18],[247,10,277,8],[247,11,277,9],[248,10,278,8,"dlog"],[248,14,278,12],[248,15,278,13],[248,45,278,43],[248,47,278,45,"oldKey"],[248,53,278,51],[248,55,278,53],[248,59,278,57],[248,61,278,59,"newKey"],[248,67,278,65],[248,68,278,66],[249,8,279,6],[250,6,280,4],[251,6,282,4,"set"],[251,9,282,7],[251,10,282,8],[252,8,282,10,"entitlementsByKey"],[252,25,282,27],[252,27,282,29,"updated"],[253,6,282,37],[253,7,282,38],[253,8,282,39],[255,6,284,4],[256,6,285,4],[256,12,285,10],[256,16,285,10,"storageRemove"],[256,27,285,23],[256,28,285,23,"storageRemove"],[256,41,285,23],[256,43,285,24,"LEGACY_STORAGE_KEY"],[256,61,285,42],[256,62,285,43],[257,6,286,4,"dlog"],[257,10,286,8],[257,11,286,9],[257,57,286,55],[257,58,286,56],[258,4,288,2],[258,5,288,3],[258,6,288,4],[258,13,288,11,"e"],[258,14,288,12],[258,16,288,14],[259,6,289,4,"console"],[259,13,289,11],[259,14,289,12,"error"],[259,19,289,17],[259,20,289,18],[259,64,289,62],[259,66,289,64,"e"],[259,67,289,65],[259,68,289,66],[260,4,290,2],[261,2,291,0],[262,0,291,1],[262,3]],"functionMap":{"names":["<global>","dlog","getEntitlementsSnapshotApi","create$argument_0","hydrateEntitlements","refreshFromServer","clear","storageRemove._catch$argument_0","hasEntitlement","devGrantEntitlement","devRevokeEntitlement","devClearAll","migrateLegacyData"],"mappings":"AAA;aC4B,0DD;AEO;CFM;iEG4B;uBCW;GDsB;qBEM;GFmC;SGK;qCCQ,QD;GHC;kBKM;GLa;uBMO;GN+B;wBOE;GPiB;eQE;qCJU,QI;GRE;EHC;AYK;CZqC"},"hasCjsExports":false},"type":"js/module"}]}