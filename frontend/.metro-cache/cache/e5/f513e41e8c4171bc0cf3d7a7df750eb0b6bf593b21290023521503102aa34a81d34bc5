{"dependencies":[{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":14,"index":78},"end":{"line":3,"column":38,"index":102}}],"key":"ud8OE6Lg8Q81+bS6ynZj2uyMPdA=","exportNames":["*"],"imports":1}},{"name":"../constants.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":18,"index":122},"end":{"line":4,"column":44,"index":148}}],"key":"o8tP4LNoHC5fuOXdC7/eBrJRbQA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  const utils = require(_dependencyMap[0], \"@sentry/utils\");\n  const constants = require(_dependencyMap[1], \"../constants.js\");\n\n  /**\n   * Creates a dynamic sampling context from a client.\n   *\n   * Dispatchs the `createDsc` lifecycle hook as a side effect.\n   */\n  function getDynamicSamplingContextFromClient(trace_id, client, scope) {\n    const options = client.getOptions();\n    const {\n      publicKey: public_key\n    } = client.getDsn() || {};\n    const {\n      segment: user_segment\n    } = scope && scope.getUser() || {};\n    const dsc = utils.dropUndefinedKeys({\n      environment: options.environment || constants.DEFAULT_ENVIRONMENT,\n      release: options.release,\n      user_segment,\n      public_key,\n      trace_id\n    });\n    client.emit && client.emit('createDsc', dsc);\n    return dsc;\n  }\n  exports.getDynamicSamplingContextFromClient = getDynamicSamplingContextFromClient;\n});","lineCount":32,"map":[[2,2,1,0,"Object"],[2,8,1,6],[2,9,1,7,"defineProperty"],[2,23,1,21],[2,24,1,22,"exports"],[2,31,1,29],[2,33,1,31],[2,45,1,43],[2,47,1,45],[3,4,1,47,"value"],[3,9,1,52],[3,11,1,54],[4,2,1,59],[4,3,1,60],[4,4,1,61],[5,2,3,0],[5,8,3,6,"utils"],[5,13,3,11],[5,16,3,14,"require"],[5,23,3,21],[5,24,3,21,"_dependencyMap"],[5,38,3,21],[5,58,3,37],[5,59,3,38],[6,2,4,0],[6,8,4,6,"constants"],[6,17,4,15],[6,20,4,18,"require"],[6,27,4,25],[6,28,4,25,"_dependencyMap"],[6,42,4,25],[6,64,4,43],[6,65,4,44],[8,2,6,0],[9,0,7,0],[10,0,8,0],[11,0,9,0],[12,0,10,0],[13,2,11,0],[13,11,11,9,"getDynamicSamplingContextFromClient"],[13,46,11,44,"getDynamicSamplingContextFromClient"],[13,47,12,2,"trace_id"],[13,55,12,10],[13,57,13,2,"client"],[13,63,13,8],[13,65,14,2,"scope"],[13,70,14,7],[13,72,15,2],[14,4,16,2],[14,10,16,8,"options"],[14,17,16,15],[14,20,16,18,"client"],[14,26,16,24],[14,27,16,25,"getOptions"],[14,37,16,35],[14,38,16,36],[14,39,16,37],[15,4,18,2],[15,10,18,8],[16,6,18,10,"publicKey"],[16,15,18,19],[16,17,18,21,"public_key"],[17,4,18,32],[17,5,18,33],[17,8,18,36,"client"],[17,14,18,42],[17,15,18,43,"getDsn"],[17,21,18,49],[17,22,18,50],[17,23,18,51],[17,27,18,55],[17,28,18,56],[17,29,18,57],[18,4,19,2],[18,10,19,8],[19,6,19,10,"segment"],[19,13,19,17],[19,15,19,19,"user_segment"],[20,4,19,32],[20,5,19,33],[20,8,19,37,"scope"],[20,13,19,42],[20,17,19,46,"scope"],[20,22,19,51],[20,23,19,52,"getUser"],[20,30,19,59],[20,31,19,60],[20,32,19,61],[20,36,19,66],[20,37,19,67],[20,38,19,68],[21,4,21,2],[21,10,21,8,"dsc"],[21,13,21,11],[21,16,21,14,"utils"],[21,21,21,19],[21,22,21,20,"dropUndefinedKeys"],[21,39,21,37],[21,40,21,38],[22,6,22,4,"environment"],[22,17,22,15],[22,19,22,17,"options"],[22,26,22,24],[22,27,22,25,"environment"],[22,38,22,36],[22,42,22,40,"constants"],[22,51,22,49],[22,52,22,50,"DEFAULT_ENVIRONMENT"],[22,71,22,69],[23,6,23,4,"release"],[23,13,23,11],[23,15,23,13,"options"],[23,22,23,20],[23,23,23,21,"release"],[23,30,23,28],[24,6,24,4,"user_segment"],[24,18,24,16],[25,6,25,4,"public_key"],[25,16,25,14],[26,6,26,4,"trace_id"],[27,4,27,2],[27,5,27,3],[27,6,27,4],[28,4,29,2,"client"],[28,10,29,8],[28,11,29,9,"emit"],[28,15,29,13],[28,19,29,17,"client"],[28,25,29,23],[28,26,29,24,"emit"],[28,30,29,28],[28,31,29,29],[28,42,29,40],[28,44,29,42,"dsc"],[28,47,29,45],[28,48,29,46],[29,4,31,2],[29,11,31,9,"dsc"],[29,14,31,12],[30,2,32,0],[31,2,34,0,"exports"],[31,9,34,7],[31,10,34,8,"getDynamicSamplingContextFromClient"],[31,45,34,43],[31,48,34,46,"getDynamicSamplingContextFromClient"],[31,83,34,81],[32,0,34,82],[32,3]],"functionMap":{"names":["<global>","getDynamicSamplingContextFromClient"],"mappings":"AAA;ACU;CDqB"},"hasCjsExports":true},"type":"js/module"}]}