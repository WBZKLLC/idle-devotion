{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"ContentLevel\", {\n    enumerable: true,\n    get: function () {\n      return ContentLevel;\n    }\n  });\n  Object.defineProperty(exports, \"SCREEN_BOUNDARIES\", {\n    enumerable: true,\n    get: function () {\n      return SCREEN_BOUNDARIES;\n    }\n  });\n  Object.defineProperty(exports, \"AFFINITY_THRESHOLDS\", {\n    enumerable: true,\n    get: function () {\n      return AFFINITY_THRESHOLDS;\n    }\n  });\n  exports.isContentAllowed = isContentAllowed;\n  exports.getMaxContentForAffinity = getMaxContentForAffinity;\n  exports.getEffectiveContentLevel = getEffectiveContentLevel;\n  Object.defineProperty(exports, \"CONTENT_RULES\", {\n    enumerable: true,\n    get: function () {\n      return CONTENT_RULES;\n    }\n  });\n  // /app/frontend/lib/hero/content-boundaries.ts\n  // Phase 3.23.9: Content Boundaries (Safety Rules)\n  //\n  // Before any intimacy enters the picture, we define hard rules.\n  // These protect: store approval, brand tone, future monetization.\n  //\n  // \"Default state is always safe / neutral.\"\n  /**\n   * Content Safety Levels\n   * Each screen/context has a maximum allowed level\n   */\n  let ContentLevel = /*#__PURE__*/function (ContentLevel) {\n    /** Safe for all contexts - no suggestive content */\n    ContentLevel[ContentLevel[\"SAFE\"] = 0] = \"SAFE\";\n    /** Mild - slight charm, no explicit content */\n    ContentLevel[ContentLevel[\"MILD\"] = 1] = \"MILD\";\n    /** CONTEXTUAL - requires explicit opt-in and affinity */\n    ContentLevel[ContentLevel[\"CONTEXTUAL\"] = 2] = \"CONTEXTUAL\";\n    /** INTIMATE - highest level, requires max affinity + consent */\n    ContentLevel[ContentLevel[\"INTIMATE\"] = 3] = \"INTIMATE\";\n    return ContentLevel;\n  }({});\n  /**\n   * Screen content boundaries (hard limits)\n   * These CANNOT be exceeded regardless of affinity\n   */\n  const SCREEN_BOUNDARIES = {\n    /** Home screen: NEVER sexual, always sanctuary */\n    home: ContentLevel.SAFE,\n    /** Heroes list/gallery: Safe presentation only */\n    heroGallery: ContentLevel.SAFE,\n    /** Hero detail/stats: Safe, informational */\n    heroDetail: ContentLevel.SAFE,\n    /** Hero presentation screen: Contextual, opt-in */\n    heroPresentation: ContentLevel.CONTEXTUAL,\n    /** Summon/gacha: Safe, exciting but not sexual */\n    summon: ContentLevel.SAFE,\n    /** Mail/Social: Always safe */\n    mail: ContentLevel.SAFE,\n    friends: ContentLevel.SAFE,\n    /** Shop: Safe, transactional */\n    shop: ContentLevel.SAFE\n  };\n\n  /**\n   * Affinity thresholds for content escalation\n   * Higher affinity = more intimate content allowed (within screen limits)\n   */\n  const AFFINITY_THRESHOLDS = {\n    /** Level 0-1: Safe content only */\n    safe: 0,\n    /** Level 2: Mild charm unlocked */\n    mild: 2,\n    /** Level 3: Contextual content unlocked */\n    contextual: 3,\n    /** Level 5: Intimate content unlocked (on appropriate screens) */\n    intimate: 5\n  };\n\n  /**\n   * Check if content level is allowed for a given screen\n   */\n  function isContentAllowed(screen, level) {\n    return level <= SCREEN_BOUNDARIES[screen];\n  }\n\n  /**\n   * Get maximum content level allowed for affinity\n   */\n  function getMaxContentForAffinity(affinityLevel) {\n    if (affinityLevel >= AFFINITY_THRESHOLDS.intimate) return ContentLevel.INTIMATE;\n    if (affinityLevel >= AFFINITY_THRESHOLDS.contextual) return ContentLevel.CONTEXTUAL;\n    if (affinityLevel >= AFFINITY_THRESHOLDS.mild) return ContentLevel.MILD;\n    return ContentLevel.SAFE;\n  }\n\n  /**\n   * Get effective content level (respects both screen and affinity limits)\n   */\n  function getEffectiveContentLevel(screen, affinityLevel) {\n    const screenMax = SCREEN_BOUNDARIES[screen];\n    const affinityMax = getMaxContentForAffinity(affinityLevel);\n    return Math.min(screenMax, affinityMax);\n  }\n\n  /**\n   * Content boundary rules documentation\n   * This is a reference for developers, not runtime code\n   */\n  const CONTENT_RULES = {\n    general: ['Default state is always safe / neutral', 'Intimacy requires explicit opt-in', 'Affinity gates all escalation', 'Screen boundaries are hard limits'],\n    homeScreen: ['NEVER sexual content', 'Always sanctuary tone', 'Heroes shown in neutral poses only', 'No suggestive idle animations'],\n    heroPresentation: ['Contextual content allowed (with affinity)', 'Intimate mode requires affinity 3+', 'Camera intimacy locked until threshold', 'User must opt-in to enhanced modes'],\n    storeCompliance: ['No nudity ever', 'Suggestive content gated behind age verification', 'All intimate content is implied, not explicit', 'Screenshots must pass store review']\n  };\n});","lineCount":129,"map":[[7,2,13,0,"Object"],[7,8,13,0],[7,9,13,0,"defineProperty"],[7,23,13,0],[7,24,13,0,"exports"],[7,31,13,0],[8,4,13,0,"enumerable"],[8,14,13,0],[9,4,13,0,"get"],[9,7,13,0],[9,18,13,0,"get"],[9,19,13,0],[10,6,13,0],[10,13,13,0,"ContentLevel"],[10,25,13,0],[11,4,13,0],[12,2,13,0],[13,2,31,0,"Object"],[13,8,31,0],[13,9,31,0,"defineProperty"],[13,23,31,0],[13,24,31,0,"exports"],[13,31,31,0],[14,4,31,0,"enumerable"],[14,14,31,0],[15,4,31,0,"get"],[15,7,31,0],[15,18,31,0,"get"],[15,19,31,0],[16,6,31,0],[16,13,31,0,"SCREEN_BOUNDARIES"],[16,30,31,0],[17,4,31,0],[18,2,31,0],[19,2,59,0,"Object"],[19,8,59,0],[19,9,59,0,"defineProperty"],[19,23,59,0],[19,24,59,0,"exports"],[19,31,59,0],[20,4,59,0,"enumerable"],[20,14,59,0],[21,4,59,0,"get"],[21,7,59,0],[21,18,59,0,"get"],[21,19,59,0],[22,6,59,0],[22,13,59,0,"AFFINITY_THRESHOLDS"],[22,32,59,0],[23,4,59,0],[24,2,59,0],[25,2,76,0,"exports"],[25,9,76,0],[25,10,76,0,"isContentAllowed"],[25,26,76,0],[25,29,76,0,"isContentAllowed"],[25,45,76,0],[26,2,86,0,"exports"],[26,9,86,0],[26,10,86,0,"getMaxContentForAffinity"],[26,34,86,0],[26,37,86,0,"getMaxContentForAffinity"],[26,61,86,0],[27,2,96,0,"exports"],[27,9,96,0],[27,10,96,0,"getEffectiveContentLevel"],[27,34,96,0],[27,37,96,0,"getEffectiveContentLevel"],[27,61,96,0],[28,2,109,0,"Object"],[28,8,109,0],[28,9,109,0,"defineProperty"],[28,23,109,0],[28,24,109,0,"exports"],[28,31,109,0],[29,4,109,0,"enumerable"],[29,14,109,0],[30,4,109,0,"get"],[30,7,109,0],[30,18,109,0,"get"],[30,19,109,0],[31,6,109,0],[31,13,109,0,"CONTENT_RULES"],[31,26,109,0],[32,4,109,0],[33,2,109,0],[34,2,1,0],[35,2,2,0],[36,2,3,0],[37,2,4,0],[38,2,5,0],[39,2,6,0],[40,2,7,0],[41,2,9,0],[42,0,10,0],[43,0,11,0],[44,0,12,0],[45,2,9,0],[45,6,13,12,"ContentLevel"],[45,18,13,24],[45,44,13,12,"ContentLevel"],[45,56,13,24],[46,4,14,2],[47,4,13,12,"ContentLevel"],[47,16,13,24],[47,17,13,12,"ContentLevel"],[47,29,13,24],[48,4,17,2],[49,4,13,12,"ContentLevel"],[49,16,13,24],[49,17,13,12,"ContentLevel"],[49,29,13,24],[50,4,20,2],[51,4,13,12,"ContentLevel"],[51,16,13,24],[51,17,13,12,"ContentLevel"],[51,29,13,24],[52,4,23,2],[53,4,13,12,"ContentLevel"],[53,16,13,24],[53,17,13,12,"ContentLevel"],[53,29,13,24],[54,4,13,24],[54,11,13,12,"ContentLevel"],[54,23,13,24],[55,2,13,24],[56,2,27,0],[57,0,28,0],[58,0,29,0],[59,0,30,0],[60,2,31,7],[60,8,31,13,"SCREEN_BOUNDARIES"],[60,25,31,30],[60,28,31,33],[61,4,32,2],[62,4,33,2,"home"],[62,8,33,6],[62,10,33,8,"ContentLevel"],[62,22,33,20],[62,23,33,21,"SAFE"],[62,27,33,25],[63,4,35,2],[64,4,36,2,"heroGallery"],[64,15,36,13],[64,17,36,15,"ContentLevel"],[64,29,36,27],[64,30,36,28,"SAFE"],[64,34,36,32],[65,4,38,2],[66,4,39,2,"heroDetail"],[66,14,39,12],[66,16,39,14,"ContentLevel"],[66,28,39,26],[66,29,39,27,"SAFE"],[66,33,39,31],[67,4,41,2],[68,4,42,2,"heroPresentation"],[68,20,42,18],[68,22,42,20,"ContentLevel"],[68,34,42,32],[68,35,42,33,"CONTEXTUAL"],[68,45,42,43],[69,4,44,2],[70,4,45,2,"summon"],[70,10,45,8],[70,12,45,10,"ContentLevel"],[70,24,45,22],[70,25,45,23,"SAFE"],[70,29,45,27],[71,4,47,2],[72,4,48,2,"mail"],[72,8,48,6],[72,10,48,8,"ContentLevel"],[72,22,48,20],[72,23,48,21,"SAFE"],[72,27,48,25],[73,4,49,2,"friends"],[73,11,49,9],[73,13,49,11,"ContentLevel"],[73,25,49,23],[73,26,49,24,"SAFE"],[73,30,49,28],[74,4,51,2],[75,4,52,2,"shop"],[75,8,52,6],[75,10,52,8,"ContentLevel"],[75,22,52,20],[75,23,52,21,"SAFE"],[76,2,53,0],[76,3,53,10],[78,2,55,0],[79,0,56,0],[80,0,57,0],[81,0,58,0],[82,2,59,7],[82,8,59,13,"AFFINITY_THRESHOLDS"],[82,27,59,32],[82,30,59,35],[83,4,60,2],[84,4,61,2,"safe"],[84,8,61,6],[84,10,61,8],[84,11,61,9],[85,4,63,2],[86,4,64,2,"mild"],[86,8,64,6],[86,10,64,8],[86,11,64,9],[87,4,66,2],[88,4,67,2,"contextual"],[88,14,67,12],[88,16,67,14],[88,17,67,15],[89,4,69,2],[90,4,70,2,"intimate"],[90,12,70,10],[90,14,70,12],[91,2,71,0],[91,3,71,10],[93,2,73,0],[94,0,74,0],[95,0,75,0],[96,2,76,7],[96,11,76,16,"isContentAllowed"],[96,27,76,32,"isContentAllowed"],[96,28,77,2,"screen"],[96,34,77,40],[96,36,78,2,"level"],[96,41,78,21],[96,43,79,11],[97,4,80,2],[97,11,80,9,"level"],[97,16,80,14],[97,20,80,18,"SCREEN_BOUNDARIES"],[97,37,80,35],[97,38,80,36,"screen"],[97,44,80,42],[97,45,80,43],[98,2,81,0],[100,2,83,0],[101,0,84,0],[102,0,85,0],[103,2,86,7],[103,11,86,16,"getMaxContentForAffinity"],[103,35,86,40,"getMaxContentForAffinity"],[103,36,86,41,"affinityLevel"],[103,49,86,62],[103,51,86,78],[104,4,87,2],[104,8,87,6,"affinityLevel"],[104,21,87,19],[104,25,87,23,"AFFINITY_THRESHOLDS"],[104,44,87,42],[104,45,87,43,"intimate"],[104,53,87,51],[104,55,87,53],[104,62,87,60,"ContentLevel"],[104,74,87,72],[104,75,87,73,"INTIMATE"],[104,83,87,81],[105,4,88,2],[105,8,88,6,"affinityLevel"],[105,21,88,19],[105,25,88,23,"AFFINITY_THRESHOLDS"],[105,44,88,42],[105,45,88,43,"contextual"],[105,55,88,53],[105,57,88,55],[105,64,88,62,"ContentLevel"],[105,76,88,74],[105,77,88,75,"CONTEXTUAL"],[105,87,88,85],[106,4,89,2],[106,8,89,6,"affinityLevel"],[106,21,89,19],[106,25,89,23,"AFFINITY_THRESHOLDS"],[106,44,89,42],[106,45,89,43,"mild"],[106,49,89,47],[106,51,89,49],[106,58,89,56,"ContentLevel"],[106,70,89,68],[106,71,89,69,"MILD"],[106,75,89,73],[107,4,90,2],[107,11,90,9,"ContentLevel"],[107,23,90,21],[107,24,90,22,"SAFE"],[107,28,90,26],[108,2,91,0],[110,2,93,0],[111,0,94,0],[112,0,95,0],[113,2,96,7],[113,11,96,16,"getEffectiveContentLevel"],[113,35,96,40,"getEffectiveContentLevel"],[113,36,97,2,"screen"],[113,42,97,40],[113,44,98,2,"affinityLevel"],[113,57,98,23],[113,59,99,16],[114,4,100,2],[114,10,100,8,"screenMax"],[114,19,100,17],[114,22,100,20,"SCREEN_BOUNDARIES"],[114,39,100,37],[114,40,100,38,"screen"],[114,46,100,44],[114,47,100,45],[115,4,101,2],[115,10,101,8,"affinityMax"],[115,21,101,19],[115,24,101,22,"getMaxContentForAffinity"],[115,48,101,46],[115,49,101,47,"affinityLevel"],[115,62,101,60],[115,63,101,61],[116,4,102,2],[116,11,102,9,"Math"],[116,15,102,13],[116,16,102,14,"min"],[116,19,102,17],[116,20,102,18,"screenMax"],[116,29,102,27],[116,31,102,29,"affinityMax"],[116,42,102,40],[116,43,102,41],[117,2,103,0],[119,2,105,0],[120,0,106,0],[121,0,107,0],[122,0,108,0],[123,2,109,7],[123,8,109,13,"CONTENT_RULES"],[123,21,109,26],[123,24,109,29],[124,4,110,2,"general"],[124,11,110,9],[124,13,110,11],[124,14,111,4],[124,54,111,44],[124,56,112,4],[124,91,112,39],[124,93,113,4],[124,124,113,35],[124,126,114,4],[124,161,114,39],[124,162,115,3],[125,4,117,2,"homeScreen"],[125,14,117,12],[125,16,117,14],[125,17,118,4],[125,39,118,26],[125,41,119,4],[125,64,119,27],[125,66,120,4],[125,102,120,40],[125,104,121,4],[125,135,121,35],[125,136,122,3],[126,4,124,2,"heroPresentation"],[126,20,124,18],[126,22,124,20],[126,23,125,4],[126,67,125,48],[126,69,126,4],[126,105,126,40],[126,107,127,4],[126,147,127,44],[126,149,128,4],[126,185,128,40],[126,186,129,3],[127,4,131,2,"storeCompliance"],[127,19,131,17],[127,21,131,19],[127,22,132,4],[127,38,132,20],[127,40,133,4],[127,90,133,54],[127,92,134,4],[127,139,134,51],[127,141,135,4],[127,177,135,40],[128,2,137,0],[128,3,137,10],[129,0,137,11],[129,3]],"functionMap":{"names":["<global>","isContentAllowed","getMaxContentForAffinity","getEffectiveContentLevel"],"mappings":"AAA;OC2E;CDK;OEK;CFK;OGK;CHO"},"hasCjsExports":false},"type":"js/module"}]}