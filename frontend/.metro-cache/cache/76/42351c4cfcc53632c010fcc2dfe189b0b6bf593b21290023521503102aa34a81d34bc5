{"dependencies":[{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":14,"index":78},"end":{"line":3,"column":38,"index":102}}],"key":"ud8OE6Lg8Q81+bS6ynZj2uyMPdA=","exportNames":["*"],"imports":1}},{"name":"../constants.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":18,"index":122},"end":{"line":4,"column":44,"index":148}}],"key":"o8tP4LNoHC5fuOXdC7/eBrJRbQA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var utils = require(_dependencyMap[0], \"@sentry/utils\");\n  var constants = require(_dependencyMap[1], \"../constants.js\");\n\n  /**\n   * Creates a dynamic sampling context from a client.\n   *\n   * Dispatchs the `createDsc` lifecycle hook as a side effect.\n   */\n  function getDynamicSamplingContextFromClient(trace_id, client, scope) {\n    var options = client.getOptions();\n    var _ref = client.getDsn() || {},\n      public_key = _ref.publicKey;\n    var _ref2 = scope && scope.getUser() || {},\n      user_segment = _ref2.segment;\n    var dsc = utils.dropUndefinedKeys({\n      environment: options.environment || constants.DEFAULT_ENVIRONMENT,\n      release: options.release,\n      user_segment,\n      public_key,\n      trace_id\n    });\n    client.emit && client.emit('createDsc', dsc);\n    return dsc;\n  }\n  exports.getDynamicSamplingContextFromClient = getDynamicSamplingContextFromClient;\n});","lineCount":30,"map":[[2,2,1,0,"Object"],[2,8,1,6],[2,9,1,7,"defineProperty"],[2,23,1,21],[2,24,1,22,"exports"],[2,31,1,29],[2,33,1,31],[2,45,1,43],[2,47,1,45],[3,4,1,47,"value"],[3,9,1,52],[3,11,1,54],[4,2,1,59],[4,3,1,60],[4,4,1,61],[5,2,3,0],[5,6,3,6,"utils"],[5,11,3,11],[5,14,3,14,"require"],[5,21,3,21],[5,22,3,21,"_dependencyMap"],[5,36,3,21],[5,56,3,37],[5,57,3,38],[6,2,4,0],[6,6,4,6,"constants"],[6,15,4,15],[6,18,4,18,"require"],[6,25,4,25],[6,26,4,25,"_dependencyMap"],[6,40,4,25],[6,62,4,43],[6,63,4,44],[8,2,6,0],[9,0,7,0],[10,0,8,0],[11,0,9,0],[12,0,10,0],[13,2,11,0],[13,11,11,9,"getDynamicSamplingContextFromClient"],[13,46,11,44,"getDynamicSamplingContextFromClient"],[13,47,12,2,"trace_id"],[13,55,12,10],[13,57,13,2,"client"],[13,63,13,8],[13,65,14,2,"scope"],[13,70,14,7],[13,72,15,2],[14,4,16,2],[14,8,16,8,"options"],[14,15,16,15],[14,18,16,18,"client"],[14,24,16,24],[14,25,16,25,"getOptions"],[14,35,16,35],[14,36,16,36],[14,37,16,37],[15,4,18,2],[15,8,18,2,"_ref"],[15,12,18,2],[15,15,18,36,"client"],[15,21,18,42],[15,22,18,43,"getDsn"],[15,28,18,49],[15,29,18,50],[15,30,18,51],[15,34,18,55],[15,35,18,56],[15,36,18,57],[16,6,18,21,"public_key"],[16,16,18,31],[16,19,18,31,"_ref"],[16,23,18,31],[16,24,18,10,"publicKey"],[16,33,18,19],[17,4,19,2],[17,8,19,2,"_ref2"],[17,13,19,2],[17,16,19,37,"scope"],[17,21,19,42],[17,25,19,46,"scope"],[17,30,19,51],[17,31,19,52,"getUser"],[17,38,19,59],[17,39,19,60],[17,40,19,61],[17,44,19,66],[17,45,19,67],[17,46,19,68],[18,6,19,19,"user_segment"],[18,18,19,31],[18,21,19,31,"_ref2"],[18,26,19,31],[18,27,19,10,"segment"],[18,34,19,17],[19,4,21,2],[19,8,21,8,"dsc"],[19,11,21,11],[19,14,21,14,"utils"],[19,19,21,19],[19,20,21,20,"dropUndefinedKeys"],[19,37,21,37],[19,38,21,38],[20,6,22,4,"environment"],[20,17,22,15],[20,19,22,17,"options"],[20,26,22,24],[20,27,22,25,"environment"],[20,38,22,36],[20,42,22,40,"constants"],[20,51,22,49],[20,52,22,50,"DEFAULT_ENVIRONMENT"],[20,71,22,69],[21,6,23,4,"release"],[21,13,23,11],[21,15,23,13,"options"],[21,22,23,20],[21,23,23,21,"release"],[21,30,23,28],[22,6,24,4,"user_segment"],[22,18,24,16],[23,6,25,4,"public_key"],[23,16,25,14],[24,6,26,4,"trace_id"],[25,4,27,2],[25,5,27,3],[25,6,27,4],[26,4,29,2,"client"],[26,10,29,8],[26,11,29,9,"emit"],[26,15,29,13],[26,19,29,17,"client"],[26,25,29,23],[26,26,29,24,"emit"],[26,30,29,28],[26,31,29,29],[26,42,29,40],[26,44,29,42,"dsc"],[26,47,29,45],[26,48,29,46],[27,4,31,2],[27,11,31,9,"dsc"],[27,14,31,12],[28,2,32,0],[29,2,34,0,"exports"],[29,9,34,7],[29,10,34,8,"getDynamicSamplingContextFromClient"],[29,45,34,43],[29,48,34,46,"getDynamicSamplingContextFromClient"],[29,83,34,81],[30,0,34,82],[30,3]],"functionMap":{"names":["<global>","getDynamicSamplingContextFromClient"],"mappings":"AAA;ACU;CDqB"},"hasCjsExports":true},"type":"js/module"}]}