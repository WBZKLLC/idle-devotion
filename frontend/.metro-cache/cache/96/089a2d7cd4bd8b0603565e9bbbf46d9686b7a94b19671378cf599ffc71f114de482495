{"dependencies":[{"name":"./is.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":11,"index":75},"end":{"line":3,"column":29,"index":93}}],"key":"7L+qE4U1JkzGTtK8kDgvAl12vZ8=","exportNames":["*"],"imports":1}},{"name":"./worldwide.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":18,"index":113},"end":{"line":4,"column":43,"index":138}}],"key":"SrQUD3Ho0bI6Tzb2C+2O5n+17C0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  const is = require(_dependencyMap[0], \"./is.js\");\n  const worldwide = require(_dependencyMap[1], \"./worldwide.js\");\n\n  // eslint-disable-next-line deprecation/deprecation\n  const WINDOW = worldwide.getGlobalObject();\n  const DEFAULT_MAX_STRING_LENGTH = 80;\n\n  /**\n   * Given a child DOM element, returns a query-selector statement describing that\n   * and its ancestors\n   * e.g. [HTMLElement] => body > div > input#foo.btn[name=baz]\n   * @returns generated DOM path\n   */\n  function htmlTreeAsString(elem, options = {}) {\n    if (!elem) {\n      return '<unknown>';\n    }\n\n    // try/catch both:\n    // - accessing event.target (see getsentry/raven-js#838, #768)\n    // - `htmlTreeAsString` because it's complex, and just accessing the DOM incorrectly\n    // - can throw an exception in some circumstances.\n    try {\n      let currentElem = elem;\n      const MAX_TRAVERSE_HEIGHT = 5;\n      const out = [];\n      let height = 0;\n      let len = 0;\n      const separator = ' > ';\n      const sepLength = separator.length;\n      let nextStr;\n      const keyAttrs = Array.isArray(options) ? options : options.keyAttrs;\n      const maxStringLength = !Array.isArray(options) && options.maxStringLength || DEFAULT_MAX_STRING_LENGTH;\n      while (currentElem && height++ < MAX_TRAVERSE_HEIGHT) {\n        nextStr = _htmlElementAsString(currentElem, keyAttrs);\n        // bail out if\n        // - nextStr is the 'html' element\n        // - the length of the string that would be created exceeds maxStringLength\n        //   (ignore this limit if we are on the first iteration)\n        if (nextStr === 'html' || height > 1 && len + out.length * sepLength + nextStr.length >= maxStringLength) {\n          break;\n        }\n        out.push(nextStr);\n        len += nextStr.length;\n        currentElem = currentElem.parentNode;\n      }\n      return out.reverse().join(separator);\n    } catch (_oO) {\n      return '<unknown>';\n    }\n  }\n\n  /**\n   * Returns a simple, query-selector representation of a DOM element\n   * e.g. [HTMLElement] => input#foo.btn[name=baz]\n   * @returns generated DOM path\n   */\n  function _htmlElementAsString(el, keyAttrs) {\n    const elem = el;\n    const out = [];\n    let className;\n    let classes;\n    let key;\n    let attr;\n    let i;\n    if (!elem || !elem.tagName) {\n      return '';\n    }\n    out.push(elem.tagName.toLowerCase());\n\n    // Pairs of attribute keys defined in `serializeAttribute` and their values on element.\n    const keyAttrPairs = keyAttrs && keyAttrs.length ? keyAttrs.filter(keyAttr => elem.getAttribute(keyAttr)).map(keyAttr => [keyAttr, elem.getAttribute(keyAttr)]) : null;\n    if (keyAttrPairs && keyAttrPairs.length) {\n      keyAttrPairs.forEach(keyAttrPair => {\n        out.push(`[${keyAttrPair[0]}=\"${keyAttrPair[1]}\"]`);\n      });\n    } else {\n      if (elem.id) {\n        out.push(`#${elem.id}`);\n      }\n\n      // eslint-disable-next-line prefer-const\n      className = elem.className;\n      if (className && is.isString(className)) {\n        classes = className.split(/\\s+/);\n        for (i = 0; i < classes.length; i++) {\n          out.push(`.${classes[i]}`);\n        }\n      }\n    }\n    const allowedAttrs = ['aria-label', 'type', 'name', 'title', 'alt'];\n    for (i = 0; i < allowedAttrs.length; i++) {\n      key = allowedAttrs[i];\n      attr = elem.getAttribute(key);\n      if (attr) {\n        out.push(`[${key}=\"${attr}\"]`);\n      }\n    }\n    return out.join('');\n  }\n\n  /**\n   * A safe form of location.href\n   */\n  function getLocationHref() {\n    try {\n      return WINDOW.document.location.href;\n    } catch (oO) {\n      return '';\n    }\n  }\n\n  /**\n   * Gets a DOM element by using document.querySelector.\n   *\n   * This wrapper will first check for the existance of the function before\n   * actually calling it so that we don't have to take care of this check,\n   * every time we want to access the DOM.\n   *\n   * Reason: DOM/querySelector is not available in all environments.\n   *\n   * We have to cast to any because utils can be consumed by a variety of environments,\n   * and we don't want to break TS users. If you know what element will be selected by\n   * `document.querySelector`, specify it as part of the generic call. For example,\n   * `const element = getDomElement<Element>('selector');`\n   *\n   * @param selector the selector string passed on to document.querySelector\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  function getDomElement(selector) {\n    if (WINDOW.document && WINDOW.document.querySelector) {\n      return WINDOW.document.querySelector(selector);\n    }\n    return null;\n  }\n  exports.getDomElement = getDomElement;\n  exports.getLocationHref = getLocationHref;\n  exports.htmlTreeAsString = htmlTreeAsString;\n});","lineCount":143,"map":[[2,2,1,0,"Object"],[2,8,1,6],[2,9,1,7,"defineProperty"],[2,23,1,21],[2,24,1,22,"exports"],[2,31,1,29],[2,33,1,31],[2,45,1,43],[2,47,1,45],[3,4,1,47,"value"],[3,9,1,52],[3,11,1,54],[4,2,1,59],[4,3,1,60],[4,4,1,61],[5,2,3,0],[5,8,3,6,"is"],[5,10,3,8],[5,13,3,11,"require"],[5,20,3,18],[5,21,3,18,"_dependencyMap"],[5,35,3,18],[5,49,3,28],[5,50,3,29],[6,2,4,0],[6,8,4,6,"worldwide"],[6,17,4,15],[6,20,4,18,"require"],[6,27,4,25],[6,28,4,25,"_dependencyMap"],[6,42,4,25],[6,63,4,42],[6,64,4,43],[8,2,6,0],[9,2,7,0],[9,8,7,6,"WINDOW"],[9,14,7,12],[9,17,7,15,"worldwide"],[9,26,7,24],[9,27,7,25,"getGlobalObject"],[9,42,7,40],[9,43,7,41],[9,44,7,42],[10,2,9,0],[10,8,9,6,"DEFAULT_MAX_STRING_LENGTH"],[10,33,9,31],[10,36,9,34],[10,38,9,36],[12,2,11,0],[13,0,12,0],[14,0,13,0],[15,0,14,0],[16,0,15,0],[17,0,16,0],[18,2,17,0],[18,11,17,9,"htmlTreeAsString"],[18,27,17,25,"htmlTreeAsString"],[18,28,18,2,"elem"],[18,32,18,6],[18,34,19,2,"options"],[18,41,19,9],[18,44,19,12],[18,45,19,13],[18,46,19,14],[18,48,20,2],[19,4,22,2],[19,8,22,6],[19,9,22,7,"elem"],[19,13,22,11],[19,15,22,13],[20,6,23,4],[20,13,23,11],[20,24,23,22],[21,4,24,2],[23,4,26,2],[24,4,27,2],[25,4,28,2],[26,4,29,2],[27,4,30,2],[27,8,30,6],[28,6,31,4],[28,10,31,8,"currentElem"],[28,21,31,19],[28,24,31,22,"elem"],[28,28,31,26],[29,6,32,4],[29,12,32,10,"MAX_TRAVERSE_HEIGHT"],[29,31,32,29],[29,34,32,32],[29,35,32,33],[30,6,33,4],[30,12,33,10,"out"],[30,15,33,13],[30,18,33,16],[30,20,33,18],[31,6,34,4],[31,10,34,8,"height"],[31,16,34,14],[31,19,34,17],[31,20,34,18],[32,6,35,4],[32,10,35,8,"len"],[32,13,35,11],[32,16,35,14],[32,17,35,15],[33,6,36,4],[33,12,36,10,"separator"],[33,21,36,19],[33,24,36,22],[33,29,36,27],[34,6,37,4],[34,12,37,10,"sepLength"],[34,21,37,19],[34,24,37,22,"separator"],[34,33,37,31],[34,34,37,32,"length"],[34,40,37,38],[35,6,38,4],[35,10,38,8,"nextStr"],[35,17,38,15],[36,6,39,4],[36,12,39,10,"keyAttrs"],[36,20,39,18],[36,23,39,21,"Array"],[36,28,39,26],[36,29,39,27,"isArray"],[36,36,39,34],[36,37,39,35,"options"],[36,44,39,42],[36,45,39,43],[36,48,39,46,"options"],[36,55,39,53],[36,58,39,56,"options"],[36,65,39,63],[36,66,39,64,"keyAttrs"],[36,74,39,72],[37,6,40,4],[37,12,40,10,"maxStringLength"],[37,27,40,25],[37,30,40,29],[37,31,40,30,"Array"],[37,36,40,35],[37,37,40,36,"isArray"],[37,44,40,43],[37,45,40,44,"options"],[37,52,40,51],[37,53,40,52],[37,57,40,56,"options"],[37,64,40,63],[37,65,40,64,"maxStringLength"],[37,80,40,79],[37,84,40,84,"DEFAULT_MAX_STRING_LENGTH"],[37,109,40,109],[38,6,42,4],[38,13,42,11,"currentElem"],[38,24,42,22],[38,28,42,26,"height"],[38,34,42,32],[38,36,42,34],[38,39,42,37,"MAX_TRAVERSE_HEIGHT"],[38,58,42,56],[38,60,42,58],[39,8,43,6,"nextStr"],[39,15,43,13],[39,18,43,16,"_htmlElementAsString"],[39,38,43,36],[39,39,43,37,"currentElem"],[39,50,43,48],[39,52,43,50,"keyAttrs"],[39,60,43,58],[39,61,43,59],[40,8,44,6],[41,8,45,6],[42,8,46,6],[43,8,47,6],[44,8,48,6],[44,12,48,10,"nextStr"],[44,19,48,17],[44,24,48,22],[44,30,48,28],[44,34,48,33,"height"],[44,40,48,39],[44,43,48,42],[44,44,48,43],[44,48,48,47,"len"],[44,51,48,50],[44,54,48,53,"out"],[44,57,48,56],[44,58,48,57,"length"],[44,64,48,63],[44,67,48,66,"sepLength"],[44,76,48,75],[44,79,48,78,"nextStr"],[44,86,48,85],[44,87,48,86,"length"],[44,93,48,92],[44,97,48,96,"maxStringLength"],[44,112,48,112],[44,114,48,114],[45,10,49,8],[46,8,50,6],[47,8,52,6,"out"],[47,11,52,9],[47,12,52,10,"push"],[47,16,52,14],[47,17,52,15,"nextStr"],[47,24,52,22],[47,25,52,23],[48,8,54,6,"len"],[48,11,54,9],[48,15,54,13,"nextStr"],[48,22,54,20],[48,23,54,21,"length"],[48,29,54,27],[49,8,55,6,"currentElem"],[49,19,55,17],[49,22,55,20,"currentElem"],[49,33,55,31],[49,34,55,32,"parentNode"],[49,44,55,42],[50,6,56,4],[51,6,58,4],[51,13,58,11,"out"],[51,16,58,14],[51,17,58,15,"reverse"],[51,24,58,22],[51,25,58,23],[51,26,58,24],[51,27,58,25,"join"],[51,31,58,29],[51,32,58,30,"separator"],[51,41,58,39],[51,42,58,40],[52,4,59,2],[52,5,59,3],[52,6,59,4],[52,13,59,11,"_oO"],[52,16,59,14],[52,18,59,16],[53,6,60,4],[53,13,60,11],[53,24,60,22],[54,4,61,2],[55,2,62,0],[57,2,64,0],[58,0,65,0],[59,0,66,0],[60,0,67,0],[61,0,68,0],[62,2,69,0],[62,11,69,9,"_htmlElementAsString"],[62,31,69,29,"_htmlElementAsString"],[62,32,69,30,"el"],[62,34,69,32],[62,36,69,34,"keyAttrs"],[62,44,69,42],[62,46,69,44],[63,4,70,2],[63,10,70,8,"elem"],[63,14,70,12],[63,17,70,15,"el"],[63,19,70,17],[64,4,74,2],[64,10,74,8,"out"],[64,13,74,11],[64,16,74,14],[64,18,74,16],[65,4,75,2],[65,8,75,6,"className"],[65,17,75,15],[66,4,76,2],[66,8,76,6,"classes"],[66,15,76,13],[67,4,77,2],[67,8,77,6,"key"],[67,11,77,9],[68,4,78,2],[68,8,78,6,"attr"],[68,12,78,10],[69,4,79,2],[69,8,79,6,"i"],[69,9,79,7],[70,4,81,2],[70,8,81,6],[70,9,81,7,"elem"],[70,13,81,11],[70,17,81,15],[70,18,81,16,"elem"],[70,22,81,20],[70,23,81,21,"tagName"],[70,30,81,28],[70,32,81,30],[71,6,82,4],[71,13,82,11],[71,15,82,13],[72,4,83,2],[73,4,85,2,"out"],[73,7,85,5],[73,8,85,6,"push"],[73,12,85,10],[73,13,85,11,"elem"],[73,17,85,15],[73,18,85,16,"tagName"],[73,25,85,23],[73,26,85,24,"toLowerCase"],[73,37,85,35],[73,38,85,36],[73,39,85,37],[73,40,85,38],[75,4,87,2],[76,4,88,2],[76,10,88,8,"keyAttrPairs"],[76,22,88,20],[76,25,89,4,"keyAttrs"],[76,33,89,12],[76,37,89,16,"keyAttrs"],[76,45,89,24],[76,46,89,25,"length"],[76,52,89,31],[76,55,90,8,"keyAttrs"],[76,63,90,16],[76,64,90,17,"filter"],[76,70,90,23],[76,71,90,24,"keyAttr"],[76,78,90,31],[76,82,90,35,"elem"],[76,86,90,39],[76,87,90,40,"getAttribute"],[76,99,90,52],[76,100,90,53,"keyAttr"],[76,107,90,60],[76,108,90,61],[76,109,90,62],[76,110,90,63,"map"],[76,113,90,66],[76,114,90,67,"keyAttr"],[76,121,90,74],[76,125,90,78],[76,126,90,79,"keyAttr"],[76,133,90,86],[76,135,90,88,"elem"],[76,139,90,92],[76,140,90,93,"getAttribute"],[76,152,90,105],[76,153,90,106,"keyAttr"],[76,160,90,113],[76,161,90,114],[76,162,90,115],[76,163,90,116],[76,166,91,8],[76,170,91,12],[77,4,93,2],[77,8,93,6,"keyAttrPairs"],[77,20,93,18],[77,24,93,22,"keyAttrPairs"],[77,36,93,34],[77,37,93,35,"length"],[77,43,93,41],[77,45,93,43],[78,6,94,4,"keyAttrPairs"],[78,18,94,16],[78,19,94,17,"forEach"],[78,26,94,24],[78,27,94,25,"keyAttrPair"],[78,38,94,36],[78,42,94,40],[79,8,95,6,"out"],[79,11,95,9],[79,12,95,10,"push"],[79,16,95,14],[79,17,95,15],[79,21,95,19,"keyAttrPair"],[79,32,95,30],[79,33,95,31],[79,34,95,32],[79,35,95,33],[79,40,95,38,"keyAttrPair"],[79,51,95,49],[79,52,95,50],[79,53,95,51],[79,54,95,52],[79,58,95,56],[79,59,95,57],[80,6,96,4],[80,7,96,5],[80,8,96,6],[81,4,97,2],[81,5,97,3],[81,11,97,9],[82,6,98,4],[82,10,98,8,"elem"],[82,14,98,12],[82,15,98,13,"id"],[82,17,98,15],[82,19,98,17],[83,8,99,6,"out"],[83,11,99,9],[83,12,99,10,"push"],[83,16,99,14],[83,17,99,15],[83,21,99,19,"elem"],[83,25,99,23],[83,26,99,24,"id"],[83,28,99,26],[83,30,99,28],[83,31,99,29],[84,6,100,4],[86,6,102,4],[87,6,103,4,"className"],[87,15,103,13],[87,18,103,16,"elem"],[87,22,103,20],[87,23,103,21,"className"],[87,32,103,30],[88,6,104,4],[88,10,104,8,"className"],[88,19,104,17],[88,23,104,21,"is"],[88,25,104,23],[88,26,104,24,"isString"],[88,34,104,32],[88,35,104,33,"className"],[88,44,104,42],[88,45,104,43],[88,47,104,45],[89,8,105,6,"classes"],[89,15,105,13],[89,18,105,16,"className"],[89,27,105,25],[89,28,105,26,"split"],[89,33,105,31],[89,34,105,32],[89,39,105,37],[89,40,105,38],[90,8,106,6],[90,13,106,11,"i"],[90,14,106,12],[90,17,106,15],[90,18,106,16],[90,20,106,18,"i"],[90,21,106,19],[90,24,106,22,"classes"],[90,31,106,29],[90,32,106,30,"length"],[90,38,106,36],[90,40,106,38,"i"],[90,41,106,39],[90,43,106,41],[90,45,106,43],[91,10,107,8,"out"],[91,13,107,11],[91,14,107,12,"push"],[91,18,107,16],[91,19,107,17],[91,23,107,21,"classes"],[91,30,107,28],[91,31,107,29,"i"],[91,32,107,30],[91,33,107,31],[91,35,107,33],[91,36,107,34],[92,8,108,6],[93,6,109,4],[94,4,110,2],[95,4,111,2],[95,10,111,8,"allowedAttrs"],[95,22,111,20],[95,25,111,23],[95,26,111,24],[95,38,111,36],[95,40,111,38],[95,46,111,44],[95,48,111,46],[95,54,111,52],[95,56,111,54],[95,63,111,61],[95,65,111,63],[95,70,111,68],[95,71,111,69],[96,4,112,2],[96,9,112,7,"i"],[96,10,112,8],[96,13,112,11],[96,14,112,12],[96,16,112,14,"i"],[96,17,112,15],[96,20,112,18,"allowedAttrs"],[96,32,112,30],[96,33,112,31,"length"],[96,39,112,37],[96,41,112,39,"i"],[96,42,112,40],[96,44,112,42],[96,46,112,44],[97,6,113,4,"key"],[97,9,113,7],[97,12,113,10,"allowedAttrs"],[97,24,113,22],[97,25,113,23,"i"],[97,26,113,24],[97,27,113,25],[98,6,114,4,"attr"],[98,10,114,8],[98,13,114,11,"elem"],[98,17,114,15],[98,18,114,16,"getAttribute"],[98,30,114,28],[98,31,114,29,"key"],[98,34,114,32],[98,35,114,33],[99,6,115,4],[99,10,115,8,"attr"],[99,14,115,12],[99,16,115,14],[100,8,116,6,"out"],[100,11,116,9],[100,12,116,10,"push"],[100,16,116,14],[100,17,116,15],[100,21,116,19,"key"],[100,24,116,22],[100,29,116,27,"attr"],[100,33,116,31],[100,37,116,35],[100,38,116,36],[101,6,117,4],[102,4,118,2],[103,4,119,2],[103,11,119,9,"out"],[103,14,119,12],[103,15,119,13,"join"],[103,19,119,17],[103,20,119,18],[103,22,119,20],[103,23,119,21],[104,2,120,0],[106,2,122,0],[107,0,123,0],[108,0,124,0],[109,2,125,0],[109,11,125,9,"getLocationHref"],[109,26,125,24,"getLocationHref"],[109,27,125,24],[109,29,125,27],[110,4,126,2],[110,8,126,6],[111,6,127,4],[111,13,127,11,"WINDOW"],[111,19,127,17],[111,20,127,18,"document"],[111,28,127,26],[111,29,127,27,"location"],[111,37,127,35],[111,38,127,36,"href"],[111,42,127,40],[112,4,128,2],[112,5,128,3],[112,6,128,4],[112,13,128,11,"oO"],[112,15,128,13],[112,17,128,15],[113,6,129,4],[113,13,129,11],[113,15,129,13],[114,4,130,2],[115,2,131,0],[117,2,133,0],[118,0,134,0],[119,0,135,0],[120,0,136,0],[121,0,137,0],[122,0,138,0],[123,0,139,0],[124,0,140,0],[125,0,141,0],[126,0,142,0],[127,0,143,0],[128,0,144,0],[129,0,145,0],[130,0,146,0],[131,0,147,0],[132,0,148,0],[133,2,149,0],[134,2,150,0],[134,11,150,9,"getDomElement"],[134,24,150,22,"getDomElement"],[134,25,150,23,"selector"],[134,33,150,31],[134,35,150,33],[135,4,151,2],[135,8,151,6,"WINDOW"],[135,14,151,12],[135,15,151,13,"document"],[135,23,151,21],[135,27,151,25,"WINDOW"],[135,33,151,31],[135,34,151,32,"document"],[135,42,151,40],[135,43,151,41,"querySelector"],[135,56,151,54],[135,58,151,56],[136,6,152,4],[136,13,152,11,"WINDOW"],[136,19,152,17],[136,20,152,18,"document"],[136,28,152,26],[136,29,152,27,"querySelector"],[136,42,152,40],[136,43,152,41,"selector"],[136,51,152,49],[136,52,152,50],[137,4,153,2],[138,4,154,2],[138,11,154,9],[138,15,154,13],[139,2,155,0],[140,2,157,0,"exports"],[140,9,157,7],[140,10,157,8,"getDomElement"],[140,23,157,21],[140,26,157,24,"getDomElement"],[140,39,157,37],[141,2,158,0,"exports"],[141,9,158,7],[141,10,158,8,"getLocationHref"],[141,25,158,23],[141,28,158,26,"getLocationHref"],[141,43,158,41],[142,2,159,0,"exports"],[142,9,159,7],[142,10,159,8,"htmlTreeAsString"],[142,26,159,24],[142,29,159,27,"htmlTreeAsString"],[142,45,159,43],[143,0,159,44],[143,3]],"functionMap":{"names":["<global>","htmlTreeAsString","_htmlElementAsString","keyAttrs.filter$argument_0","keyAttrs.filter.map$argument_0","keyAttrPairs.forEach$argument_0","getLocationHref","getDomElement"],"mappings":"AAA;ACgB;CD6C;AEO;wBCqB,qCD,ME,gDF;yBGI;KHE;CFwB;AMK;CNM;AOmB;CPK"},"hasCjsExports":true},"type":"js/module"}]}