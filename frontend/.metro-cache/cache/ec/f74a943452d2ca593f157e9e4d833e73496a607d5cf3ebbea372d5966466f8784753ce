{"dependencies":[{"name":"@sentry/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":39,"index":39}}],"key":"m+kcirlwHAgMIuUoyR2vCxbhWD4=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":40},"end":{"line":2,"column":40,"index":80}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"onlySampleIfChildSpans\", {\n    enumerable: true,\n    get: function () {\n      return onlySampleIfChildSpans;\n    }\n  });\n  Object.defineProperty(exports, \"cancelInBackground\", {\n    enumerable: true,\n    get: function () {\n      return cancelInBackground;\n    }\n  });\n  var _sentryUtils = require(_dependencyMap[0], \"@sentry/utils\");\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  /**\n   * Idle Transaction callback to only sample transactions with child spans.\n   * To avoid side effects of other callbacks this should be hooked as the last callback.\n   */\n  var onlySampleIfChildSpans = transaction => {\n    var spansCount = transaction.spanRecorder && transaction.spanRecorder.spans.filter(span => span.spanId !== transaction.spanId).length;\n    if (!spansCount || spansCount <= 0) {\n      _sentryUtils.logger.log(`Not sampling as ${transaction.op} transaction has no child spans.`);\n      transaction.sampled = false;\n    }\n  };\n  /**\n   * Hooks on AppState change to cancel the transaction if the app goes background.\n   */\n  var cancelInBackground = transaction => {\n    var subscription = _reactNative.AppState.addEventListener('change', newState => {\n      if (newState === 'background') {\n        _sentryUtils.logger.debug(`Setting ${transaction.op} transaction to cancelled because the app is in the background.`);\n        transaction.setStatus('cancelled');\n        transaction.finish();\n      }\n    });\n    transaction.registerBeforeFinishCallback(() => {\n      _sentryUtils.logger.debug(`Removing AppState listener for ${transaction.op} transaction.`);\n      subscription.remove();\n    });\n  };\n});","lineCount":48,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"onlySampleIfChildSpans"],[10,35,7,0],[11,4,7,0],[12,2,7,0],[13,2,18,0,"Object"],[13,8,18,0],[13,9,18,0,"defineProperty"],[13,23,18,0],[13,24,18,0,"exports"],[13,31,18,0],[14,4,18,0,"enumerable"],[14,14,18,0],[15,4,18,0,"get"],[15,7,18,0],[15,18,18,0,"get"],[15,19,18,0],[16,6,18,0],[16,13,18,0,"cancelInBackground"],[16,31,18,0],[17,4,18,0],[18,2,18,0],[19,2,1,0],[19,6,1,0,"_sentryUtils"],[19,18,1,0],[19,21,1,0,"require"],[19,28,1,0],[19,29,1,0,"_dependencyMap"],[19,43,1,0],[20,2,2,0],[20,6,2,0,"_reactNative"],[20,18,2,0],[20,21,2,0,"require"],[20,28,2,0],[20,29,2,0,"_dependencyMap"],[20,43,2,0],[21,2,3,0],[22,0,4,0],[23,0,5,0],[24,0,6,0],[25,2,7,7],[25,6,7,13,"onlySampleIfChildSpans"],[25,28,7,35],[25,31,7,39,"transaction"],[25,42,7,50],[25,46,7,55],[26,4,8,4],[26,8,8,10,"spansCount"],[26,18,8,20],[26,21,8,23,"transaction"],[26,32,8,34],[26,33,8,35,"spanRecorder"],[26,45,8,47],[26,49,9,8,"transaction"],[26,60,9,19],[26,61,9,20,"spanRecorder"],[26,73,9,32],[26,74,9,33,"spans"],[26,79,9,38],[26,80,9,39,"filter"],[26,86,9,45],[26,87,9,46,"span"],[26,91,9,50],[26,95,9,54,"span"],[26,99,9,58],[26,100,9,59,"spanId"],[26,106,9,65],[26,111,9,70,"transaction"],[26,122,9,81],[26,123,9,82,"spanId"],[26,129,9,88],[26,130,9,89],[26,131,9,90,"length"],[26,137,9,96],[27,4,10,4],[27,8,10,8],[27,9,10,9,"spansCount"],[27,19,10,19],[27,23,10,23,"spansCount"],[27,33,10,33],[27,37,10,37],[27,38,10,38],[27,40,10,40],[28,6,11,8,"logger"],[28,18,11,14],[28,19,11,14,"logger"],[28,25,11,14],[28,26,11,15,"log"],[28,29,11,18],[28,30,11,19],[28,49,11,38,"transaction"],[28,60,11,49],[28,61,11,50,"op"],[28,63,11,52],[28,97,11,86],[28,98,11,87],[29,6,12,8,"transaction"],[29,17,12,19],[29,18,12,20,"sampled"],[29,25,12,27],[29,28,12,30],[29,33,12,35],[30,4,13,4],[31,2,14,0],[31,3,14,1],[32,2,15,0],[33,0,16,0],[34,0,17,0],[35,2,18,7],[35,6,18,13,"cancelInBackground"],[35,24,18,31],[35,27,18,35,"transaction"],[35,38,18,46],[35,42,18,51],[36,4,19,4],[36,8,19,10,"subscription"],[36,20,19,22],[36,23,19,25,"AppState"],[36,35,19,33],[36,36,19,33,"AppState"],[36,44,19,33],[36,45,19,34,"addEventListener"],[36,61,19,50],[36,62,19,51],[36,70,19,59],[36,72,19,62,"newState"],[36,80,19,70],[36,84,19,75],[37,6,20,8],[37,10,20,12,"newState"],[37,18,20,20],[37,23,20,25],[37,35,20,37],[37,37,20,39],[38,8,21,12,"logger"],[38,20,21,18],[38,21,21,18,"logger"],[38,27,21,18],[38,28,21,19,"debug"],[38,33,21,24],[38,34,21,25],[38,45,21,36,"transaction"],[38,56,21,47],[38,57,21,48,"op"],[38,59,21,50],[38,124,21,115],[38,125,21,116],[39,8,22,12,"transaction"],[39,19,22,23],[39,20,22,24,"setStatus"],[39,29,22,33],[39,30,22,34],[39,41,22,45],[39,42,22,46],[40,8,23,12,"transaction"],[40,19,23,23],[40,20,23,24,"finish"],[40,26,23,30],[40,27,23,31],[40,28,23,32],[41,6,24,8],[42,4,25,4],[42,5,25,5],[42,6,25,6],[43,4,26,4,"transaction"],[43,15,26,15],[43,16,26,16,"registerBeforeFinishCallback"],[43,44,26,44],[43,45,26,45],[43,51,26,51],[44,6,27,8,"logger"],[44,18,27,14],[44,19,27,14,"logger"],[44,25,27,14],[44,26,27,15,"debug"],[44,31,27,20],[44,32,27,21],[44,66,27,55,"transaction"],[44,77,27,66],[44,78,27,67,"op"],[44,80,27,69],[44,95,27,84],[44,96,27,85],[45,6,28,8,"subscription"],[45,18,28,20],[45,19,28,21,"remove"],[45,25,28,27],[45,26,28,28],[45,27,28,29],[46,4,29,4],[46,5,29,5],[46,6,29,6],[47,2,30,0],[47,3,30,1],[48,0,30,2],[48,3]],"functionMap":{"names":["<global>","onlySampleIfChildSpans","spanRecorder.spans.filter$argument_0","cancelInBackground","AppState.addEventListener$argument_1","registerBeforeFinishCallback$argument_0"],"mappings":"AAA;sCCM;8CCE,0CD;CDK;kCGI;6DCC;KDM;6CEC;KFG;CHC"},"hasCjsExports":false},"type":"js/module"}]}